http://www.depesz.com/2010/06/02/omnipitr/
HTTP/1.1 200 OK
Server: nginx
Date: Tue, 22 Jul 2014 14:50:01 GMT
Content-Type: text/html; charset=UTF-8
Connection: close
X-Powered-By: PHP/5.5.12-1
X-Pingback: http://www.depesz.com/xmlrpc.php
Link: <http://www.depesz.com/?p=1719>; rel=shortlink

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="coder" content="MHweb.pl" />
<title>select * from depesz;  &raquo; Blog Archive   &raquo; OmniPITR</title>
<meta name="generator" content="WordPress 3.9.1" /> <!-- leave this for stats -->
<link rel="stylesheet" href="http://www.depesz.com/wp-content/themes/depesz/style.css" type="text/css" media="screen" />
<!-- <link rel="stylesheet" href="http://mhweb.pl/work/wp/wp-content/themes/blue-box/style1.css" type="text/css" media="screen" /> -->

<link rel="alternate" type="application/rss+xml" title="select * from depesz; RSS Feed" href="http://www.depesz.com/feed/" />
<link rel="pingback" href="http://www.depesz.com/xmlrpc.php" />
<link rel="alternate" type="application/rss+xml" title="select * from depesz; &raquo; OmniPITR Comments Feed" href="http://www.depesz.com/2010/06/02/omnipitr/feed/" />
<link rel='stylesheet' id='cookie-style-css'  href='http://www.depesz.com/wp-content/plugins/cookie-warning/cookiewarning.css?ver=3.9.1' type='text/css' media='all' />
<link rel='stylesheet' id='wp-syntax-css-css'  href='http://www.depesz.com/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.0' type='text/css' media='all' />
<link rel='stylesheet' id='wordpress-popular-posts-css'  href='http://www.depesz.com/wp-content/plugins/wordpress-popular-posts/style/wpp.css?ver=3.0.3' type='text/css' media='all' />
<script type='text/javascript' src='http://www.depesz.com/wp-includes/js/jquery/jquery.js?ver=1.11.0'></script>
<script type='text/javascript' src='http://www.depesz.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var user_options = {"messageContent":"In order for this site to work properly, and in order to evaluate and improve the site we need to store small files (called cookies) on your computer.<br\/> Over 90% of all websites do this, however, since the 25th of May 2011 we are required by EU regulations to obtain your consent first. What do you say?","redirectLink":"http:\/\/google.com","okText":"That's fine","notOkText":"I don't agree","cookieName":"jsCookiewarning29Check","ajaxUrl":"http:\/\/www.depesz.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.depesz.com/wp-content/plugins/cookie-warning/cookiewarning.js?ver=3.9.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.depesz.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.depesz.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 3.9.1" />
<link rel='canonical' href='http://www.depesz.com/2010/06/02/omnipitr/' />
<link rel='shortlink' href='http://www.depesz.com/?p=1719' />

<link rel="stylesheet" href="http://www.depesz.com/wp-content/plugins/dd-formmailer/dd-formmailer.css" type="text/css" media="screen" />
<style type="text/css">

</style>
<!--[if lte IE 7]><link href="http://mhweb.pl/work/wp/wp-content/themes/blue-box/ie.css" rel="stylesheet" type="text/css" /><![endif]-->
<!--[if lte IE 6]><link href="http://mhweb.pl/work/wp/wp-content/themes/blue-box/ie6.css" rel="stylesheet" type="text/css" /><![endif]-->
</head>
<body>
<div id="box">
	<div id="up">
		<div id="logo"></div>
		<div id="menu">

			<div class="lc"></div>
			
			<div class="main">
				<div id="nav">
					<ul class="nav">
					<li class="first"><a href="http://www.depesz.com">Blog</a></li>
					<li class="page_item page-item-1947"><a href="http://www.depesz.com/projects/">Projects</a></li>
<li class="page_item page-item-1618"><a href="http://www.depesz.com/contact/">Contact</a></li>
					</ul>
				</div>
			</div>

			<div class="rc"></div>

		</div>
	</div>

	<div id="top_cont"></div>
	<div id="mainbck">



	<div id="content">

	
		<div class="entry">
			<div class="post" id="post-1719">
				<div class="topek">
					<div class="name">
						<a href="http://www.depesz.com/2010/06/02/omnipitr/" rel="bookmark" title="Permanent Link to OmniPITR">OmniPITR</a><div class="rss-img"><a href="http://www.depesz.com/feed/">&nbsp;&nbsp;</a></div>
					</div>

					<small>June 2nd, 2010 by depesz | Tags: <a href="http://www.depesz.com/tag/announcements/" rel="tag">announcements</a>, <a href="http://www.depesz.com/tag/omnipitr/" rel="tag">omnipitr</a>, <a href="http://www.depesz.com/tag/omniti/" rel="tag">omniti</a>, <a href="http://www.depesz.com/tag/perl/" rel="tag">perl</a>, <a href="http://www.depesz.com/tag/postgresql/" rel="tag">postgresql</a> |  <a href="http://www.depesz.com/2010/06/02/omnipitr/#comments" title="Comment on OmniPITR">16 comments &#187;</a></small>
<br><small><big>Did it help? If yes - maybe you can help me? Donate BTC to <a href="https://blockchain.info/address/19zPa5diT2LZqGtTi8f8bfApLn8rw9zBHx">19zPa5diT2LZqGtTi8f8bfApLn8rw9zBHx</a></big></small>
				</div>
				
				<div class="the">
					<p>Thanks to the company I work for <a href="http://www.omniti.com/">OmniTI</a> I was working on pretty cool project. Name of the project is OmniPITR, and here is what it is, why, how, and where to get it.</p>
<p><span id="more-1719"></span></p>
<p>We are using WAL replication quite extensively. We also do make hot backups a lot. What bugged me (and possibly other, but it could be that I just whined and whined, and they simply say: OK, if you don't like it &#8211; fix it) was that it was always complicated setup.</p>
<p>We had some program to archive wal segments. Then there was cronjob to move them to 2 places (backup server, and slave server), then we used pg_restore, sometimes with %r and sometimes without (%r removed obsolete segments).</p>
<p>On top of it there are backups which get tricky &#8211; we need to make them on master, which means we have to have wal segments on master, and we need something to cleanup in wal archive on master afterwards. All in all &#8211; it worked, but I always felt it could be done in a more self-contained way.</p>
<p>Now, this way has materialized.</p>
<p>As of now the project doesn't have it's page, but you can <a href="https://labs.omniti.com/trac/pgtreats/browser/trunk/omnipitr">browse</a> or <a href="https://labs.omniti.com/pgtreats/trunk/omnipitr">download (via svn co)</a> the sources. Which work. And don't require compilation.</p>
<p>What OmniPITR is? It's one simple set of tools, where each tool has its own set of tasks, and number of tools is as small as possible, which let me handle all parts of WAL-replication and backup:</p>
<ul>
<li>archiving wal segments</li>
<li>making hot backups</li>
<li>restoration of wal segments on slave</li>
</ul>
<p>These are done already. And work. And are (at least to the extent of our possibilities) tested.</p>
<p>We also work on:</p>
<ul>
<li>making hot backups on slave</li>
<li>single tool to monitor state of replication/backups</li>
</ul>
<p>Now. What's cool about it? Let me list some features:</p>
<ul>
<li>It has documentation. Actually &#8211; documentation is written before code.</li>
<li>It has full step by step howto about setting replication</li>
<li>It works transparently with archived wal segments &#8211; i.e. uses less disk space. Supports gzip, bzip2 and lzma compressions.</li>
<li>Has the ability to apply wal segments on slave with delay &#8211; for example to protect against propagating &#8216;TRUNCATE TABLE users' executed on master to slave(s)</li>
<li>PostgreSQL license &#8211; basically &#8211; do what you want</li>
<li>Is fully configurable using command line options</li>
<li>Did I mention that there are docs?</li>
</ul>
<p>To use it you need:</p>
<ul>
<li>Some will. It will not work on itself. You have to set it up (although there is detailed howto provided).</li>
<li>Some unix machine(s) &#8211; I didn't test it on Windows and I just don't have any. It might work, but currently &#8211; it just hasn't been run</li>
<li>Perl. I know. perl sucks, is unreadable, there are better languages, and so on. Right. So you need Perl</li>
<li>Perldoc program. It should come in with perl, if not &#8211; it is in some separate package, like perl-doc. This is not strictly requires, but it helps with reading docs.</li>
<li>PostgreSQL. We tested it from 8.2 on.</li>
</ul>
<p>Missing features (backup on slave, monitoring, and whatever is in todo doc) will be added in short future. Generally I expect to have backup on slave by the end of next week.</p>
<p>Now for some short Q&#038;A:</p>
<ul>
<li><b>Why docs are in perldoc? Why not .html?</b></li>
<li>Because I like perldoc. If you want .html &#8211; there is pod2html program bundled with Perl</li>
<li><b>Really, why didn't you write it in some sensible language? Python? Ruby? Go? Java?</b></li>
<li>Well. Perl is sensible for me. It's by default on most unices, it behaves the same (or close to the same) everywhere, and it is powerful (or: powerful enough) to let me do anything I want</li>
<li><b>Isn't it obsolete by the fact that in 9.0 there is streaming replication?</b></li>
<li>Not really. You still need restore_command on slave to start the procedure, and handle cases where you'd have to &#8220;catch-up" for whatever reason ( network issues, slave downtime). Also &#8211; OmniPITR also handles hot backup, which are not solved by streaming replication.</li>
<li><b>Why make it public/free?</b></li>
<li>First of all &#8211; I'm very selfish. I want my piece of software to be as good as possible. This means &#8211; tests. I can perform only so many tests. With new users I get broader test base. I get to fix occasional bugs, but generally the product gets better. And second of all &#8211; I think it is nice way of having wal replication, so why not share it if I can? I got my Pg for free after all.</li>
</ul>
<p>That's about it. If you'd want to play with it &#8211; fine, go for it. If you have problems &#8211; please let me know. If you think docs are wrong in any way &#8211; please let me know. And have some fun.</p>

									</div>
			</div>
		</div>
			
		<div class="comm">
			
<!-- You can start editing here. -->

<div class="bobcomments">




	<ol class="commentlist">

	<li class="commenthead"><h3 id="comments">16 comments <a href='http://www.depesz.com/2010/06/02/omnipitr/feed/'><div class="rss-img"></div></a></h3></li>
	
			
<li class="odd" id="comment-29849" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-29849" title="">#</a></span> Anonymous</div>  <div class="date">Jun 2, 2010</div></div>
				<img alt='' src='http://0.gravatar.com/avatar/?d=identicon&amp;s=64' class='avatar avatar-64 photo avatar-default' height='64' width='64' />		<p>I don&#8217;t agree with your assessment of Perl. I think it&#8217;s beautiful, can be made readable (every language can easily be made unreadable), it&#8217;s practical, it&#8217;s efficient and incredible powerful (especially if you use CPAN).</p>
	</li>
		
		
			
<li class="mycomment" id="comment-29850" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-29850" title="">#</a></span> <a href='http://www.depesz.com/' rel='external nofollow' class='url'>depesz</a></div>  <div class="date">Jun 2, 2010</div></div>
				<img alt='' src='http://1.gravatar.com/avatar/d5ecebb85919589a7cbf7f90eb34eacf?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>@Anonymous,<br />
Well, thank you for your comment, Captain Obvious.</p>
	</li>
		
		
			
<li class="odd" id="comment-29851" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-29851" title="">#</a></span> <a href='http://www.xzilla.net/' rel='external nofollow' class='url'>Robert Treat</a></div>  <div class="date">Jun 2, 2010</div></div>
				<img alt='' src='http://1.gravatar.com/avatar/3faac8774ace915355d2c55c0587f9b4?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>Probably worth mentioning, we are using this in production in a number of places, including multiple versions of Postgres, and on several different flavors of *nix OS&#8217;s. This isn&#8217;t to say people wont find bugs as it is tried in more scenarios, indeed we welcome some feedback like that, but we have a reasonable level of confidence that this wont eat your data. <img src="http://www.depesz.com/wp-includes/images/smilies/icon_smile.gif" alt=":-)" class="wp-smiley" /> </p>
	</li>
		
		
			
<li class="odd" id="comment-29853" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-29853" title="">#</a></span> <a href='http://www.commandprompt.com/' rel='external nofollow' class='url'>Joshua Drake</a></div>  <div class="date">Jun 2, 2010</div></div>
				<img alt='' src='http://0.gravatar.com/avatar/6262e11f4e1ba4feb31b9571a715dd56?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>Why did you just use walmgr or pitrtools as a basis? They are already well defined tools with existing user bases. They are also both open source.</p>
	</li>
		
		
			
<li class="mycomment" id="comment-29854" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-29854" title="">#</a></span> <a href='http://www.depesz.com/' rel='external nofollow' class='url'>depesz</a></div>  <div class="date">Jun 2, 2010</div></div>
				<img alt='' src='http://1.gravatar.com/avatar/d5ecebb85919589a7cbf7f90eb34eacf?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>@Joshua:<br />
Nope. Wrote from scratch. I was not aware of pitrtools, and as for walmgr (and now that I know of pitrtools &#8211; same thing applies) &#8211; it&#8217;s in python. While it would be interesting to learn better python, I definitely prefer Perl.</p>
	</li>
		
		
			
<li class="odd" id="comment-29888" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-29888" title="">#</a></span> ..</div>  <div class="date">Jun 11, 2010</div></div>
				<img alt='' src='http://0.gravatar.com/avatar/6944cf1c35a1f9da41be5017881ceef9?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>you seem like a douche bag and everything you said is wrong</p>
	</li>
		
		
			
<li class="odd" id="comment-29969" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-29969" title="">#</a></span> Valentine Gogichashvili</div>  <div class="date">Jun 24, 2010</div></div>
				<img alt='' src='http://0.gravatar.com/avatar/08539ac65983449f00c40e3f66070030?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>Hi, </p>
<p>I have some suggestions(?) on the omnipitr-backup-master:</p>
<p>It would be really nice if omnipitr-backup-master could push the archive directly to the standby machine (without creating a temp file) or even directly rsync the data directory there. </p>
<p>It would make it much easier to create an initial stapshot on the standby machine without first creating a temp file, then pushing it to the standby and then unpacking it there. </p>
<p>With best regards, </p>
<p>&#8211; Valentine Gogichashvili</p>
	</li>
		
		
			
<li class="mycomment" id="comment-29971" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-29971" title="">#</a></span> <a href='http://www.depesz.com/' rel='external nofollow' class='url'>depesz</a></div>  <div class="date">Jun 24, 2010</div></div>
				<img alt='' src='http://1.gravatar.com/avatar/d5ecebb85919589a7cbf7f90eb34eacf?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>@Valentine:<br />
I don&#8217;t think about it as interesting feature &#8211; backup-master is a tool for making hot backups &#8211; i.e. set it in cron, and have it running every day. adding special functionality (which can be just got by running rsync program directly) that serves to help with side-functionality &#8211; while technically possible &#8211; doesn&#8217;t strike me as very crucial &#8211; after all &#8211; helping with setup of pitr-slave, is just a side effect, and omnipitr-backup-master is not even particulary good at it, since it backups also xlogs, which are useless for setting replication.</p>
<p>That said &#8211; if I&#8217;ll ever have more time, I will probably make another script (not extension for backup-*) for helping setup of pitr-slave. It&#8217;s just that currently there are other priorities (biggest being finishing backup-slave tool).</p>
	</li>
		
		
			
<li class="odd" id="comment-30047" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-30047" title="">#</a></span> <a href='http://valgogtech.blogspot.com/' rel='external nofollow' class='url'>Valentine Gogichashvili</a></div>  <div class="date">Jul 22, 2010</div></div>
				<img alt='' src='http://0.gravatar.com/avatar/08539ac65983449f00c40e3f66070030?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>Thank you for your response. I just found your comment&#8230; no notification is done by the blogging service about new comments <img src="http://www.depesz.com/wp-includes/images/smilies/icon_sad.gif" alt=":(" class="wp-smiley" />  anyway my fault <img src="http://www.depesz.com/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /> </p>
<p>Yes, you are right about the separate script. The reason, why I asked for that, as I could not find any nice way to control omnipitr-archive if I want to make an rsync manually. </p>
<p>&#8211; Valentine Gogichashvili</p>
	</li>
		
		
			
<li class="mycomment" id="comment-30049" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-30049" title="">#</a></span> <a href='http://www.depesz.com/' rel='external nofollow' class='url'>depesz</a></div>  <div class="date">Jul 22, 2010</div></div>
				<img alt='' src='http://1.gravatar.com/avatar/d5ecebb85919589a7cbf7f90eb34eacf?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>@Valentine:<br />
there is rss feed for comments, that you can subscribe to.</p>
<p>In firefox, in address bar, there is rss icon, and when you&#8217;ll press it, it will list you all available rss channels &#8211; and it includes comments.</p>
<p>I&#8217;m not sure I understand what you need/want. Care to elaborate? Why would you want to control omnipitr-archive separately? What is the flow you&#8217;re trying to achieve?</p>
	</li>
		
		
			
<li class="odd" id="comment-30050" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-30050" title="">#</a></span> <a href='http://valgogtech.blogspot.com/' rel='external nofollow' class='url'>Valentine Gogichashvili</a></div>  <div class="date">Jul 22, 2010</div></div>
				<img alt='' src='http://0.gravatar.com/avatar/08539ac65983449f00c40e3f66070030?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>Hm&#8230; maybe I do not understand something about initial pushing of the live system to the standby server. </p>
<p>As WAL files, that are successfully processed by the archive_command are dropped, and I thought, that one had to stop archive_command from copying WAL files during the initial backup to the standby server. </p>
<p>Eventually now, when I (re)think about it, the WAL files are shipped to the standby server by the archive_command and they are not needed to be included into the rsync (as I was doing before). </p>
<p>I hope now I understand where I was wrong and will try to just use the rsync without stopping WAL shipping. </p>
<p>Thanks for the right question, </p>
<p>&#8211; Valentine</p>
	</li>
		
		
			
<li class="mycomment" id="comment-30051" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-30051" title="">#</a></span> <a href='http://www.depesz.com/' rel='external nofollow' class='url'>depesz</a></div>  <div class="date">Jul 22, 2010</div></div>
				<img alt='' src='http://1.gravatar.com/avatar/d5ecebb85919589a7cbf7f90eb34eacf?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>@Valentine:<br />
Generally for initial sending, simply skip pg_xlog directory, as it should be clean when starting slave server anyway, so there is no point in rsyncing it.</p>
	</li>
		
		
			
<li class="odd" id="comment-30316" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-30316" title="">#</a></span> Chris</div>  <div class="date">Oct 11, 2010</div></div>
				<img alt='' src='http://0.gravatar.com/avatar/6afc913c2a64f4c8c50700ad5c659b7e?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>How do you get the backup program to backup multiple directories?  I have our main db in say /db1 and our tablespaces in /db2.  The omnipitr-backup-master does not seem to cleanly handle this, or am I missing something?  Thanks for the great work.</p>
	</li>
		
		
			
<li class="mycomment" id="comment-30318" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-30318" title="">#</a></span> <a href='http://www.depesz.com/' rel='external nofollow' class='url'>depesz</a></div>  <div class="date">Oct 11, 2010</div></div>
				<img alt='' src='http://1.gravatar.com/avatar/d5ecebb85919589a7cbf7f90eb34eacf?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>@Chris:<br />
Fair point. I totally forgot about it.</p>
<p>Well &#8211; currently omnipitr doesn&#8217;t support it.</p>
<p>Will need to think about how to sensibly implement it, as there are much more problems with it than with single-tablespace approach (for example &#8211; you should keep the same paths after recovering).</p>
	</li>
		
		
			
<li class="odd" id="comment-35431" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-35431" title="">#</a></span> Nicolas</div>  <div class="date">Apr 18, 2012</div></div>
				<img alt='' src='http://0.gravatar.com/avatar/c65ba87755c88f0e3e69baeda95fd7cc?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>Hi </p>
<p>We are trying to use the tool in a study for pg 9.2 we are doing for our company. </p>
<p>However the omnipitr-monitor seems not to work:</p>
<p>Can&#8217;t locate object method &#8220;new&#8221; via package &#8220;OmniPITR::Program::Monitor&#8221; at /var/opt/hosting/build/omniti-labs-omnipitr-e499c60/bin/omnipitr-monitor line 10.</p>
<p>I checked the omnipitr/lib/OmniPITR/Program/Monitor.pm file is very light..</p>
<p>If you can help..</p>
<p>Thanks</p>
<p>Nicolas</p>
	</li>
		
		
			
<li class="mycomment" id="comment-35432" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-35432" title="">#</a></span> <a href='http://depesz.com/' rel='external nofollow' class='url'>depesz</a></div>  <div class="date">Apr 18, 2012</div></div>
				<img alt='' src='http://1.gravatar.com/avatar/d5ecebb85919589a7cbf7f90eb34eacf?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>@Nicolas:<br />
answer is simple, but unlikely to be helpful &#8211; monitor is simply not yet implemented. It is in queue, and it will be under development soon-ish, but there is no eta as for now.</p>
	</li>
		
		
		
	</ol>
	
	
	

	
	
	<form action="http://www.depesz.com/wp-comments-post.php" method="post" id="commentform">

	<h2 id="respond">Leave a comment</h2>

		
	
		<label for="author">Name</label>
		<input type="text" name="author" id="author" value="" size="22" tabindex="2" />
				
		<label for="email">E-mail</label>
		<input type="text" name="email" id="email" value="" tabindex="3" size="22" />		
		
		<label for="url">Website</label>
		<input type="text" name="url" id="url" value="" size="22" tabindex="4" />
	
	
		<label for="text">Your text</label>
		<textarea name="comment" id="comment" cols="5" rows="10" tabindex="5"></textarea>

		<input name="submit" type="submit" id="submit" tabindex="6" value="Submit comment" />
		<input type="hidden" name="comment_post_ID" value="1719" />
	
	<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="db1f5ba3e8" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="234"/></p>
	</form>


</div>
		</div>
	
	
	</div>
<div id="sidebar">
<div class="rsidebar">
		<ul>
			<li id="search-3" class="widget widget_search"><h2 class="widgettitle">Search</h2>
<form method="get" id="searchform" action="http://www.depesz.com/">
<input name="s" id="s" type="text" value="Write your text. Press the button!" onfocus="if (this.value == 'Write your text. Press the button!') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Write your text. Press the button!';}" tabindex="1"/>
<input type="submit" id="searchsubmit" value="" />
</form>
<br /><br />
<div id="podzialka"></div></li>
<li id="linkcat-659" class="widget widget_links"><h2 class="widgettitle">Follow me</h2>

	<ul class='xoxo blogroll'>
<li><a href="http://www.depesz.com/comments/feed/">Comments RSS</a></li>
<li><a href="http://depesz.com/feed/">Posts RSS</a></li>

	</ul>
</li>


<!-- Wordpress Popular Posts Plugin v3.0.3 [W] [weekly] [views] [regular] -->
<li id="wpp-3" class="widget popular-posts">
<h2 class="widgettitle">Popular Posts</h2>

<ul class="wpp-list">
<li><a href="http://www.depesz.com/2014/07/14/waiting-for-9-5-implement-import-foreign-schema/" title="Waiting for 9.5 &#8211; Implement IMPORT FOREIGN SCHEMA." class="wpp-post-title" target="_self">Waiting for 9.5 &#8211; Implement IMPORT FOREIGN SCHEMA.</a>  <span class="post-stats"><span class="wpp-comments">2 comments</span> | <span class="wpp-views">647 views</span></span> </li>
<li><a href="http://www.depesz.com/2014/07/15/waiting-for-9-5-psql-show-tablespace-size-in-db/" title="Waiting for 9.5 &#8211; psql: Show tablespace size in \db+" class="wpp-post-title" target="_self">Waiting for 9.5 &#8211; psql: Show tablespace size in \db+</a>  <span class="post-stats"><span class="wpp-comments">4 comments</span> | <span class="wpp-views">622 views</span></span> </li>
<li><a href="http://www.depesz.com/2012/06/10/why-is-upsert-so-complicated/" title="Why is UPSERT so complicated?" class="wpp-post-title" target="_self">Why is UPSERT so complicated?</a>  <span class="post-stats"><span class="wpp-comments">0 comments</span> | <span class="wpp-views">286 views</span></span> </li>
<li><a href="http://www.depesz.com/2010/03/02/charx-vs-varcharx-vs-varchar-vs-text/" title="CHAR(x) vs. VARCHAR(x) vs. VARCHAR vs. TEXT &#8211; UPDATED 2010-03-03" class="wpp-post-title" target="_self">CHAR(x) vs. VARCHAR(x) vs. VARCHAR vs. TEXT &#8211; UPDATED 2010-03-03</a>  <span class="post-stats"><span class="wpp-comments">0 comments</span> | <span class="wpp-views">225 views</span></span> </li>
<li><a href="http://www.depesz.com/2011/05/06/understanding-postgresql-conf-log/" title="Understanding postgresql.conf : log*" class="wpp-post-title" target="_self">Understanding postgresql.conf : log*</a>  <span class="post-stats"><span class="wpp-comments">0 comments</span> | <span class="wpp-views">159 views</span></span> </li>
<li><a href="http://www.depesz.com/2012/06/09/how-much-ram-is-postgresql-using/" title="How much RAM is PostgreSQL using?" class="wpp-post-title" target="_self">How much RAM is PostgreSQL using?</a>  <span class="post-stats"><span class="wpp-comments">0 comments</span> | <span class="wpp-views">150 views</span></span> </li>
<li><a href="http://www.depesz.com/2008/05/05/error-operator-does-not-exist-integer-text-how-to-fix-it/" title="&#8220;ERROR:  operator does not exist: integer = text&#8221; how to fix it?" class="wpp-post-title" target="_self">&#8220;ERROR:  operator does not exist: integer = text&#8221; how to fix it?</a>  <span class="post-stats"><span class="wpp-comments">0 comments</span> | <span class="wpp-views">135 views</span></span> </li>
<li><a href="http://www.depesz.com/2014/01/29/getting-count-of-distinct-elements-per-group-in-postgresql/" title="Getting count of distinct elements, per group, in PostgreSQL." class="wpp-post-title" target="_self">Getting count of distinct elements, per group, in PostgreSQL.</a>  <span class="post-stats"><span class="wpp-comments">0 comments</span> | <span class="wpp-views">133 views</span></span> </li>
<li><a href="http://www.depesz.com/2011/07/14/write-ahead-log-understanding-postgresql-conf-checkpoint_segments-checkpoint_timeout-checkpoint_warning/" title="Write Ahead Log + Understanding postgresql.conf: checkpoint_segments, checkpoint_timeout, checkpoint_warning" class="wpp-post-title" target="_self">Write Ahead Log + Understanding postgresql.conf: checkpoint_segments, checkpoint_timeout, checkpoint_warning</a>  <span class="post-stats"><span class="wpp-comments">0 comments</span> | <span class="wpp-views">123 views</span></span> </li>
<li><a href="http://www.depesz.com/2011/03/07/waiting-for-9-1-foreach-in-array/" title="Waiting for 9.1 &#8211; FOREACH IN ARRAY" class="wpp-post-title" target="_self">Waiting for 9.1 &#8211; FOREACH IN ARRAY</a>  <span class="post-stats"><span class="wpp-comments">0 comments</span> | <span class="wpp-views">108 views</span></span> </li>

</ul>
</li>

<!-- End Wordpress Popular Posts Plugin v3.0.3 -->
<li id="linkcat-4" class="widget widget_links"><h2 class="widgettitle">postgresql</h2>

	<ul class='xoxo blogroll'>
<li><a href="http://www.postgresql.org/docs/current/interactive/index.html">Documentation</a></li>
<li><a href="http://explain.depesz.com/">Explain Analyze analyzer</a></li>
<li><a href="irc://irc.freenode.net/#postgresql">IRC help channel</a></li>
<li><a href="http://archives.postgresql.org/">Mailing Lists search</a></li>
<li><a href="http://planet.postgresql.org/">PG Planet</a></li>
<li><a href="http://www.postgresql.org/" title="strona domowa postgresqla">PostgreSQL Home Page</a></li>

	</ul>
</li>

<li id="linkcat-376" class="widget widget_links"><h2 class="widgettitle">About me</h2>

	<ul class='xoxo blogroll'>
<li><a href="http://search.cpan.org/~depesz/">CPAN</a></li>
<li><a href="https://github.com/depesz/">GitHub</a></li>
<li><a href="http://linkedin.com/in/depesz">Linked In</a></li>
<li><a href="http://www.depesz.com/toyota-gt86/">Samoch√≥d</a></li>

	</ul>
</li>

<li id="theme-switcher" class="widget widget_themeswitcher"><h2 class="widgettitle">Theme</h2>
<ul id="themeswitcher">
<li>
       <select style="width:140px" name="themeswitcher" onchange="location.href='http://www.depesz.com/index.php?wptheme=' + this.options[this.selectedIndex].value;">
               <option value="AS 400">AS 400</option>
               <option value="GrayGA">GrayGA</option>
               <option value="Twenty Eleven">Twenty Eleven</option>
               <option value="Twenty Fourteen">Twenty Fourteen</option>
               <option value="Twenty Ten">Twenty Ten</option>
               <option value="Twenty Thirteen">Twenty Thirteen</option>
               <option value="Twenty Twelve">Twenty Twelve</option>
               <option value="WordPress Classic">WordPress Classic</option>
               <option value="WordPress Default">WordPress Default</option>
               <option value="Wordpress Depesz" selected="selected">Wordpress Depesz</option>
       </select>
</li>
</ul></li>
		</ul>
</div>
		
</div>



<div id="space"></div>
</div>
<div id="bottom">
	<div class="navigation">			
					</div>
</div>

<!-- Powered by WPtouch: 3.4.4 --><script type='text/javascript' src='http://www.depesz.com/wp-content/plugins/akismet/_inc/form.js?ver=3.0.1'></script>
</div>

</body>
</html>

