http://www.depesz.com/2010/12/11/waiting-for-9-1-knngist/
HTTP/1.1 200 OK
Server: nginx
Date: Tue, 22 Jul 2014 19:42:30 GMT
Content-Type: text/html; charset=UTF-8
Connection: close
X-Powered-By: PHP/5.5.12-1
X-Pingback: http://www.depesz.com/xmlrpc.php
Link: <http://www.depesz.com/?p=1926>; rel=shortlink

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="coder" content="MHweb.pl" />
<title>select * from depesz;  &raquo; Blog Archive   &raquo; Waiting for 9.1 &#8211; KNNGIST</title>
<meta name="generator" content="WordPress 3.9.1" /> <!-- leave this for stats -->
<link rel="stylesheet" href="http://www.depesz.com/wp-content/themes/depesz/style.css" type="text/css" media="screen" />
<!-- <link rel="stylesheet" href="http://mhweb.pl/work/wp/wp-content/themes/blue-box/style1.css" type="text/css" media="screen" /> -->

<link rel="alternate" type="application/rss+xml" title="select * from depesz; RSS Feed" href="http://www.depesz.com/feed/" />
<link rel="pingback" href="http://www.depesz.com/xmlrpc.php" />
<link rel="alternate" type="application/rss+xml" title="select * from depesz; &raquo; Waiting for 9.1 &#8211; KNNGIST Comments Feed" href="http://www.depesz.com/2010/12/11/waiting-for-9-1-knngist/feed/" />
<link rel='stylesheet' id='cookie-style-css'  href='http://www.depesz.com/wp-content/plugins/cookie-warning/cookiewarning.css?ver=3.9.1' type='text/css' media='all' />
<link rel='stylesheet' id='wp-syntax-css-css'  href='http://www.depesz.com/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.0' type='text/css' media='all' />
<link rel='stylesheet' id='wordpress-popular-posts-css'  href='http://www.depesz.com/wp-content/plugins/wordpress-popular-posts/style/wpp.css?ver=3.0.3' type='text/css' media='all' />
<script type='text/javascript' src='http://www.depesz.com/wp-includes/js/jquery/jquery.js?ver=1.11.0'></script>
<script type='text/javascript' src='http://www.depesz.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var user_options = {"messageContent":"In order for this site to work properly, and in order to evaluate and improve the site we need to store small files (called cookies) on your computer.<br\/> Over 90% of all websites do this, however, since the 25th of May 2011 we are required by EU regulations to obtain your consent first. What do you say?","redirectLink":"http:\/\/google.com","okText":"That's fine","notOkText":"I don't agree","cookieName":"jsCookiewarning29Check","ajaxUrl":"http:\/\/www.depesz.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.depesz.com/wp-content/plugins/cookie-warning/cookiewarning.js?ver=3.9.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.depesz.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.depesz.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 3.9.1" />
<link rel='canonical' href='http://www.depesz.com/2010/12/11/waiting-for-9-1-knngist/' />
<link rel='shortlink' href='http://www.depesz.com/?p=1926' />

<link rel="stylesheet" href="http://www.depesz.com/wp-content/plugins/dd-formmailer/dd-formmailer.css" type="text/css" media="screen" />
<style type="text/css">

</style>
<!--[if lte IE 7]><link href="http://mhweb.pl/work/wp/wp-content/themes/blue-box/ie.css" rel="stylesheet" type="text/css" /><![endif]-->
<!--[if lte IE 6]><link href="http://mhweb.pl/work/wp/wp-content/themes/blue-box/ie6.css" rel="stylesheet" type="text/css" /><![endif]-->
</head>
<body>
<div id="box">
	<div id="up">
		<div id="logo"></div>
		<div id="menu">

			<div class="lc"></div>
			
			<div class="main">
				<div id="nav">
					<ul class="nav">
					<li class="first"><a href="http://www.depesz.com">Blog</a></li>
					<li class="page_item page-item-1947"><a href="http://www.depesz.com/projects/">Projects</a></li>
<li class="page_item page-item-1618"><a href="http://www.depesz.com/contact/">Contact</a></li>
					</ul>
				</div>
			</div>

			<div class="rc"></div>

		</div>
	</div>

	<div id="top_cont"></div>
	<div id="mainbck">



	<div id="content">

	
		<div class="entry">
			<div class="post" id="post-1926">
				<div class="topek">
					<div class="name">
						<a href="http://www.depesz.com/2010/12/11/waiting-for-9-1-knngist/" rel="bookmark" title="Permanent Link to Waiting for 9.1 &#8211; KNNGIST">Waiting for 9.1 &#8211; KNNGIST</a><div class="rss-img"><a href="http://www.depesz.com/feed/">&nbsp;&nbsp;</a></div>
					</div>

					<small>December 11th, 2010 by depesz | Tags: <a href="http://www.depesz.com/tag/gist/" rel="tag">gist</a>, <a href="http://www.depesz.com/tag/index/" rel="tag">index</a>, <a href="http://www.depesz.com/tag/knn/" rel="tag">knn</a>, <a href="http://www.depesz.com/tag/knngist/" rel="tag">knngist</a>, <a href="http://www.depesz.com/tag/order-by/" rel="tag">order by</a>, <a href="http://www.depesz.com/tag/performance/" rel="tag">performance</a>, <a href="http://www.depesz.com/tag/pg91/" rel="tag">pg91</a>, <a href="http://www.depesz.com/tag/postgresql/" rel="tag">postgresql</a>, <a href="http://www.depesz.com/tag/sort/" rel="tag">sort</a> |  <a href="http://www.depesz.com/2010/12/11/waiting-for-9-1-knngist/#comments" title="Comment on Waiting for 9.1 &#8211; KNNGIST">8 comments &#187;</a></small>
<br><small><big>Did it help? If yes - maybe you can help me? Donate BTC to <a href="https://blockchain.info/address/19zPa5diT2LZqGtTi8f8bfApLn8rw9zBHx">19zPa5diT2LZqGtTi8f8bfApLn8rw9zBHx</a></big></small>
				</div>
				
				<div class="the">
					<p>On 4th of December, Tom Lane <a href="http://archives.postgresql.org/pgsql-committers/2010-12/msg00017.php">committed</a> really cool patch:</p>
<p>KNNGIST, otherwise known as order-by-operator support for GIST.</p>
<p><code>This commit represents a rather heavily editorialized version of<br />
Teodor's builtin_knngist_itself-0.8.2 and builtin_knngist_proc-0.8.1<br />
patches.  I redid the opclass API to add a separate Distance method<br />
instead of turning the Consistent method into an illogical mess,<br />
fixed some bit-rot in the rbtree interfaces, and generally worked over<br />
the code style and comments.<br />
&nbsp;<br />
There's still no non-code documentation to speak of, but I'll work on<br />
that separately.  Some contrib-module changes are also yet to come<br />
(right now, point &lt;-&gt; point is the only KNN-ified operator).<br />
&nbsp;<br />
Teodor Sigaev and Tom Lane</code></p>
<p><span id="more-1926"></span></p>
<p>The biggest problem with describing it is that is &#8220;just" adds some additional features that are not really visible from the SQL point of view, until someone will use it.</p>
<p>Luckily &#8211; very soon (same day) Tom Lane committed second patch, which adds KNNGIST usage to pg_trgm, so I have a way to show you how cool it is.</p>
<p>First, because I will be using pg_trgm in this example &#8211; you should know what it is. If you don't know &#8211; it <a href="http://www.postgresql.org/docs/current/interactive/pgtrgm.html">is</a> a way to match words using trigrams.</p>
<p>Simple example:</p>
<p><code>$ create table words ( word text );<br />
CREATE TABLE<br />
&nbsp;<br />
$ copy words from '/usr/share/dict/american-english-insane';<br />
COPY 638645</code></p>
<p>Data look like this:</p>
<p><code>$ select * from words order by random() limit 10;<br />
      word<br />
-----------------<br />
 heterograft's<br />
 totipalmation's<br />
 Cretaceous<br />
 Snoquamish's<br />
 inca<br />
 hydremia's<br />
 slovenlinesses<br />
 Lysite<br />
 Jud's<br />
 Aquebogue's<br />
(10 rows)</code></p>
<p>Trigrams look like:</p>
<p><code>$ select show_trgm('depesz');<br />
              show_trgm<br />
-------------------------------------<br />
 {&quot;  d&quot;,&quot; de&quot;,dep,epe,esz,pes,&quot;sz &quot;}<br />
(1 row)</code></p>
<p>With GiST indexes, I can find all words similar to given word:</p>
<p><code>$ CREATE INDEX trgm_idx ON words USING gist (word gist_trgm_ops);<br />
CREATE INDEX</code></p>
<p>and now:</p>
<p><code>$ SELECT word, similarity(word, 'depesz') AS sml<br />
    FROM words<br />
    WHERE word % 'depesz'<br />
    ORDER BY sml DESC, word limit 10;<br />
  word   |   sml<br />
---------+----------<br />
 depe    |      0.5<br />
 depel   | 0.444444<br />
 Depew   | 0.444444<br />
 DePew   | 0.444444<br />
 depend  |      0.4<br />
 Depere  |      0.4<br />
 deperm  |      0.4<br />
 deepest | 0.363636<br />
 depeach | 0.363636<br />
 depends | 0.363636<br />
(10 rows)</code></p>
<p>This is all sweet, but the problem lies in how the results are obtained:</p>
<p><code>$ explain analyze SELECT word, similarity(word, 'ing') AS sml<br />
    FROM words<br />
    WHERE word % 'ing'<br />
    ORDER BY sml DESC, word<br />
    LIMIT 10;<br />
                                                              QUERY PLAN<br />
--------------------------------------------------------------------------------------------------------------------------------------<br />
 Limit  (cost=1650.25..1650.28 rows=10 width=10) (actual time=105.885..105.885 rows=10 loops=1)<br />
   -&gt;  Sort  (cost=1650.25..1651.85 rows=639 width=10) (actual time=105.884..105.884 rows=10 loops=1)<br />
         Sort Key: (similarity(word, 'ing'::text)), word<br />
         Sort Method:  top-N heapsort  Memory: 25kB<br />
         -&gt;  Bitmap Heap Scan on words  (cost=29.44..1636.45 rows=639 width=10) (actual time=104.076..105.664 rows=645 loops=1)<br />
               Recheck Cond: (word % 'ing'::text)<br />
               -&gt;  Bitmap Index Scan on trgm_idx  (cost=0.00..29.28 rows=639 width=0) (actual time=104.037..104.037 rows=645 loops=1)<br />
                     Index Cond: (word % 'ing'::text)<br />
 Total runtime: 105.922 ms<br />
(9 rows)</code></p>
<p>Generally &#8211; PostgreSQL has to fetch all rows matching our criteria, sort it, and then get top 10.</p>
<p>But. With KNNGIST &#8211; PostgreSQL can get the rows already sorted in required order. Which means there is less rows to check in table data, and we can skip the sort. And it looks like this:</p>
<p><code>$ explain analyze SELECT word, similarity(word, 'ing') AS sml<br />
    FROM words<br />
    WHERE word % 'ing'<br />
    ORDER BY word &lt;-&gt; 'ing' LIMIT 10;<br />
                                                          QUERY PLAN<br />
-------------------------------------------------------------------------------------------------------------------------------<br />
 Limit  (cost=0.00..37.13 rows=10 width=10) (actual time=27.577..91.367 rows=10 loops=1)<br />
   -&gt;  Index Scan using trgm_idx on words  (cost=0.00..2372.46 rows=639 width=10) (actual time=27.575..91.362 rows=10 loops=1)<br />
         Index Cond: (word % 'ing'::text)<br />
         Order By: (word &lt;-&gt; 'ing'::text)<br />
 Total runtime: 91.406 ms<br />
(5 rows)</code></p>
<p>Time difference is not big, but the table I am using is not really impressive &#8211; ~ 600k words only.</p>
<p>We can also try to use it with geometry queries:</p>
<p><code>$ create table test ( position point );<br />
CREATE TABLE</code></p>
<p>Table created. Now let's insert some random points:</p>
<p><code>$ insert into test (position) select point( random() * 1000, random() * 1000) from generate_series(1,1000000);<br />
INSERT 0 1000000</code></p>
<p>1 million points should be enough for my example. All of them have both X and Y in range &lt;0, 1000). Now we just need the index:</p>
<p><code>$ create index q on test using gist ( position );<br />
CREATE INDEX</code></p>
<p>And we can find some rows close to center of the points cloud:</p>
<p><code>$ select *, position &lt;-&gt; point(500,500) from test order by position &lt;-&gt; point(500,500) limit 10;<br />
              position               |     ?column?<br />
-------------------------------------+-------------------<br />
 (499.965638387948,499.452529009432) | 0.548548271254899<br />
 (500.473062973469,500.450353138149) |  0.65315122744144<br />
 (500.277776736766,500.743471086025) | 0.793668174518778<br />
 (499.986605718732,500.844359863549) | 0.844466095200968<br />
 (500.858531333506,500.130807515234) | 0.868439207229501<br />
 (500.96702715382,499.853323679417)  | 0.978087654172406<br />
 (500.975443981588,500.170825514942) | 0.990289007195055<br />
 (499.201623722911,499.368405900896) |  1.01799596553335<br />
 (498.899147845805,500.683960970491) |  1.29602394829404<br />
 (498.38217580691,499.178630765527)  |  1.81438764851559<br />
(10 rows)</code></p>
<p>And how about speed?</p>
<p><code>$ explain analyze select *, position &lt;-&gt; point(500,500) from test order by position &lt;-&gt; point(500,500) limit 10;<br />
                                                        QUERY PLAN<br />
--------------------------------------------------------------------------------------------------------------------------<br />
 Limit  (cost=0.00..0.77 rows=10 width=16) (actual time=0.164..0.475 rows=10 loops=1)<br />
   -&gt;  Index Scan using q on test  (cost=0.00..76512.60 rows=1000000 width=16) (actual time=0.163..0.473 rows=10 loops=1)<br />
         Order By: (&quot;position&quot; &lt;-&gt; '(500,500)'::point)<br />
 Total runtime: 0.505 ms<br />
(4 rows)</code></p>
<p>Now, that's something really cool. Great work!</p>

									</div>
			</div>
		</div>
			
		<div class="comm">
			
<!-- You can start editing here. -->

<div class="bobcomments">




	<ol class="commentlist">

	<li class="commenthead"><h3 id="comments">8 comments <a href='http://www.depesz.com/2010/12/11/waiting-for-9-1-knngist/feed/'><div class="rss-img"></div></a></h3></li>
	
			
<li class="odd" id="comment-30741" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-30741" title="">#</a></span> <a href='http://intaro.ru' rel='external nofollow' class='url'>Alexander Korotkov</a></div>  <div class="date">Dec 11, 2010</div></div>
				<img alt='' src='http://0.gravatar.com/avatar/049dd7dfcd1931183e4d12a5154c34f8?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>The patch is great!<br />
Try to increase SIGLENINT in trgm.h. I beleive that 3 in too small for effective search.</p>
	</li>
		
		
			
<li class="odd" id="comment-30748" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-30748" title="">#</a></span> comboy</div>  <div class="date">Dec 11, 2010</div></div>
				<img alt='' src='http://1.gravatar.com/avatar/1a5df2813e0b65d5e65baf129f7b1570?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>Whoa. Anybody seen my jaw? I think I dropped it somewhere around here.</p>
	</li>
		
		
			
<li class="odd" id="comment-30939" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-30939" title="">#</a></span> <a href='http://tapoueh.org/blog.dim.html' rel='external nofollow' class='url'>dim</a></div>  <div class="date">Dec 12, 2010</div></div>
				<img alt='' src='http://1.gravatar.com/avatar/7b615d104c506aa0a49e17151fa94d9f?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>Is it on purpose that the trigram query with and without the index are not on the same literal?</p>
	</li>
		
		
			
<li class="odd" id="comment-33097" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-33097" title="">#</a></span> <a href='http://mark.stosberg.com/' rel='external nofollow' class='url'>Mark Stosberg</a></div>  <div class="date">Feb 3, 2011</div></div>
				<img alt='' src='http://0.gravatar.com/avatar/844f4ceceb1f7686db05fe2c9dc8d6f2?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>Wow, will we be able to use this to improve the performance of finding zipcodes nearby?</p>
	</li>
		
		
			
<li class="mycomment" id="comment-33098" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-33098" title="">#</a></span> <a href='http://www.depesz.com/' rel='external nofollow' class='url'>depesz</a></div>  <div class="date">Feb 3, 2011</div></div>
				<img alt='' src='http://1.gravatar.com/avatar/d5ecebb85919589a7cbf7f90eb34eacf?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>@Mark:<br />
yes. As long as you will store also geographical location per zip code.</p>
	</li>
		
		
			
<li class="odd" id="comment-33100" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-33100" title="">#</a></span> <a href='http://mark.stosberg.com' rel='external nofollow' class='url'>Mark Stosberg</a></div>  <div class="date">Feb 4, 2011</div></div>
				<img alt='' src='http://0.gravatar.com/avatar/844f4ceceb1f7686db05fe2c9dc8d6f2?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>@depesz: great! From reading closely, it sounds like we have to wait for involved operators to be &#8220;KNNifed&#8221;. In my case that&#8217;s the &#8220;@&#8221; operator for the cube type. Hopefully that&#8217;s not too hard for someone.</p>
<p>Although, perhaps due to this approach some other method of calculating zipcode distances will be faster than cube search method.</p>
	</li>
		
		
			
<li class="odd" id="comment-33379" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-33379" title="">#</a></span> <a href='http://flybrain.mrc-lmb.cam.ac.uk' rel='external nofollow' class='url'>Greg Jefferis</a></div>  <div class="date">Apr 29, 2011</div></div>
				<img alt='' src='http://1.gravatar.com/avatar/5a297c2ebd35685fddfab536ce0321e7?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>Thanks for the interesting post highlighting this new functionality? Do you know if it is possible to use this extension for nearest neighbour searches on 3D points (in my case neurons in the brain)? As far as I am aware the point type is 2D only.</p>
	</li>
		
		
			
<li class="mycomment" id="comment-33380" onMouseOver="this.style.background='#dcdcdc'" onMouseOut="this.style.background='#e9e9e9'">

		<div class="name"><div class="title"><span class="bu"><a href="#comment-33380" title="">#</a></span> <a href='http://www.depesz.com/' rel='external nofollow' class='url'>depesz</a></div>  <div class="date">Apr 29, 2011</div></div>
				<img alt='' src='http://1.gravatar.com/avatar/d5ecebb85919589a7cbf7f90eb34eacf?s=64&amp;d=identicon&amp;r=X' class='avatar avatar-64 photo' height='64' width='64' />		<p>@Greg:<br />
as far as I understand, this functionality will work as long as you&#8217;ll have point3d datatype. which (afaik) you don&#8217;t have currently. I am not aware of any 3d-related datatypes and their index support.</p>
	</li>
		
		
		
	</ol>
	
	
	

	
	
	<form action="http://www.depesz.com/wp-comments-post.php" method="post" id="commentform">

	<h2 id="respond">Leave a comment</h2>

		
	
		<label for="author">Name</label>
		<input type="text" name="author" id="author" value="" size="22" tabindex="2" />
				
		<label for="email">E-mail</label>
		<input type="text" name="email" id="email" value="" tabindex="3" size="22" />		
		
		<label for="url">Website</label>
		<input type="text" name="url" id="url" value="" size="22" tabindex="4" />
	
	
		<label for="text">Your text</label>
		<textarea name="comment" id="comment" cols="5" rows="10" tabindex="5"></textarea>

		<input name="submit" type="submit" id="submit" tabindex="6" value="Submit comment" />
		<input type="hidden" name="comment_post_ID" value="1926" />
	
	<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="8e7632add8" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="214"/></p>
	</form>


</div>
		</div>
	
	
	</div>
<div id="sidebar">
<div class="rsidebar">
		<ul>
			<li id="search-3" class="widget widget_search"><h2 class="widgettitle">Search</h2>
<form method="get" id="searchform" action="http://www.depesz.com/">
<input name="s" id="s" type="text" value="Write your text. Press the button!" onfocus="if (this.value == 'Write your text. Press the button!') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Write your text. Press the button!';}" tabindex="1"/>
<input type="submit" id="searchsubmit" value="" />
</form>
<br /><br />
<div id="podzialka"></div></li>
<li id="linkcat-659" class="widget widget_links"><h2 class="widgettitle">Follow me</h2>

	<ul class='xoxo blogroll'>
<li><a href="http://www.depesz.com/comments/feed/">Comments RSS</a></li>
<li><a href="http://depesz.com/feed/">Posts RSS</a></li>

	</ul>
</li>


<!-- Wordpress Popular Posts Plugin v3.0.3 [W] [weekly] [views] [regular] -->
<li id="wpp-3" class="widget popular-posts">
<h2 class="widgettitle">Popular Posts</h2>

<ul class="wpp-list">
<li><a href="http://www.depesz.com/2014/07/14/waiting-for-9-5-implement-import-foreign-schema/" title="Waiting for 9.5 &#8211; Implement IMPORT FOREIGN SCHEMA." class="wpp-post-title" target="_self">Waiting for 9.5 &#8211; Implement IMPORT FOREIGN SCHEMA.</a>  <span class="post-stats"><span class="wpp-comments">1 comment</span> | <span class="wpp-views">656 views</span></span> </li>
<li><a href="http://www.depesz.com/2014/07/15/waiting-for-9-5-psql-show-tablespace-size-in-db/" title="Waiting for 9.5 &#8211; psql: Show tablespace size in \db+" class="wpp-post-title" target="_self">Waiting for 9.5 &#8211; psql: Show tablespace size in \db+</a>  <span class="post-stats"><span class="wpp-comments">4 comments</span> | <span class="wpp-views">631 views</span></span> </li>
<li><a href="http://www.depesz.com/2012/06/10/why-is-upsert-so-complicated/" title="Why is UPSERT so complicated?" class="wpp-post-title" target="_self">Why is UPSERT so complicated?</a>  <span class="post-stats"><span class="wpp-comments">0 comments</span> | <span class="wpp-views">299 views</span></span> </li>
<li><a href="http://www.depesz.com/2010/03/02/charx-vs-varcharx-vs-varchar-vs-text/" title="CHAR(x) vs. VARCHAR(x) vs. VARCHAR vs. TEXT &#8211; UPDATED 2010-03-03" class="wpp-post-title" target="_self">CHAR(x) vs. VARCHAR(x) vs. VARCHAR vs. TEXT &#8211; UPDATED 2010-03-03</a>  <span class="post-stats"><span class="wpp-comments">0 comments</span> | <span class="wpp-views">237 views</span></span> </li>
<li><a href="http://www.depesz.com/2012/06/09/how-much-ram-is-postgresql-using/" title="How much RAM is PostgreSQL using?" class="wpp-post-title" target="_self">How much RAM is PostgreSQL using?</a>  <span class="post-stats"><span class="wpp-comments">0 comments</span> | <span class="wpp-views">157 views</span></span> </li>
<li><a href="http://www.depesz.com/2011/05/06/understanding-postgresql-conf-log/" title="Understanding postgresql.conf : log*" class="wpp-post-title" target="_self">Understanding postgresql.conf : log*</a>  <span class="post-stats"><span class="wpp-comments">0 comments</span> | <span class="wpp-views">143 views</span></span> </li>
<li><a href="http://www.depesz.com/2008/05/05/error-operator-does-not-exist-integer-text-how-to-fix-it/" title="&#8220;ERROR:  operator does not exist: integer = text&#8221; how to fix it?" class="wpp-post-title" target="_self">&#8220;ERROR:  operator does not exist: integer = text&#8221; how to fix it?</a>  <span class="post-stats"><span class="wpp-comments">0 comments</span> | <span class="wpp-views">140 views</span></span> </li>
<li><a href="http://www.depesz.com/2014/01/29/getting-count-of-distinct-elements-per-group-in-postgresql/" title="Getting count of distinct elements, per group, in PostgreSQL." class="wpp-post-title" target="_self">Getting count of distinct elements, per group, in PostgreSQL.</a>  <span class="post-stats"><span class="wpp-comments">0 comments</span> | <span class="wpp-views">136 views</span></span> </li>
<li><a href="http://www.depesz.com/2011/07/14/write-ahead-log-understanding-postgresql-conf-checkpoint_segments-checkpoint_timeout-checkpoint_warning/" title="Write Ahead Log + Understanding postgresql.conf: checkpoint_segments, checkpoint_timeout, checkpoint_warning" class="wpp-post-title" target="_self">Write Ahead Log + Understanding postgresql.conf: checkpoint_segments, checkpoint_timeout, checkpoint_warning</a>  <span class="post-stats"><span class="wpp-comments">0 comments</span> | <span class="wpp-views">129 views</span></span> </li>
<li><a href="http://www.depesz.com/2011/03/07/waiting-for-9-1-foreach-in-array/" title="Waiting for 9.1 &#8211; FOREACH IN ARRAY" class="wpp-post-title" target="_self">Waiting for 9.1 &#8211; FOREACH IN ARRAY</a>  <span class="post-stats"><span class="wpp-comments">0 comments</span> | <span class="wpp-views">92 views</span></span> </li>

</ul>
</li>

<!-- End Wordpress Popular Posts Plugin v3.0.3 -->
<li id="linkcat-4" class="widget widget_links"><h2 class="widgettitle">postgresql</h2>

	<ul class='xoxo blogroll'>
<li><a href="http://www.postgresql.org/docs/current/interactive/index.html">Documentation</a></li>
<li><a href="http://explain.depesz.com/">Explain Analyze analyzer</a></li>
<li><a href="irc://irc.freenode.net/#postgresql">IRC help channel</a></li>
<li><a href="http://archives.postgresql.org/">Mailing Lists search</a></li>
<li><a href="http://planet.postgresql.org/">PG Planet</a></li>
<li><a href="http://www.postgresql.org/" title="strona domowa postgresqla">PostgreSQL Home Page</a></li>

	</ul>
</li>

<li id="linkcat-376" class="widget widget_links"><h2 class="widgettitle">About me</h2>

	<ul class='xoxo blogroll'>
<li><a href="http://search.cpan.org/~depesz/">CPAN</a></li>
<li><a href="https://github.com/depesz/">GitHub</a></li>
<li><a href="http://linkedin.com/in/depesz">Linked In</a></li>
<li><a href="http://www.depesz.com/toyota-gt86/">Samoch√≥d</a></li>

	</ul>
</li>

<li id="theme-switcher" class="widget widget_themeswitcher"><h2 class="widgettitle">Theme</h2>
<ul id="themeswitcher">
<li>
       <select style="width:140px" name="themeswitcher" onchange="location.href='http://www.depesz.com/index.php?wptheme=' + this.options[this.selectedIndex].value;">
               <option value="AS 400">AS 400</option>
               <option value="GrayGA">GrayGA</option>
               <option value="Twenty Eleven">Twenty Eleven</option>
               <option value="Twenty Fourteen">Twenty Fourteen</option>
               <option value="Twenty Ten">Twenty Ten</option>
               <option value="Twenty Thirteen">Twenty Thirteen</option>
               <option value="Twenty Twelve">Twenty Twelve</option>
               <option value="WordPress Classic">WordPress Classic</option>
               <option value="WordPress Default">WordPress Default</option>
               <option value="Wordpress Depesz" selected="selected">Wordpress Depesz</option>
       </select>
</li>
</ul></li>
		</ul>
</div>
		
</div>



<div id="space"></div>
</div>
<div id="bottom">
	<div class="navigation">			
					</div>
</div>

<!-- Powered by WPtouch: 3.4.4 --><script type='text/javascript' src='http://www.depesz.com/wp-content/plugins/akismet/_inc/form.js?ver=3.0.1'></script>
</div>

</body>
</html>

