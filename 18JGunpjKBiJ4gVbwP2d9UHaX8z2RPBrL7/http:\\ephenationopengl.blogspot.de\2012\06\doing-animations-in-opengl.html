http://ephenationopengl.blogspot.de/2012/06/doing-animations-in-opengl.html
HTTP/1.0 200 OK
Content-Type: text/html; charset=UTF-8
Expires: Tue, 22 Jul 2014 09:15:03 GMT
Date: Tue, 22 Jul 2014 09:15:03 GMT
Cache-Control: private, max-age=0
Last-Modified: Mon, 21 Jul 2014 13:34:05 GMT
ETag: "2399c1b2-6286-48f9-ba44-0ddd2948a5af"
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
X-XSS-Protection: 1; mode=block
Server: GSE
Alternate-Protocol: 80:quic

<!DOCTYPE html>
<html class='v2' dir='ltr' xmlns='http://www.w3.org/1999/xhtml' xmlns:b='http://www.google.com/2005/gml/b' xmlns:data='http://www.google.com/2005/gml/data' xmlns:expr='http://www.google.com/2005/gml/expr'>
<head>
<meta content='IE=EmulateIE7' http-equiv='X-UA-Compatible'/>
<meta content='width=1100' name='viewport'/>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'/>
<script type="text/javascript">(function() { var b=window,f="chrome",g="tick",k="jstiming";(function(){function d(a){this.t={};this.tick=function(a,d,c){var e=void 0!=c?c:(new Date).getTime();this.t[a]=[e,d];if(void 0==c)try{b.console.timeStamp("CSI/"+a)}catch(h){}};this[g]("start",null,a)}var a;b.performance&&(a=b.performance.timing);var n=a?new d(a.responseStart):new d;b.jstiming={Timer:d,load:n};if(a){var c=a.navigationStart,h=a.responseStart;0<c&&h>=c&&(b[k].srt=h-c)}if(a){var e=b[k].load;0<c&&h>=c&&(e[g]("_wtsrt",void 0,c),e[g]("wtsrt_","_wtsrt",h),e[g]("tbsd_","wtsrt_"))}try{a=null,
b[f]&&b[f].csi&&(a=Math.floor(b[f].csi().pageT),e&&0<c&&(e[g]("_tbnd",void 0,b[f].csi().startE),e[g]("tbnd_","_tbnd",c))),null==a&&b.gtbExternal&&(a=b.gtbExternal.pageT()),null==a&&b.external&&(a=b.external.pageT,e&&0<c&&(e[g]("_tbnd",void 0,b.external.startE),e[g]("tbnd_","_tbnd",c))),a&&(b[k].pt=a)}catch(p){}})();b.tickAboveFold=function(d){var a=0;if(d.offsetParent){do a+=d.offsetTop;while(d=d.offsetParent)}d=a;750>=d&&b[k].load[g]("aft")};var l=!1;function m(){l||(l=!0,b[k].load[g]("firstScrollTime"))}b.addEventListener?b.addEventListener("scroll",m,!1):b.attachEvent("onscroll",m);
 })();</script>
<meta content='blogger' name='generator'/>
<link href='http://ephenationopengl.blogspot.de/favicon.ico' rel='icon' type='image/x-icon'/>
<link href='http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html' rel='canonical'/>
<link rel="alternate" type="application/atom+xml" title="Ephenation OpenGL - Atom" href="http://ephenationopengl.blogspot.com/feeds/posts/default" />
<link rel="alternate" type="application/rss+xml" title="Ephenation OpenGL - RSS" href="http://ephenationopengl.blogspot.com/feeds/posts/default?alt=rss" />
<link rel="service.post" type="application/atom+xml" title="Ephenation OpenGL - Atom" href="http://www.blogger.com/feeds/1531260037698275277/posts/default" />

<link rel="alternate" type="application/atom+xml" title="Ephenation OpenGL - Atom" href="http://ephenationopengl.blogspot.com/feeds/6006342091983697280/comments/default" />
<!--[if IE]><script type="text/javascript" src="https://www.blogger.com/static/v1/jsbin/1735305980-ieretrofit.js"></script>
<![endif]-->
<link href='http://1.bp.blogspot.com/-mTmYiNy1qps/T-LGDoFkUaI/AAAAAAAAEWk/gDjZqKDFHaM/s1600/WalkingFrog.JPG' rel='image_src'/>
<link href='https://plus.google.com/108509041026737369045' rel='publisher'/>
<!--[if IE]> <script> (function() { var html5 = ("abbr,article,aside,audio,canvas,datalist,details," + "figure,footer,header,hgroup,mark,menu,meter,nav,output," + "progress,section,time,video").split(','); for (var i = 0; i < html5.length; i++) { document.createElement(html5[i]); } try { document.execCommand('BackgroundImageCache', false, true); } catch(e) {} })(); </script> <![endif]-->
<title>Ephenation OpenGL: Doing animations in OpenGL</title>
<link type='text/css' rel='stylesheet' href='https://www.blogger.com/static/v1/widgets/1535467126-widget_css_2_bundle.css' />
<link type='text/css' rel='stylesheet' href='https://www.blogger.com/dyn-css/authorization.css?targetBlogID=1531260037698275277&zx=2399c1b2-6286-48f9-ba44-0ddd2948a5af' />
<style id='page-skin-1' type='text/css'><!--
/*
-----------------------------------------------
Blogger Template Style
Name:     Awesome Inc.
Designer: Tina Chen
URL:      tinachen.org
----------------------------------------------- */
/* Variable definitions
====================
<Variable name="keycolor" description="Main Color" type="color" default="#ffffff"/>
<Group description="Page" selector="body">
<Variable name="body.font" description="Font" type="font"
default="normal normal 13px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="body.background.color" description="Background Color" type="color" default="#000000"/>
<Variable name="body.text.color" description="Text Color" type="color" default="#ffffff"/>
</Group>
<Group description="Links" selector=".main-inner">
<Variable name="link.color" description="Link Color" type="color" default="#888888"/>
<Variable name="link.visited.color" description="Visited Color" type="color" default="#444444"/>
<Variable name="link.hover.color" description="Hover Color" type="color" default="#cccccc"/>
</Group>
<Group description="Blog Title" selector=".header h1">
<Variable name="header.font" description="Title Font" type="font"
default="normal bold 40px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="header.text.color" description="Title Color" type="color" default="#ffffff" />
<Variable name="header.background.color" description="Header Background" type="color" default="transparent" />
</Group>
<Group description="Blog Description" selector=".header .description">
<Variable name="description.font" description="Font" type="font"
default="normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="description.text.color" description="Text Color" type="color"
default="#ffffff" />
</Group>
<Group description="Tabs Text" selector=".tabs-inner .widget li a">
<Variable name="tabs.font" description="Font" type="font"
default="normal bold 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="tabs.text.color" description="Text Color" type="color" default="#ffffff"/>
<Variable name="tabs.selected.text.color" description="Selected Color" type="color" default="#ffffff"/>
</Group>
<Group description="Tabs Background" selector=".tabs-outer .PageList">
<Variable name="tabs.background.color" description="Background Color" type="color" default="#141414"/>
<Variable name="tabs.selected.background.color" description="Selected Color" type="color" default="#444444"/>
<Variable name="tabs.border.color" description="Border Color" type="color" default="#222222"/>
</Group>
<Group description="Date Header" selector=".main-inner .widget h2.date-header, .main-inner .widget h2.date-header span">
<Variable name="date.font" description="Font" type="font"
default="normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="date.text.color" description="Text Color" type="color" default="#666666"/>
<Variable name="date.border.color" description="Border Color" type="color" default="#222222"/>
</Group>
<Group description="Post Title" selector="h3.post-title, h4, h3.post-title a">
<Variable name="post.title.font" description="Font" type="font"
default="normal bold 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="post.title.text.color" description="Text Color" type="color" default="#ffffff"/>
</Group>
<Group description="Post Background" selector=".post">
<Variable name="post.background.color" description="Background Color" type="color" default="#141414" />
<Variable name="post.border.color" description="Border Color" type="color" default="#222222" />
<Variable name="post.border.bevel.color" description="Bevel Color" type="color" default="#222222"/>
</Group>
<Group description="Gadget Title" selector="h2">
<Variable name="widget.title.font" description="Font" type="font"
default="normal bold 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="widget.title.text.color" description="Text Color" type="color" default="#ffffff"/>
</Group>
<Group description="Gadget Text" selector=".sidebar .widget">
<Variable name="widget.font" description="Font" type="font"
default="normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="widget.text.color" description="Text Color" type="color" default="#ffffff"/>
<Variable name="widget.alternate.text.color" description="Alternate Color" type="color" default="#666666"/>
</Group>
<Group description="Gadget Links" selector=".sidebar .widget">
<Variable name="widget.link.color" description="Link Color" type="color" default="#9ccfdf"/>
<Variable name="widget.link.visited.color" description="Visited Color" type="color" default="#9ccfdf"/>
<Variable name="widget.link.hover.color" description="Hover Color" type="color" default="#4883df"/>
</Group>
<Group description="Gadget Background" selector=".sidebar .widget">
<Variable name="widget.background.color" description="Background Color" type="color" default="#141414"/>
<Variable name="widget.border.color" description="Border Color" type="color" default="#222222"/>
<Variable name="widget.border.bevel.color" description="Bevel Color" type="color" default="#000000"/>
</Group>
<Group description="Sidebar Background" selector=".column-left-inner .column-right-inner">
<Variable name="widget.outer.background.color" description="Background Color" type="color" default="transparent" />
</Group>
<Group description="Images" selector=".main-inner">
<Variable name="image.background.color" description="Background Color" type="color" default="transparent"/>
<Variable name="image.border.color" description="Border Color" type="color" default="transparent"/>
</Group>
<Group description="Feed" selector=".blog-feeds">
<Variable name="feed.text.color" description="Text Color" type="color" default="#ffffff"/>
</Group>
<Group description="Feed Links" selector=".blog-feeds">
<Variable name="feed.link.color" description="Link Color" type="color" default="#9ccfdf"/>
<Variable name="feed.link.visited.color" description="Visited Color" type="color" default="#9ccfdf"/>
<Variable name="feed.link.hover.color" description="Hover Color" type="color" default="#4883df"/>
</Group>
<Group description="Pager" selector=".blog-pager">
<Variable name="pager.background.color" description="Background Color" type="color" default="#141414" />
</Group>
<Group description="Footer" selector=".footer-outer">
<Variable name="footer.background.color" description="Background Color" type="color" default="#141414" />
<Variable name="footer.text.color" description="Text Color" type="color" default="#ffffff" />
</Group>
<Variable name="title.shadow.spread" description="Title Shadow" type="length" default="-1px"/>
<Variable name="body.background" description="Body Background" type="background"
color="#000000"
default="$(color) none repeat scroll top left"/>
<Variable name="body.background.gradient.cap" description="Body Gradient Cap" type="url"
default="none"/>
<Variable name="body.background.size" description="Body Background Size" type="string" default="auto"/>
<Variable name="tabs.background.gradient" description="Tabs Background Gradient" type="url"
default="none"/>
<Variable name="header.background.gradient" description="Header Background Gradient" type="url" default="none" />
<Variable name="header.padding.top" description="Header Top Padding" type="length" default="22px" />
<Variable name="header.margin.top" description="Header Top Margin" type="length" default="0" />
<Variable name="header.margin.bottom" description="Header Bottom Margin" type="length" default="0" />
<Variable name="widget.padding.top" description="Widget Padding Top" type="length" default="8px" />
<Variable name="widget.padding.side" description="Widget Padding Side" type="length" default="15px" />
<Variable name="widget.outer.margin.top" description="Widget Top Margin" type="length" default="0" />
<Variable name="widget.outer.background.gradient" description="Gradient" type="url" default="none" />
<Variable name="widget.border.radius" description="Gadget Border Radius" type="length" default="0" />
<Variable name="outer.shadow.spread" description="Outer Shadow Size" type="length" default="0" />
<Variable name="date.header.border.radius.top" description="Date Header Border Radius Top" type="length" default="0" />
<Variable name="date.header.position" description="Date Header Position" type="length" default="15px" />
<Variable name="date.space" description="Date Space" type="length" default="30px" />
<Variable name="date.position" description="Date Float" type="string" default="static" />
<Variable name="date.padding.bottom" description="Date Padding Bottom" type="length" default="0" />
<Variable name="date.border.size" description="Date Border Size" type="length" default="0" />
<Variable name="date.background" description="Date Background" type="background" color="transparent"
default="$(color) none no-repeat scroll top left" />
<Variable name="date.first.border.radius.top" description="Date First top radius" type="length" default="0" />
<Variable name="date.last.space.bottom" description="Date Last Space Bottom" type="length"
default="20px" />
<Variable name="date.last.border.radius.bottom" description="Date Last bottom radius" type="length" default="0" />
<Variable name="post.first.padding.top" description="First Post Padding Top" type="length" default="0" />
<Variable name="image.shadow.spread" description="Image Shadow Size" type="length" default="0"/>
<Variable name="image.border.radius" description="Image Border Radius" type="length" default="0"/>
<Variable name="separator.outdent" description="Separator Outdent" type="length" default="15px" />
<Variable name="title.separator.border.size" description="Widget Title Border Size" type="length" default="1px" />
<Variable name="list.separator.border.size" description="List Separator Border Size" type="length" default="1px" />
<Variable name="shadow.spread" description="Shadow Size" type="length" default="0"/>
<Variable name="startSide" description="Side where text starts in blog language" type="automatic" default="left"/>
<Variable name="endSide" description="Side where text ends in blog language" type="automatic" default="right"/>
<Variable name="date.side" description="Side where date header is placed" type="string" default="right"/>
<Variable name="pager.border.radius.top" description="Pager Border Top Radius" type="length" default="0" />
<Variable name="pager.space.top" description="Pager Top Space" type="length" default="1em" />
<Variable name="footer.background.gradient" description="Background Gradient" type="url" default="none" />
<Variable name="mobile.background.size" description="Mobile Background Size" type="string"
default="auto"/>
<Variable name="mobile.background.overlay" description="Mobile Background Overlay" type="string"
default="transparent none repeat scroll top left"/>
<Variable name="mobile.button.color" description="Mobile Button Color" type="color" default="#ffffff" />
*/
/* Content
----------------------------------------------- */
body {
font: normal normal 13px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #ffffff;
background: #000000 url(http://www.blogblog.com/1kt/awesomeinc/body_background_dark.png) repeat scroll top left;
}
html body .content-outer {
min-width: 0;
max-width: 100%;
width: 100%;
}
a:link {
text-decoration: none;
color: #9ccfdf;
}
a:visited {
text-decoration: none;
color: #9ccfdf;
}
a:hover {
text-decoration: underline;
color: #4883df;
}
.body-fauxcolumn-outer .cap-top {
position: absolute;
z-index: 1;
height: 276px;
width: 100%;
background: transparent none repeat-x scroll top left;
_background-image: none;
}
/* Columns
----------------------------------------------- */
.content-inner {
padding: 0;
}
.header-inner .section {
margin: 0 16px;
}
.tabs-inner .section {
margin: 0 16px;
}
.main-inner {
padding-top: 30px;
}
.main-inner .column-center-inner,
.main-inner .column-left-inner,
.main-inner .column-right-inner {
padding: 0 5px;
}
*+html body .main-inner .column-center-inner {
margin-top: -30px;
}
#layout .main-inner .column-center-inner {
margin-top: 0;
}
/* Header
----------------------------------------------- */
.header-outer {
margin: 0 0 0 0;
background: transparent none repeat scroll 0 0;
}
.Header h1 {
font: normal bold 40px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #ffffff;
text-shadow: 0 0 -1px #000000;
}
.Header h1 a {
color: #ffffff;
}
.Header .description {
font: normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #ffffff;
}
.header-inner .Header .titlewrapper,
.header-inner .Header .descriptionwrapper {
padding-left: 0;
padding-right: 0;
margin-bottom: 0;
}
.header-inner .Header .titlewrapper {
padding-top: 22px;
}
/* Tabs
----------------------------------------------- */
.tabs-outer {
overflow: hidden;
position: relative;
background: #141414 none repeat scroll 0 0;
}
#layout .tabs-outer {
overflow: visible;
}
.tabs-cap-top, .tabs-cap-bottom {
position: absolute;
width: 100%;
border-top: 1px solid #222222;
}
.tabs-cap-bottom {
bottom: 0;
}
.tabs-inner .widget li a {
display: inline-block;
margin: 0;
padding: .6em 1.5em;
font: normal bold 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #ffffff;
border-top: 1px solid #222222;
border-bottom: 1px solid #222222;
border-left: 1px solid #222222;
height: 16px;
line-height: 16px;
}
.tabs-inner .widget li:last-child a {
border-right: 1px solid #222222;
}
.tabs-inner .widget li.selected a, .tabs-inner .widget li a:hover {
background: #444444 none repeat-x scroll 0 -100px;
color: #ffffff;
}
/* Headings
----------------------------------------------- */
h2 {
font: normal bold 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #ffffff;
}
/* Widgets
----------------------------------------------- */
.main-inner .section {
margin: 0 27px;
padding: 0;
}
.main-inner .column-left-outer,
.main-inner .column-right-outer {
margin-top: 0;
}
#layout .main-inner .column-left-outer,
#layout .main-inner .column-right-outer {
margin-top: 0;
}
.main-inner .column-left-inner,
.main-inner .column-right-inner {
background: transparent none repeat 0 0;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-goog-ms-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-moz-border-radius: 0;
-webkit-border-radius: 0;
-goog-ms-border-radius: 0;
border-radius: 0;
}
#layout .main-inner .column-left-inner,
#layout .main-inner .column-right-inner {
margin-top: 0;
}
.sidebar .widget {
font: normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #ffffff;
}
.sidebar .widget a:link {
color: #888888;
}
.sidebar .widget a:visited {
color: #444444;
}
.sidebar .widget a:hover {
color: #cccccc;
}
.sidebar .widget h2 {
text-shadow: 0 0 -1px #000000;
}
.main-inner .widget {
background-color: #141414;
border: 1px solid #222222;
padding: 0 15px 15px;
margin: 20px -16px;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-goog-ms-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-moz-border-radius: 0;
-webkit-border-radius: 0;
-goog-ms-border-radius: 0;
border-radius: 0;
}
.main-inner .widget h2 {
margin: 0 -15px;
padding: .6em 15px .5em;
border-bottom: 1px solid #000000;
}
.footer-inner .widget h2 {
padding: 0 0 .4em;
border-bottom: 1px solid #000000;
}
.main-inner .widget h2 + div, .footer-inner .widget h2 + div {
border-top: 1px solid #222222;
padding-top: 8px;
}
.main-inner .widget .widget-content {
margin: 0 -15px;
padding: 7px 15px 0;
}
.main-inner .widget ul, .main-inner .widget #ArchiveList ul.flat {
margin: -8px -15px 0;
padding: 0;
list-style: none;
}
.main-inner .widget #ArchiveList {
margin: -8px 0 0;
}
.main-inner .widget ul li, .main-inner .widget #ArchiveList ul.flat li {
padding: .5em 15px;
text-indent: 0;
color: #666666;
border-top: 1px solid #222222;
border-bottom: 1px solid #000000;
}
.main-inner .widget #ArchiveList ul li {
padding-top: .25em;
padding-bottom: .25em;
}
.main-inner .widget ul li:first-child, .main-inner .widget #ArchiveList ul.flat li:first-child {
border-top: none;
}
.main-inner .widget ul li:last-child, .main-inner .widget #ArchiveList ul.flat li:last-child {
border-bottom: none;
}
.post-body {
position: relative;
}
.main-inner .widget .post-body ul {
padding: 0 2.5em;
margin: .5em 0;
list-style: disc;
}
.main-inner .widget .post-body ul li {
padding: 0.25em 0;
margin-bottom: .25em;
color: #ffffff;
border: none;
}
.footer-inner .widget ul {
padding: 0;
list-style: none;
}
.widget .zippy {
color: #666666;
}
/* Posts
----------------------------------------------- */
body .main-inner .Blog {
padding: 0;
margin-bottom: 1em;
background-color: transparent;
border: none;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, 0);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, 0);
-goog-ms-box-shadow: 0 0 0 rgba(0, 0, 0, 0);
box-shadow: 0 0 0 rgba(0, 0, 0, 0);
}
.main-inner .section:last-child .Blog:last-child {
padding: 0;
margin-bottom: 1em;
}
.main-inner .widget h2.date-header {
margin: 0 -15px 1px;
padding: 0 0 0 0;
font: normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #666666;
background: transparent none no-repeat scroll top left;
border-top: 0 solid #222222;
border-bottom: 1px solid #000000;
-moz-border-radius-topleft: 0;
-moz-border-radius-topright: 0;
-webkit-border-top-left-radius: 0;
-webkit-border-top-right-radius: 0;
border-top-left-radius: 0;
border-top-right-radius: 0;
position: static;
bottom: 100%;
right: 15px;
text-shadow: 0 0 -1px #000000;
}
.main-inner .widget h2.date-header span {
font: normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
display: block;
padding: .5em 15px;
border-left: 0 solid #222222;
border-right: 0 solid #222222;
}
.date-outer {
position: relative;
margin: 30px 0 20px;
padding: 0 15px;
background-color: #141414;
border: 1px solid #222222;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-goog-ms-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-moz-border-radius: 0;
-webkit-border-radius: 0;
-goog-ms-border-radius: 0;
border-radius: 0;
}
.date-outer:first-child {
margin-top: 0;
}
.date-outer:last-child {
margin-bottom: 20px;
-moz-border-radius-bottomleft: 0;
-moz-border-radius-bottomright: 0;
-webkit-border-bottom-left-radius: 0;
-webkit-border-bottom-right-radius: 0;
-goog-ms-border-bottom-left-radius: 0;
-goog-ms-border-bottom-right-radius: 0;
border-bottom-left-radius: 0;
border-bottom-right-radius: 0;
}
.date-posts {
margin: 0 -15px;
padding: 0 15px;
clear: both;
}
.post-outer, .inline-ad {
border-top: 1px solid #222222;
margin: 0 -15px;
padding: 15px 15px;
}
.post-outer {
padding-bottom: 10px;
}
.post-outer:first-child {
padding-top: 0;
border-top: none;
}
.post-outer:last-child, .inline-ad:last-child {
border-bottom: none;
}
.post-body {
position: relative;
}
.post-body img {
padding: 8px;
background: transparent;
border: 1px solid transparent;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-moz-border-radius: 0;
-webkit-border-radius: 0;
border-radius: 0;
}
h3.post-title, h4 {
font: normal bold 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #ffffff;
}
h3.post-title a {
font: normal bold 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #ffffff;
}
h3.post-title a:hover {
color: #4883df;
text-decoration: underline;
}
.post-header {
margin: 0 0 1em;
}
.post-body {
line-height: 1.4;
}
.post-outer h2 {
color: #ffffff;
}
.post-footer {
margin: 1.5em 0 0;
}
#blog-pager {
padding: 15px;
font-size: 120%;
background-color: #141414;
border: 1px solid #222222;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-goog-ms-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-moz-border-radius: 0;
-webkit-border-radius: 0;
-goog-ms-border-radius: 0;
border-radius: 0;
-moz-border-radius-topleft: 0;
-moz-border-radius-topright: 0;
-webkit-border-top-left-radius: 0;
-webkit-border-top-right-radius: 0;
-goog-ms-border-top-left-radius: 0;
-goog-ms-border-top-right-radius: 0;
border-top-left-radius: 0;
border-top-right-radius-topright: 0;
margin-top: 1em;
}
.blog-feeds, .post-feeds {
margin: 1em 0;
text-align: center;
color: #ffffff;
}
.blog-feeds a, .post-feeds a {
color: #888888;
}
.blog-feeds a:visited, .post-feeds a:visited {
color: #444444;
}
.blog-feeds a:hover, .post-feeds a:hover {
color: #cccccc;
}
.post-outer .comments {
margin-top: 2em;
}
/* Comments
----------------------------------------------- */
.comments .comments-content .icon.blog-author {
background-repeat: no-repeat;
background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB9sLFwMeCjjhcOMAAAD+SURBVDjLtZSvTgNBEIe/WRRnm3U8RC1neQdsm1zSBIU9VVF1FkUguQQsD9ITmD7ECZIJSE4OZo9stoVjC/zc7ky+zH9hXwVwDpTAWWLrgS3QAe8AZgaAJI5zYAmc8r0G4AHYHQKVwII8PZrZFsBFkeRCABYiMh9BRUhnSkPTNCtVXYXURi1FpBDgArj8QU1eVXUzfnjv7yP7kwu1mYrkWlU33vs1QNu2qU8pwN0UpKoqokjWwCztrMuBhEhmh8bD5UDqur75asbcX0BGUB9/HAMB+r32hznJgXy2v0sGLBcyAJ1EK3LFcbo1s91JeLwAbwGYu7TP/3ZGfnXYPgAVNngtqatUNgAAAABJRU5ErkJggg==);
}
.comments .comments-content .loadmore a {
border-top: 1px solid #222222;
border-bottom: 1px solid #222222;
}
.comments .continue {
border-top: 2px solid #222222;
}
/* Footer
----------------------------------------------- */
.footer-outer {
margin: -0 0 -1px;
padding: 0 0 0;
color: #ffffff;
overflow: hidden;
}
.footer-fauxborder-left {
border-top: 1px solid #222222;
background: #141414 none repeat scroll 0 0;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
-goog-ms-box-shadow: 0 0 0 rgba(0, 0, 0, .2);
box-shadow: 0 0 0 rgba(0, 0, 0, .2);
margin: 0 -0;
}
/* Mobile
----------------------------------------------- */
body.mobile {
background-size: auto;
}
.mobile .body-fauxcolumn-outer {
background: transparent none repeat scroll top left;
}
*+html body.mobile .main-inner .column-center-inner {
margin-top: 0;
}
.mobile .main-inner .widget {
padding: 0 0 15px;
}
.mobile .main-inner .widget h2 + div,
.mobile .footer-inner .widget h2 + div {
border-top: none;
padding-top: 0;
}
.mobile .footer-inner .widget h2 {
padding: 0.5em 0;
border-bottom: none;
}
.mobile .main-inner .widget .widget-content {
margin: 0;
padding: 7px 0 0;
}
.mobile .main-inner .widget ul,
.mobile .main-inner .widget #ArchiveList ul.flat {
margin: 0 -15px 0;
}
.mobile .main-inner .widget h2.date-header {
right: 0;
}
.mobile .date-header span {
padding: 0.4em 0;
}
.mobile .date-outer:first-child {
margin-bottom: 0;
border: 1px solid #222222;
-moz-border-radius-topleft: 0;
-moz-border-radius-topright: 0;
-webkit-border-top-left-radius: 0;
-webkit-border-top-right-radius: 0;
-goog-ms-border-top-left-radius: 0;
-goog-ms-border-top-right-radius: 0;
border-top-left-radius: 0;
border-top-right-radius: 0;
}
.mobile .date-outer {
border-color: #222222;
border-width: 0 1px 1px;
}
.mobile .date-outer:last-child {
margin-bottom: 0;
}
.mobile .main-inner {
padding: 0;
}
.mobile .header-inner .section {
margin: 0;
}
.mobile .post-outer, .mobile .inline-ad {
padding: 5px 0;
}
.mobile .tabs-inner .section {
margin: 0 10px;
}
.mobile .main-inner .widget h2 {
margin: 0;
padding: 0;
}
.mobile .main-inner .widget h2.date-header span {
padding: 0;
}
.mobile .main-inner .widget .widget-content {
margin: 0;
padding: 7px 0 0;
}
.mobile #blog-pager {
border: 1px solid transparent;
background: #141414 none repeat scroll 0 0;
}
.mobile .main-inner .column-left-inner,
.mobile .main-inner .column-right-inner {
background: transparent none repeat 0 0;
-moz-box-shadow: none;
-webkit-box-shadow: none;
-goog-ms-box-shadow: none;
box-shadow: none;
}
.mobile .date-posts {
margin: 0;
padding: 0;
}
.mobile .footer-fauxborder-left {
margin: 0;
border-top: inherit;
}
.mobile .main-inner .section:last-child .Blog:last-child {
margin-bottom: 0;
}
.mobile-index-contents {
color: #ffffff;
}
.mobile .mobile-link-button {
background: #9ccfdf none repeat scroll 0 0;
}
.mobile-link-button a:link, .mobile-link-button a:visited {
color: #ffffff;
}
.mobile .tabs-inner .PageList .widget-content {
background: transparent;
border-top: 1px solid;
border-color: #222222;
color: #ffffff;
}
.mobile .tabs-inner .PageList .widget-content .pagelist-arrow {
border-left: 1px solid #222222;
}

--></style>
<style id='template-skin-1' type='text/css'><!--
body {
min-width: 1040px;
}
.content-outer, .content-fauxcolumn-outer, .region-inner {
min-width: 1040px;
max-width: 1040px;
_width: 1040px;
}
.main-inner .columns {
padding-left: 0px;
padding-right: 310px;
}
.main-inner .fauxcolumn-center-outer {
left: 0px;
right: 310px;
/* IE6 does not respect left and right together */
_width: expression(this.parentNode.offsetWidth -
parseInt("0px") -
parseInt("310px") + 'px');
}
.main-inner .fauxcolumn-left-outer {
width: 0px;
}
.main-inner .fauxcolumn-right-outer {
width: 310px;
}
.main-inner .column-left-outer {
width: 0px;
right: 100%;
margin-left: -0px;
}
.main-inner .column-right-outer {
width: 310px;
margin-right: -310px;
}
#layout {
min-width: 0;
}
#layout .content-outer {
min-width: 0;
width: 800px;
}
#layout .region-inner {
min-width: 0;
width: auto;
}
--></style>
<!-- Syntax Highlighter Additions START -->
<link href='http://alexgorbatchev.com/pub/sh/current/styles/shCore.css' rel='stylesheet' type='text/css'/>
<link href='http://alexgorbatchev.com/pub/sh/current/styles/shThemeEmacs.css' rel='stylesheet' type='text/css'/>
<script src='http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js' type='text/javascript'></script>
<script src='http://alexgorbatchev.com/pub/sh/current/scripts/shBrushCpp.js' type='text/javascript'></script>
<script language='javascript' type='text/javascript'>
 SyntaxHighlighter.config.bloggerMode = true;
 SyntaxHighlighter.all();
</script>
<!-- Syntax Highlighter Additions END -->
<script type="text/javascript">var a="indexOf",b="&m=1",e="(^|&)m=",f="?",g="?m=1";function h(){var c=window.location.href,d=c.split(f);switch(d.length){case 1:return c+g;case 2:return 0<=d[1].search(e)?null:c+b;default:return null}}var k=navigator.userAgent;if(-1!=k[a]("Mobile")&&-1!=k[a]("WebKit")&&-1==k[a]("iPad")||-1!=k[a]("Opera Mini")||-1!=k[a]("IEMobile")){var l=h();l&&window.location.replace(l)};
</script><script type="text/javascript">
if (window.jstiming) window.jstiming.load.tick('headEnd');
</script></head>
<body class='loading variant-dark'>
<div class='navbar section' id='navbar'><div class='widget Navbar' id='Navbar1'><script type="text/javascript">
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener('load',
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script>
<div id="navbar-iframe-container"></div>
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<script type="text/javascript">
        gapi.load("gapi.iframes:gapi.iframes.style.bubble", function() {
          if (gapi.iframes && gapi.iframes.getContext) {
            gapi.iframes.getContext().openChild({
                url: 'https://www.blogger.com/navbar.g?targetBlogID\0751531260037698275277\46blogName\75Ephenation+OpenGL\46publishMode\75PUBLISH_MODE_BLOGSPOT\46navbarType\75BLUE\46layoutType\75LAYOUTS\46searchRoot\75http://ephenationopengl.blogspot.com/search\46blogLocale\75sv\46v\0752\46homepageUrl\75http://ephenationopengl.blogspot.com/\46targetPostID\0756006342091983697280\46blogPostOrPageUrl\75http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html\46blogFollowUrl\75https://plus.google.com/108509041026737369045\46vt\0752368246267760643103',
                where: document.getElementById("navbar-iframe-container"),
                id: "navbar-iframe"
            });
          }
        });
      </script><script type="text/javascript">
(function() {
var script = document.createElement('script');
script.type = 'text/javascript';
script.src = '//pagead2.googlesyndication.com/pagead/js/google_top_exp.js';
var head = document.getElementsByTagName('head')[0];
if (head) {
head.appendChild(script);
}})();
</script>
</div></div>
<div class='body-fauxcolumns'>
<div class='fauxcolumn-outer body-fauxcolumn-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</div>
<div class='content'>
<div class='content-fauxcolumns'>
<div class='fauxcolumn-outer content-fauxcolumn-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</div>
<div class='content-outer'>
<div class='content-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left content-fauxborder-left'>
<div class='fauxborder-right content-fauxborder-right'></div>
<div class='content-inner'>
<header>
<div class='header-outer'>
<div class='header-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left header-fauxborder-left'>
<div class='fauxborder-right header-fauxborder-right'></div>
<div class='region-inner header-inner'>
<div class='header section' id='header'><div class='widget Header' id='Header1'>
<div id='header-inner'>
<div class='titlewrapper'>
<h1 class='title'>
<a href='http://ephenationopengl.blogspot.de/'>Ephenation OpenGL</a>
</h1>
</div>
<div class='descriptionwrapper'>
<p class='description'><span>Ephenation is a MMORPG in an adventure setting that supports player defined additions.

This is a blog where I show the progress from making the game. Main focus is on the application of OpenGL. I hope this will help others to benefit from my mistakes and experiences.

Any bitcoin donations are welcome to 18JGunpjKBiJ4gVbwP2d9UHaX8z2RPBrL7.</span></p>
</div>
</div>
</div></div>
</div>
</div>
<div class='header-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</header>
<div class='tabs-outer'>
<div class='tabs-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left tabs-fauxborder-left'>
<div class='fauxborder-right tabs-fauxborder-right'></div>
<div class='region-inner tabs-inner'>
<div class='tabs section' id='crosscol'></div>
<div class='tabs section' id='crosscol-overflow'></div>
</div>
</div>
<div class='tabs-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<div class='main-outer'>
<div class='main-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left main-fauxborder-left'>
<div class='fauxborder-right main-fauxborder-right'></div>
<div class='region-inner main-inner'>
<div class='columns fauxcolumns'>
<div class='fauxcolumn-outer fauxcolumn-center-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<div class='fauxcolumn-outer fauxcolumn-left-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<div class='fauxcolumn-outer fauxcolumn-right-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<!-- corrects IE6 width calculation -->
<div class='columns-inner'>
<div class='column-center-outer'>
<div class='column-center-inner'>
<div class='main section' id='main'><div class='widget Blog' id='Blog1'>
<div class='blog-posts hfeed'>
<!-- google_ad_section_start(name=default) -->

          <div class="date-outer">
        
<h2 class='date-header'><span>21 juni 2012</span></h2>

          <div class="date-posts">
        
<div class='post-outer'>
<div class='post hentry' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'>
<a name='6006342091983697280'></a>
<h3 class='post-title entry-title' itemprop='name'>
Doing animations in OpenGL
</h3>
<div class='post-header'>
<div class='post-header-line-1'></div>
</div>
<div class='post-body entry-content' id='post-body-6006342091983697280' itemprop='description articleBody'>
<div class="MsoNormal">
<span lang="EN-US">This document explains how to do animations in OpenGL based on skeletal animation. The basic idea is to define the skin mesh once, and then only update the bones position. I will not show how to create the buffers (VBO) and uniforms, which is readily available elsewhere. Instead, I concentrate on how to interpret and prepare the animation data. In principle, animation is implemented in four steps:<o:p></o:p></span></div>
<div class="MsoListParagraphCxSpFirst" style="margin-left: 54pt; mso-add-space: auto; mso-list: l0 level1 lfo1; text-indent: -18pt;">
<span lang="EN-US">1.<span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span lang="EN-US">Use a tool, e.g. <a href="http://www.blender.org/">Blender</a>, to create an animation. <o:p></o:p></span></div>
<div class="MsoListParagraphCxSpMiddle" style="margin-left: 54pt; mso-add-space: auto; mso-list: l0 level1 lfo1; text-indent: -18pt;">
<span lang="EN-US">2.<span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span lang="EN-US">Load the data in the initialization phase of the application, transform and pre compute as much as possible. <o:p></o:p></span></div>
<div class="MsoListParagraphCxSpMiddle" style="margin-left: 54pt; mso-add-space: auto; mso-list: l0 level1 lfo1; text-indent: -18pt;">
<span lang="EN-US">3.<span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span lang="EN-US">For every frame to be drawn, use interpolation to compute a transformation matrix for each joint. <o:p></o:p></span></div>
<div class="MsoListParagraphCxSpLast" style="margin-left: 54pt; mso-add-space: auto; mso-list: l0 level1 lfo1; text-indent: -18pt;">
<span lang="EN-US">4.<span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span lang="EN-US">Let the shader do the final transformation of each vertex (skin section), as depending on the joint matrices. <o:p></o:p></span></div>
<div class="MsoNormal">
<span lang="EN-US">Step one is only needed once, of course. Step two can conveniently be done by a custom conversion tool, and saved in a special file. Blender was used for creating the models. There are lots of tutorials about this, so I am not going to go into many details. For some background to animation and skinning, see <a href="https://docs.google.com/viewer?url=http%3A%2F%2Fwww-scf.usc.edu%2F~gamedev%2Fanimation.ppt">Animation in video games</a> by Jason Gregory.<o:p></o:p></span></div>
<div class="MsoNormal">
<span lang="EN-US"><br />
</span></div>
<div class="MsoNormal">
<span lang="EN-US">Any comments are welcome, I will try to correct or improve.</span></div>
<h2>
          <span lang="EN-US">Model file format<o:p></o:p></span></h2>
<div class="MsoNormal">
<span lang="EN-US">I use <a href="http://assimp.sourceforge.net/">Assimp</a> to load the model files. There are many possible formats that can be used, and it is not obvious which one is best. In a commercial project, consider using a custom format. This has the advantage that loading will be quick, and the files will be harder to copy. Also, the main application doesn't need to know about file formats of 3D modeling applications.<o:p></o:p></span><br />
<span lang="EN-US"><br />
</span></div>
<div class="MsoNormal">
<span lang="EN-US">The easiest format is probably the .obj format, but it does not support animations and bones. I use the Collada (.dae) file format. Make sure not to use the pre transformation flag for vertices (aiProcess_PreTransformVertices), as this will remove the bones data.<o:p></o:p></span><br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://1.bp.blogspot.com/-mTmYiNy1qps/T-LGDoFkUaI/AAAAAAAAEWk/gDjZqKDFHaM/s1600/WalkingFrog.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-mTmYiNy1qps/T-LGDoFkUaI/AAAAAAAAEWk/gDjZqKDFHaM/s1600/WalkingFrog.JPG" /></a></div>
<span lang="EN-US"><br />
</span></div>
<h2>
          <span lang="EN-US">Definitions<o:p></o:p></span></h2>
<div class="MsoNormal">
<span lang="EN-US">This is a list of definitions used below:<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<i><span lang="EN-US">bone matrix</span></i><span lang="EN-US">: The resulting skinning transformation matrix you'd upload to the vertex shader.<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<i><span lang="EN-US">offset matrix</span></i><span lang="EN-US">: The matrix transforming from&nbsp;</span><span style="background-color: transparent;">mesh space</span><span style="background-color: transparent;">&nbsp;to&nbsp;</span><span style="background-color: transparent;">bone space, also called the inverse bind pose transform in Assimp</span><span style="background-color: transparent;">.</span></div>
<div class="MsoNoSpacing">
<i><span lang="EN-US">node matrix</span></i><span lang="EN-US">: a node's transformation matrix in relation to its parent node. <o:p></o:p></span></div>
<div class="MsoNoSpacing">
<i><span lang="EN-US">bind pose</span></i><span lang="EN-US"> and <i>rest position</i>: The original position of a model.<o:p></o:p></span></div>
<div class="MsoNormal">
<i><span lang="EN-US">frame</span></i><span lang="EN-US">: One complete picture rendering.<o:p></o:p></span></div>
<div class="MsoNormal">
<span lang="EN-US">The words "bone" and "joint" are used now and then, but really mean the same in this text.</span></div>
<h2>
          <span lang="EN-US">Bind pose and current pose<o:p></o:p></span></h2>
<div class="MsoNormal">
<span lang="EN-US">The bind pose is the rest position; the position where no animation has been applied. This is the position the meshes get when the influence of the bones are ignored. The current pose is one frame in an animation. The bones information in the node tree (pointed at from the </span><b><span lang="EN-US" style="font-family: 'Courier New';">aiNode</span></b><span lang="EN-US">) defines the bind pose of the skeleton.</span></div>
<h2>
          <span lang="EN-US">Assimp data structure<o:p></o:p></span></h2>
<div class="MsoNormal">
<span lang="EN-US">Arrows represents pointers, and the blue dashed arrows represent references by name or index.<o:p></o:p></span></div>
<img src="https://docs.google.com/drawings/pub?id=1RVkLNM-tQJnNUyhksUPVe7k22pSXFgJPSERabDXTlXE&amp;w=610&amp;h=612" /><br />
<h2>
          <span lang="EN-US">Mesh dependency of bones<o:p></o:p></span></h2>
<div class="MsoNormal">
<span lang="EN-US">In rest position, each mesh has a transformation matrix that is relative to its parent (as defined by the node tree </span><b><span lang="EN-US" style="font-family: 'Courier New';">aiNode</span></b><span lang="EN-US">). However, when doing animations, there is instead a list of bones that the mesh depends on. The offset matrix (in </span><b><span lang="EN-US" style="font-family: 'Courier New';">aiBone</span></b><span lang="EN-US">) defines how to get the mesh position in relation to these bones. When the animation bones are in rest position, the resulting transformation matrix will be the same as the mesh transformation matrix (in </span><b><span lang="EN-US" style="font-family: 'Courier New';">aiNode</span></b><span lang="EN-US">).&nbsp;</span>If there <span style="font-family: inherit;">is more than </span>one mesh, a bone may be used more than once, with different offset matrices and weight tables for each mesh.<br />
<br /></div>
<div class="MsoNormal">
<span lang="EN-US">Every vertex in a mesh can depend on several joints. This is defined by the </span><span lang="EN-US"><b><span style="font-family: 'Courier New';">aiBone</span><span style="font-family: inherit;">&nbsp;</span></b></span><span style="font-family: inherit;">list in</span><span lang="EN-US"><b><span style="font-family: inherit;">&nbsp;</span><span style="font-family: 'Courier New';">aiMesh</span></b></span><span lang="EN-US">. This list is a sub set of all bones, restricted to those that have an effect on the mesh. To make the shader program efficient, it has to have a reasonable limit on the number of joints. In my case, I want to limit this to at most three joints. Assimp has support for this, using the flag <span style="font-family: 'Courier New', Courier, monospace;">aiProcess_LimitBoneWeights</span><span style="font-family: inherit;"> </span>with<o:p></o:p></span><br />
<span lang="EN-US"><br />
</span></div>
<div align="center" class="MsoNormal" style="text-align: center;">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt; line-height: 115%;">importer.SetPropertyInteger(AI_CONFIG_PP_LBW_MAX_WEIGHTS, 3);</span></div>
<h2>
          <span lang="EN-US">Key frames and interpolation<o:p></o:p></span></h2>
<div class="MsoNormal">
<span lang="EN-US">An animation is like a movie; there are a number of frames every second. Using 24 frames every second would require a lot of data. Instead, only key frames are used, and interpolation in between. The key frames can be defined at irregular time intervals. A movement of a bone consists of three parts:&nbsp;</span><span style="background-color: transparent;">scaling,&nbsp;</span><span style="background-color: transparent;">rotation, and translation. The scaling is usually not needed, but rotation and translation are. Interpolating translation movement is trivial, as the translation is linear. To convert from a key frame data to a transformation matrix, I use the code as follows. Scaling, rotation and translation, are values copied from the scaling key, quaternion key, and position key, respectively, and coded as the corresponding glm type.</span><br />
<br />
<span style="font-family: 'Courier New', Courier, monospace;">aiVector3D ScalingKey;<br />
aiQuaternion RotationKey;<br />
aiVector3D PositionKey;<br />
<br />
glm::vec3 s(</span><span style="font-family: 'Courier New', Courier, monospace;">ScalingKey</span><span style="font-family: 'Courier New', Courier, monospace;">.x,&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">ScalingKey</span><span style="font-family: 'Courier New', Courier, monospace;">.y,&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">ScalingKey</span><span style="font-family: 'Courier New', Courier, monospace;">.z);<br />
glm::quat q(</span><span style="font-family: 'Courier New', Courier, monospace;">RotationKey</span><span style="font-family: 'Courier New', Courier, monospace;">.w,&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">RotationKey</span><span style="font-family: 'Courier New', Courier, monospace;">.x,&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">RotationKey</span><span style="font-family: 'Courier New', Courier, monospace;">.y,&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">RotationKey</span><span style="font-family: 'Courier New', Courier, monospace;">.z);<br />
glm::vec3 t(</span><span style="font-family: 'Courier New', Courier, monospace;">PositionKey</span><span style="font-family: 'Courier New', Courier, monospace;">.x,&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">PositionKey</span><span style="font-family: 'Courier New', Courier, monospace;">.y,&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">PositionKey</span><span style="font-family: 'Courier New', Courier, monospace;">.z);<br />
<br />
glm::mat4 S = glm::scale(glm::mat4(1), s);<br />
glm::mat4 R = glm::mat4_cast(q);<br />
glm::mat4 T = glm::translate(glm::mat4(1), t);<br />
<br />
glm::mat4 M = T * R * S;</span><br />
<div>
</div>
<br />
Rotation is coded as <a href="http://en.wikipedia.org/wiki/Quaternion">quaternions</a>. That means that interpolation is efficient and of high precision. However, OpenGL uses 4x4 matrices for transformations. Interpolation with matrices (also called linear blend skinning) work well with scaling and translation, but not for rotation. For example, interpolating a rotation that is only given with two points 180 degrees from each other will cut a straight line through the origo instead of following the arc. The interpolation of rotation need to be done before the quaternion is converted to a matrix to avoid this problem.</div>
<div class="MsoNormal">
<span lang="EN-US"><br />
</span></div>
<div class="MsoNormal">
<span lang="EN-US">There is a performance problem with using interpolation on quaternions between key frames. The interpolation itself is very quick, but the problem is the bone parent/child dependency. The interpolation has to be done for every bone. When combined with the scaling and translation, it will generate a new transformation matrix that is relative to the parent node. To get the final transformation matrix (the bone matrix), the result has to be multiplied with the parent node, etc., all the way up to the top node. Finally, the offset matrix has to be applied to each of them. This is a lot of work to do on the CPU for every frame that is going to be drawn. If interpolation is done only on transformation matrices, it is possible to pre calculate each matrix (from </span><b><span lang="EN-US" style="font-family: 'Courier New';">aiNodeAnim</span></b><span lang="EN-US">), including the offset matrix. It is a simplification I am using, which adds the requirement on the models to have a sufficient number of key frames when describing rotations.</span></div>
<h2>
          <span lang="EN-US">Animation preparation<o:p></o:p></span></h2>
<div class="MsoNormal">
<span lang="EN-US">For a frame in an animation sequence, the bone (and mesh) positions defined in the node tree (</span><b><span lang="EN-US" style="font-family: 'Courier New';">aiNode</span></b><span lang="EN-US">) are not used. However, the information about parent/child relations is still needed. Instead, new positions are defined by </span><b><span lang="EN-US" style="font-family: 'Courier New';">aiNodeAnim</span></b><span lang="EN-US">. For every bone (called channel in </span><b><span lang="EN-US" style="font-family: 'Courier New';">aiAnimation</span></b><span lang="EN-US">), there are a couple of key frames. Problem is, this bone depends on the parent bone. That is, a bone defined in&nbsp;</span><b style="background-color: transparent;"><span lang="EN-US" style="font-family: 'Courier New';">aiNodeAnim</span></b><span style="background-color: transparent;">&nbsp;has a position defined relative to the parent node. As every bone can have different number of key frames, at independent times, a bone position may depend on a parent bone that does not have a defined position for the same key frame. To simplify, it was decided that all bones shall use the same number of key frames, at the same times.</span><br />
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/-g6TxrTxe8qs/T9vAwnmQHfI/AAAAAAAAETo/zpsPs2_mnz8/s1600/DopeSheet.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="260" src="http://1.bp.blogspot.com/-g6TxrTxe8qs/T9vAwnmQHfI/AAAAAAAAETo/zpsPs2_mnz8/s400/DopeSheet.JPG" width="400" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;">Dopesheet</td></tr>
</tbody></table>
When exporting animation from Blender, set the model is in rest position. Otherwise, the mesh offset matrices in the node tree (aiNode) will be set to the current bone position, instead for the rest position of the bone. You will want to toggle this mode back when working with the animations. It doesn't change the result of the animation, but it helps to debug if you want to compare to the rest position.<br />
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-VISVtDH_Zns/T9ov4kWF32I/AAAAAAAAESs/_7ZV7vchB_g/s1600/RestPosition.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://2.bp.blogspot.com/-VISVtDH_Zns/T9ov4kWF32I/AAAAAAAAESs/_7ZV7vchB_g/s1600/RestPosition.JPG" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;">Rest position</td></tr>
</tbody></table>
</div>
<h2>
          <span lang="EN-US">Blender and bones<o:p></o:p></span></h2>
<div class="MsoNormal">
<span lang="EN-US">Blender has the 'z' axis pointing upward. Bones in Blender have they have their own coordinate system, with 'y' is pointing in the direction of the bone. That means, when an upright bone is added as seen from the &#8216;z&#8217; axis of Blender, that the bone will have the local coordinate system where 'y' is up. This corresponds to a rotation of -pi/2 on the 'x' axis to get to the Blender space. That means that a rotation transformation is needed when using bones for animations. This is done automatically, and created in the export file from Blender. A typical result is a transformation matrix:<o:p></o:p></span><br />
<span lang="EN-US"><br />
</span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New';">1 &nbsp;0 &nbsp;0 &nbsp;0<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New';">0 &nbsp;0 &nbsp;1 &nbsp;0<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New';">0 -1 &nbsp;0 &nbsp;0<o:p></o:p></span></div>
<div class="MsoNormal">
<span lang="EN-US" style="font-family: 'Courier New';">0 &nbsp;0 &nbsp;0 &nbsp;1<o:p></o:p></span></div>
<div class="MsoNormal">
<br />
This matrix will set the y value to the z value, and the z value to -y. It is possible to enable the display of the bone's local coordinate system in Blender in the Armature tab, "Axis" checkbox. These rotations, and counter rotations, unfortunately make it a little harder to debug and understand the matrix transformations.<br />
<br />
Notice that OpenGL doesn't have the same coordinate system ('z' is by default pointing out of the screen) as Blender, which means that you eventually will have to make a model rotation of your own. If you don't, your models will lay down on the side.</div>
<h2>
          <span lang="EN-US">Matrix multiplication<o:p></o:p></span></h2>
<div class="MsoNormal">
<span lang="EN-US">Exporting to Collada format from Blender usually gives a node tree (</span><b><span lang="EN-US" style="font-family: 'Courier New';">aiNode</span></b><span lang="EN-US">) as follows:<o:p></o:p></span><br />
<span lang="EN-US"><br />
</span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New';">Scene <o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New';">..Armature <o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New';">....Bone1 <o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New';">......Bone2 <o:p></o:p></span></div>
<div class="MsoNormal">
<span lang="EN-US" style="font-family: 'Courier New';">..Mesh<o:p></o:p></span></div>
<div class="MsoNormal">
<br />
Mesh matrices are relative to the Scene, and has to be computed just like the bones. If that isn't done, all meshes will be drawn over each other, at the same position.<br />
<br /></div>
<div class="MsoNormal">
<span lang="EN-US">Each node </span><b><span lang="EN-US" style="font-family: 'Courier New';">inaiNodeAnim</span></b><span lang="EN-US"> has a matrix that transforms to the parent node. To get the final transformation matrix of Bone2, a matrix multiplication is needed: Scene*Armature*Bone1*Bone2. This is true for the bind pose, as well as for the animations of bones. But when computing animation matrices, data from </span><b><span lang="EN-US" style="font-family: 'Courier New';">aiNodeAnim</span></b><span lang="EN-US"> is used and replace the data from </span><b><span lang="EN-US" style="font-family: 'Courier New';">aiNode</span></b><span lang="EN-US">. When testing that animation works, start with defining an animation at the same rotation, location and scaling as the bind pose. That would give bone replacement matrices that are the same as the originally defined in </span><b><span lang="EN-US" style="font-family: 'Courier New';">aiNode</span></b><span lang="EN-US">.<o:p></o:p></span><br />
<span lang="EN-US"><br />
</span></div>
<div class="MsoNormal">
<span lang="EN-US">The above matrix multiplication gives the final matrices for each bone. But that can't be used to transform the mesh vertices yet, as it will give the animated locations of the bones. The mesh absolute rest position is Scene*Mesh. Instead of using the mesh transformation matrix from the node tree, a new mesh matrix is computed based on the bones and an offset. There is a matrix that is meant for exactly that, and it is the offset matrix in </span><b><span lang="EN-US" style="font-family: 'Courier New';">aiBone</span></b><span lang="EN-US">. The new mesh matrix is Scene*Armature*Bone1*Bone2*Offs. This is the bone matrix that shall be sent to the shader.<o:p></o:p></span><br />
<h2>
<span style="background-color: transparent;">Animation shader</span></h2>
</div>
<div class="MsoNormal">
<span lang="EN-US">This is the animation vertex shader, with functions irrelevant to animation removed.<o:p></o:p></span><br />
<span lang="EN-US"><br />
</span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">uniform mat4 projectionMatrix;<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">uniform mat4 modelMatrix;<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">uniform mat4 viewMatrix;<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">uniform mat4 bonesMatrix[64];<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">in vec4 vertex;<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">in vec3 weights;<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">in vec3 joints;<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">void main(void){<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">&nbsp; mat4 animationMatrix =<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">&nbsp; &nbsp;&nbsp;weights[0] * bonesMatrix[int(joints[0])] +<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">&nbsp; &nbsp;&nbsp;weights[1] * bonesMatrix[int(joints[1])] +<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">&nbsp; &nbsp;&nbsp;weights[2] * bonesMatrix[int(joints[2])];<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">&nbsp; gl_Position = projectionMatrix*viewMatrix*modelMatrix*animationMatrix*vertex;<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">}<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<br /></div>
<div class="MsoNoSpacing">
<span lang="EN-US">bonesMatrix: Up to 64 joints can be used in a model. It is a uniform, as the same list of bones is used for all vertices.<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US">vertex: This is a vertex from the mesh that is going to be animated by 0 to 3 bones.<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US">joints: The index of three joints for the current vertex.<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US">weights: The weights to be used for the three joints. There is one set of weights for each vertex.</span><br />
<h2>
<span lang="EN-US">Debugging</span></h2>
<span lang="EN-US"></span><br />
<div class="MsoNoSpacing">
<span style="background-color: transparent;">To debug the application, you can do as follows</span></div>
<ul>
<li>Change the shader so as to use the identity matrix instead of bones matrix. That should draw the mesh in bind pose.</li>
<li>Do the same thing, but use bone indices to make a color in the fragment shader. That way, you can verify that the right bones are selected by the indices.</li>
<li>Instead, use weight information to make a color, that way you can test that the weights are correctly transferred.</li>
</ul>
<div>
<div class="MsoNormal">
<span lang="EN-US">To help debug an animation application, there are tools where matrix multiplication can easily be tested. I use&nbsp;<a href="http://www.gnu.org/software/octave/">Octave</a>&nbsp;for this.</span></div>
</div>
</div>
<h2>
          <span lang="EN-US">Column major and row major<o:p></o:p></span></h2>
<div class="MsoNormal">
<span lang="EN-US">The expressions <i>column major</i> and <i>row major</i> denotes how a matrix is stored in memory. OpenGL and glm use column major, DirectX and Assimp use row major. <a href="http://glm.g-truc.net/">glm </a>is the math library used in the Ephenation project. This isn't much of a problem, except when a conversion from one to another is needed. The most effective conversion would have been to simply copy 16 consecutive floats for a 4x4 matrix when converting from Assimp aiMatrix4x4 to glm::mat4, but it won't work because of different layouts in memory. I used the following:<o:p></o:p></span><br />
<span lang="EN-US"><br />
</span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">void CopyaiMat(const aiMatrix4x4 *from, glm::mat4 &amp;to) {<o:p></o:p></span></div>
<div class="MsoNoSpacing" style="margin-left: 65.2pt;">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">to[0][0] = from-&gt;a1; to[1][0] = from-&gt;a2;<o:p></o:p></span></div>
<div class="MsoNoSpacing" style="margin-left: 65.2pt;">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">to[2][0] = from-&gt;a3; to[3][0] = from-&gt;a4;<o:p></o:p></span></div>
<div class="MsoNoSpacing" style="margin-left: 65.2pt;">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">to[0][1] = from-&gt;b1; to[1][1] = from-&gt;b2;<o:p></o:p></span></div>
<div class="MsoNoSpacing" style="margin-left: 65.2pt;">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">to[2][1] = from-&gt;b3; to[3][1] = from-&gt;b4;<o:p></o:p></span></div>
<div class="MsoNoSpacing" style="margin-left: 65.2pt;">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">to[0][2] = from-&gt;c1; to[1][2] = from-&gt;c2;<o:p></o:p></span></div>
<div class="MsoNoSpacing" style="margin-left: 65.2pt;">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">to[2][2] = from-&gt;c3; to[3][2] = from-&gt;c4;<o:p></o:p></span></div>
<div class="MsoNoSpacing" style="margin-left: 65.2pt;">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">to[0][3] = from-&gt;d1; to[1][3] = from-&gt;d2;<o:p></o:p></span></div>
<div class="MsoNoSpacing" style="margin-left: 65.2pt;">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">to[2][3] = from-&gt;d3; to[3][3] = from-&gt;d4;<o:p></o:p></span></div>
<div class="MsoNoSpacing">
<span lang="EN-US" style="font-family: 'Courier New'; font-size: 8pt;">}</span></div>
<div class="MsoNoSpacing">
<h2>
        Edit history</h2>
<div class="MsoNormal" style="font-weight: normal;">
2012-06-21: Added suggestions on how to debug.<br />
2012-06-29: Added information about creating transformation matrix from assimp key frame.<br />
2012-07-25: Correction of "offset matrix" definition. Correction of matrix order in key frames interpolation, improved example and improved explanation of the LBS problem. Clarification of Blender bone orientations and matrix multiplications. Thanks to Dark Helmet for pointing these out!</div>
</div>
<div style='clear: both;'></div>
</div>
<div class='post-footer'>
<div class='post-footer-line post-footer-line-1'><span class='post-author vcard'>
Upplagd av
<span class='fn'>
<a href='https://plus.google.com/108509041026737369045' itemprop='author' rel='author' title='author profile'>
Lars Pensj
</a>
</span>
</span>
<span class='post-timestamp'>
kl.
<a class='timestamp-link' href='http://ephenationopengl.blogspot.de/2012/06/doing-animations-in-opengl.html' itemprop='url' rel='bookmark' title='permanent link'><abbr class='published' itemprop='datePublished' title='2012-06-21T10:11:00+02:00'>10:11</abbr></a>
</span>
<span class='post-comment-link'>
</span>
<span class='post-icons'>
<span class='item-control blog-admin pid-2147142435'>
<a href='http://www.blogger.com/post-edit.g?blogID=1531260037698275277&postID=6006342091983697280&from=pencil' title='Redigera inlgg'>
<img alt='' class='icon-action' height='18' src='http://img2.blogblog.com/img/icon18_edit_allbkg.gif' width='18'/>
</a>
</span>
</span>
<div class='post-share-buttons goog-inline-block'>
<a class='goog-inline-block share-button sb-email' href='http://www.blogger.com/share-post.g?blogID=1531260037698275277&postID=6006342091983697280&target=email' target='_blank' title='Skicka med e-post'><span class='share-button-link-text'>Skicka med e-post</span></a><a class='goog-inline-block share-button sb-blog' href='http://www.blogger.com/share-post.g?blogID=1531260037698275277&postID=6006342091983697280&target=blog' onclick='window.open(this.href, "_blank", "height=270,width=475"); return false;' target='_blank' title='BlogThis!'><span class='share-button-link-text'>BlogThis!</span></a><a class='goog-inline-block share-button sb-twitter' href='http://www.blogger.com/share-post.g?blogID=1531260037698275277&postID=6006342091983697280&target=twitter' target='_blank' title='Dela p Twitter'><span class='share-button-link-text'>Dela p Twitter</span></a><a class='goog-inline-block share-button sb-facebook' href='http://www.blogger.com/share-post.g?blogID=1531260037698275277&postID=6006342091983697280&target=facebook' onclick='window.open(this.href, "_blank", "height=430,width=640"); return false;' target='_blank' title='Dela p Facebook'><span class='share-button-link-text'>Dela p Facebook</span></a><a class='goog-inline-block share-button sb-pinterest' href='http://www.blogger.com/share-post.g?blogID=1531260037698275277&postID=6006342091983697280&target=pinterest' target='_blank' title='Dela p Pinterest'><span class='share-button-link-text'>Dela p Pinterest</span></a><div class='goog-inline-block dummy-container'><g:plusone source='blogger:blog:plusone' href='http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html' size='medium' width='300' annotation='inline'/></div>
</div>
</div>
<div class='post-footer-line post-footer-line-2'><span class='post-labels'>
Etiketter:
<a href='http://ephenationopengl.blogspot.de/search/label/animation' rel='tag'>animation</a>,
<a href='http://ephenationopengl.blogspot.de/search/label/Assimp' rel='tag'>Assimp</a>,
<a href='http://ephenationopengl.blogspot.de/search/label/Blender' rel='tag'>Blender</a>,
<a href='http://ephenationopengl.blogspot.de/search/label/Collada' rel='tag'>Collada</a>,
<a href='http://ephenationopengl.blogspot.de/search/label/OpenGL' rel='tag'>OpenGL</a>,
<a href='http://ephenationopengl.blogspot.de/search/label/shader' rel='tag'>shader</a>,
<a href='http://ephenationopengl.blogspot.de/search/label/skinning' rel='tag'>skinning</a>
</span>
</div>
<div class='post-footer-line post-footer-line-3'></div>
</div>
</div>
<div class='comments' id='comments'>
<a name='comments'></a>
<h4>12 kommentarer:</h4>
<div class='comments-content'>
<script async='async' src='//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js' type='text/javascript'></script>
<script type='text/javascript'>
    (function() {
      var items = [{'id': '2652142321838854284', 'body': 'Got some time on vacation to read through this.  Have done skeletal, but haven\46#39;t used ASSIMP for skeletal import, so that\46#39;s what I most wanted to learn from your tutorial.  Good stuff -- thanks.  A few comments.  Will split them up so threaded discussion is easier.\74br /\76\74br /\76First, you note that the bone \46quot;offset matrix\46quot; transforms \46quot;from bone space to mesh space in bind pose\46quot;.  Per ASSIMP docs, I believe this is backwards.  At the URL below, the ASSIMP docs state: \46quot;aiBone ... Its offset matrix declares the transformation needed to transform from mesh space to the local space of this bone.\46quot;\74br /\76\74br /\76This mesh OBJECT-SPACE to BONE-SPACE transform is more commonly called the \46quot;inverse bind pose\46quot; transform.\74br /\76\74br /\76http://assimp.sourceforge.net/lib_html/data.html', 'timestamp': '1342901359038', 'permalink': 'http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment\0751342901359038#c2652142321838854284', 'author': {'name': 'Dark Helmet', 'avatarUrl': 'http://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'http://www.blogger.com/profile/05013270818643893281'}, 'displayTime': '21 juli 2012 22:09', 'deleteclass': 'item-control blog-admin pid-1887094180'}, {'id': '4737933528401009846', 'body': 'In \46quot;Key frames and interpolation\46quot;, it has the transformation order being RTS (rotate, translate, scale).  However, the usual order is SRT (scale, rotate, translate), and the ASSIMP docs confirm that it uses the usual order:\74br /\76\74br /\76http://assimp.sourceforge.net/lib_html/structai_node_anim.html\74br /\76\74br /\76\46quot;The order in which the transformations are applied is as usual - scaling, rotation, translation.\46quot;\74br /\76\74br /\76I think this might be a problem, but please check me on that.', 'timestamp': '1342915003291', 'permalink': 'http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment\0751342915003291#c4737933528401009846', 'author': {'name': 'Dark Helmet', 'avatarUrl': 'http://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'http://www.blogger.com/profile/05013270818643893281'}, 'displayTime': '22 juli 2012 01:56', 'deleteclass': 'item-control blog-admin pid-1887094180'}, {'id': '5466832426447818612', 'body': 'In \46quot;Key frames and interpolation\46quot; it states \46quot;Interpolation with matrices work well with scaling and translation, but not for rotation. ... The interpolation of rotation need to be done before the quaternion is converted to a matrix to avoid this problem.\46quot;\74br /\76\74br /\76But then the shader code proceeds to do standard Linear Blend Skinning (LBS), which interpolates matrices containing different rotations, and can result in the same \46quot;cut a straight line through the [origin] instead of following the arc\46quot; problem you state you are trying to avoid.\74br /\76\74br /\76You\46#39;re on the right track, but in general what you want is beyond what Linear Blend Skinning can give you (without having a lot more closely spaced keyframes than what you\46#39;d otherwise need).  Do a web search for Spherical Blend Skinning (SBS) and Dual Quaternion Skinning (DQS) for some skinning techniques that will avoid the \46quot;cut a straight line\46quot; problem that LBS has (leading to joint collapse) and give you true rotational motion about the joints.', 'timestamp': '1342915585529', 'permalink': 'http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment\0751342915585529#c5466832426447818612', 'author': {'name': 'Dark Helmet', 'avatarUrl': 'http://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'http://www.blogger.com/profile/05013270818643893281'}, 'displayTime': '22 juli 2012 02:06', 'deleteclass': 'item-control blog-admin pid-1887094180'}, {'id': '8742425640620690605', 'body': 'In \46quot;Key frames and interpolation\46quot;, it says \46quot;There is a performance problem with using interpolation on quaternions. ... If interpolation would have been done only on the transformation matrices, it would be possible to pre-calculate each matrix ... including the offset matrix.\74br /\76\74br /\76The terminology doesn\46#39;t make what you\46#39;re saying clear here but I think you are talking about temporal interpolation of bone (joint) keyframe data (aiNodeAnim) using just the final \46quot;skinning transforms\46quot;, also called \46quot;bone (joint) final transforms\46quot; in some contexts (and which you call \46quot;bone matrix\46quot; in your Definitions section).\74br /\76\74br /\76This capability, in fact, is exactly what Spherical Blend Skinning (SBS) and Dual Quaternion Skinnning (DQS) give you over Linear Blend Skinning (LBS) -- nice, angular rotation interpolation via quaternions, all on the GPU even, and without much additional cost at all.  In fact, in some cases SBS can be cheaper than LBS.', 'timestamp': '1342916750458', 'permalink': 'http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment\0751342916750458#c8742425640620690605', 'author': {'name': 'Dark Helmet', 'avatarUrl': 'http://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'http://www.blogger.com/profile/05013270818643893281'}, 'displayTime': '22 juli 2012 02:25', 'deleteclass': 'item-control blog-admin pid-1887094180'}, {'id': '7984574248211449741', 'body': 'I didn\46#39;t get a clear picture from your write-up of what conceptual transform was actually stored in aiNodeAnims.  Looking at another ASSIMP skeletal tutorial here:\74br /\76\74br /\76http://ogldev.atspace.co.uk/www/tutorial38/tutorial38.html\74br /\76\74br /\76(specifically the Mesh::ReadNodeHeirarchy() code), I get the impression that this (which I think you call a \46quot;node matrix\46quot;) contains the product of the bone (A)nimation transform (a rotation of the bone in the bone\46#39;s local space) and the bone\46#39;s (O)rientation transform (which transforms you from bone space to parent bone space).  This is sometimes called the bone (L)ocal transform (L\75A*O).  \74br /\76\74br /\76Is this correct?', 'timestamp': '1342916998973', 'permalink': 'http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment\0751342916998973#c7984574248211449741', 'author': {'name': 'Dark Helmet', 'avatarUrl': 'http://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'http://www.blogger.com/profile/05013270818643893281'}, 'displayTime': '22 juli 2012 02:29', 'deleteclass': 'item-control blog-admin pid-1887094180'}, {'id': '2812387734696173739', 'body': 'In the \46quot;Blender and bones\46quot; section, the mention \46quot;This corresponds to a rotation of -pi/2 on the \46#39;x\46#39; axis.\46quot;  This took me a little bit to figure out because you didn\46#39;t state which space you\46#39;re transforming \46quot;to\46quot;.  I believe the target space is the common one used for OpenGL EYE-SPACE, where you\46#39;re looking down -Z, with X right and Y up.  You might mention that just so it\46#39;s simpler to understand.', 'timestamp': '1342917256789', 'permalink': 'http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment\0751342917256789#c2812387734696173739', 'author': {'name': 'Dark Helmet', 'avatarUrl': 'http://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'http://www.blogger.com/profile/05013270818643893281'}, 'displayTime': '22 juli 2012 02:34', 'deleteclass': 'item-control blog-admin pid-1887094180'}, {'id': '2352652682022729783', 'body': 'In the \46quot;Matrix Multiplication\46quot; section, it says \46quot;Each node in aiNodeAnim has a matrix that transforms from the parent.  To get the transformation matrix of Bone2, ...\46quot;\74br /\76\74br /\76Here again I \46quot;think\46quot; aiNodeAnim contains the bone local transform (L), which applies the bone animation transform (A) and then the bone orientation transform (O).  The latter transforms from that bone\46#39;s space \46quot;to\46quot; its parent bone\46#39;s space, not \46quot;from\46quot;.  Please check me on that, but if so, I think you need \46quot;to\46quot; here not \46quot;from\46quot;.\74br /\76\74br /\76And again, use of the generic \46quot;the transformation matrix\46quot; for (in this case) the joint global matrix (G) (a different transform from last time, which does not include the inverse bind pose aka offset matrix) is a bit confusing.  It might help clarity to give these transforms names and use the specific names.', 'timestamp': '1342917801394', 'permalink': 'http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment\0751342917801394#c2352652682022729783', 'author': {'name': 'Dark Helmet', 'avatarUrl': 'http://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'http://www.blogger.com/profile/05013270818643893281'}, 'displayTime': '22 juli 2012 02:43', 'deleteclass': 'item-control blog-admin pid-1887094180'}, {'id': '8508629704997233938', 'parentId': '2652142321838854284', 'body': 'Thanks for your thorough scrutiny, I appreciate it!\74br /\76\74br /\76I did corrections and clarifications from your remarks.', 'timestamp': '1343210262261', 'permalink': 'http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment\0751343210262261#c8508629704997233938', 'author': {'name': 'Lars Pensj', 'avatarUrl': '//lh6.googleusercontent.com/-2HcRDaE_kGg/AAAAAAAAAAI/AAAAAAAADOY/A4sQPH3pTf0/s512-c/photo.jpg', 'profileUrl': 'http://www.blogger.com/profile/09684923496484507641'}, 'displayTime': '25 juli 2012 11:57', 'deleteclass': 'item-control blog-admin pid-2147142435'}, {'id': '3342573735093289983', 'parentId': '4737933528401009846', 'body': 'Confirmed. I didn\46#39;t use the scaling, so I never noticed the problem. The rotation and translation was correct, but I improved the code example to make it easier to read, as well as using consistent explanations.', 'timestamp': '1343210504109', 'permalink': 'http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment\0751343210504109#c3342573735093289983', 'author': {'name': 'Lars Pensj', 'avatarUrl': '//lh6.googleusercontent.com/-2HcRDaE_kGg/AAAAAAAAAAI/AAAAAAAADOY/A4sQPH3pTf0/s512-c/photo.jpg', 'profileUrl': 'http://www.blogger.com/profile/09684923496484507641'}, 'displayTime': '25 juli 2012 12:01', 'deleteclass': 'item-control blog-admin pid-2147142435'}, {'id': '1365671552349647785', 'parentId': '8742425640620690605', 'body': 'You are correct in my use of LBS, I clarified the description of this. Thanks for the references to SBS and DQS, I will check them up!', 'timestamp': '1343210687233', 'permalink': 'http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment\0751343210687233#c1365671552349647785', 'author': {'name': 'Lars Pensj', 'avatarUrl': '//lh6.googleusercontent.com/-2HcRDaE_kGg/AAAAAAAAAAI/AAAAAAAADOY/A4sQPH3pTf0/s512-c/photo.jpg', 'profileUrl': 'http://www.blogger.com/profile/09684923496484507641'}, 'displayTime': '25 juli 2012 12:04', 'deleteclass': 'item-control blog-admin pid-2147142435'}, {'id': '2819222661320838811', 'parentId': '7984574248211449741', 'body': 'Yes.', 'timestamp': '1343210861703', 'permalink': 'http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment\0751343210861703#c2819222661320838811', 'author': {'name': 'Lars Pensj', 'avatarUrl': '//lh6.googleusercontent.com/-2HcRDaE_kGg/AAAAAAAAAAI/AAAAAAAADOY/A4sQPH3pTf0/s512-c/photo.jpg', 'profileUrl': 'http://www.blogger.com/profile/09684923496484507641'}, 'displayTime': '25 juli 2012 12:07', 'deleteclass': 'item-control blog-admin pid-2147142435'}, {'id': '1736977738967735184', 'body': 'Lars Pensj? The creator of LpMUD from which one of best drivers (CD) and MUDs (Genesis) originated? I\46#39;ve been playing Genesis since 95 as a teenager, and been developing another non-english MUD based on CD driver for many years. I took my first steps in object oriented programming thanks to LPC. This is an honor, Sir :)\74br /\76\74br /\76I found this tutorial looking for some info on skeletal animation, its really great to see you\46#39;re now working with OpenGL and from what I see on this blog you keep interest in some virtual worlds. I\46#39;ve been through countless MUD engines in the past (Pike and DGD being most recent ones) and I was always fascinated by MUD environments which had great atmosphere, unlike present MMO games. I\46#39;m also working on some engine that may (or may not) become some kind of game similar to MUDs of old (if you\46#39;re interested, previous project\46#39;s blog is here - http://prediter.blogspot.com/ it was suspended and is now continued in less complex form, as implementing a real planet turned out to be way too complex and wouldn\46#39;t add nearly as much to the gameplay as it cost to implement)', 'timestamp': '1344370261663', 'permalink': 'http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment\0751344370261663#c1736977738967735184', 'author': {'name': 'noizex', 'avatarUrl': 'http://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'http://www.blogger.com/profile/04064580251663138818'}, 'displayTime': '7 augusti 2012 22:11', 'deleteclass': 'item-control blog-admin pid-1470126240'}];
      var msgs = {'loadMore': 'Ls in mer...', 'loading': 'Lser in...', 'loaded': 'Inga fler!', 'addComment': 'Lgg till kommentar', 'reply': 'Svara', 'delete': 'Radera'};
      var config = {'blogId': '1531260037698275277', 'postId': '6006342091983697280', 'feed': 'http://ephenationopengl.blogspot.com/feeds/6006342091983697280/comments/default', 'authorName': 'Lars Pensj', 'authorUrl': 'http://www.blogger.com/profile/09684923496484507641', 'baseUri': 'http://www.blogger.com', 'maxThreadDepth': 2};

// <![CDATA[
      var cursor = null;
      if (items && items.length > 0) {
        cursor = parseInt(items[items.length - 1].timestamp) + 1;
      }

      var bodyFromEntry = function(entry) {
        if (entry.gd$extendedProperty) {
          for (var k in entry.gd$extendedProperty) {
            if (entry.gd$extendedProperty[k].name == 'blogger.contentRemoved') {
              return '<span class="deleted-comment">' + entry.content.$t + '</span>';
            }
          }
        }
        return entry.content.$t;
      }

      var parse = function(data) {
        cursor = null;
        var comments = [];
        if (data && data.feed && data.feed.entry) {
          for (var i = 0, entry; entry = data.feed.entry[i]; i++) {
            var comment = {};
            // comment ID, parsed out of the original id format
            var id = /blog-(\d+).post-(\d+)/.exec(entry.id.$t);
            comment.id = id ? id[2] : null;
            comment.body = bodyFromEntry(entry);
            comment.timestamp = Date.parse(entry.published.$t) + '';
            if (entry.author && entry.author.constructor === Array) {
              var auth = entry.author[0];
              if (auth) {
                comment.author = {
                  name: (auth.name ? auth.name.$t : undefined),
                  profileUrl: (auth.uri ? auth.uri.$t : undefined),
                  avatarUrl: (auth.gd$image ? auth.gd$image.src : undefined)
                };
              }
            }
            if (entry.link) {
              if (entry.link[2]) {
                comment.link = comment.permalink = entry.link[2].href;
              }
              if (entry.link[3]) {
                var pid = /.*comments\/default\/(\d+)\?.*/.exec(entry.link[3].href);
                if (pid && pid[1]) {
                  comment.parentId = pid[1];
                }
              }
            }
            comment.deleteclass = 'item-control blog-admin';
            if (entry.gd$extendedProperty) {
              for (var k in entry.gd$extendedProperty) {
                if (entry.gd$extendedProperty[k].name == 'blogger.itemClass') {
                  comment.deleteclass += ' ' + entry.gd$extendedProperty[k].value;
                } else if (entry.gd$extendedProperty[k].name == 'blogger.displayTime') {
                  comment.displayTime = entry.gd$extendedProperty[k].value;
                }
              }
            }
            comments.push(comment);
          }
        }
        return comments;
      };

      var paginator = function(callback) {
        if (hasMore()) {
          var url = config.feed + '?alt=json&v=2&orderby=published&reverse=false&max-results=50';
          if (cursor) {
            url += '&published-min=' + new Date(cursor).toISOString();
          }
          window.bloggercomments = function(data) {
            var parsed = parse(data);
            cursor = parsed.length < 50 ? null
                : parseInt(parsed[parsed.length - 1].timestamp) + 1
            callback(parsed);
            window.bloggercomments = null;
          }
          url += '&callback=bloggercomments';
          var script = document.createElement('script');
          script.type = 'text/javascript';
          script.src = url;
          document.getElementsByTagName('head')[0].appendChild(script);
        }
      };
      var hasMore = function() {
        return !!cursor;
      };
      var getMeta = function(key, comment) {
        if ('iswriter' == key) {
          var matches = !!comment.author
              && comment.author.name == config.authorName
              && comment.author.profileUrl == config.authorUrl;
          return matches ? 'true' : '';
        } else if ('deletelink' == key) {
          return config.baseUri + '/delete-comment.g?blogID='
               + config.blogId + '&postID=' + comment.id;
        } else if ('deleteclass' == key) {
          return comment.deleteclass;
        }
        return '';
      };

      var replybox = null;
      var replyUrlParts = null;
      var replyParent = undefined;

      var onReply = function(commentId, domId) {
        if (replybox == null) {
          // lazily cache replybox, and adjust to suit this style:
          replybox = document.getElementById('comment-editor');
          if (replybox != null) {
            replybox.height = '250px';
            replybox.style.display = 'block';
            replyUrlParts = replybox.src.split('#');
          }
        }
        if (replybox && (commentId !== replyParent)) {
          document.getElementById(domId).insertBefore(replybox, null);
          replybox.src = replyUrlParts[0]
              + (commentId ? '&parentID=' + commentId : '')
              + '#' + replyUrlParts[1];
          replyParent = commentId;
        }
      };

      var hash = (window.location.hash || '#').substring(1);
      var startThread, targetComment;
      if (/^comment-form_/.test(hash)) {
        startThread = hash.substring('comment-form_'.length);
      } else if (/^c[0-9]+$/.test(hash)) {
        targetComment = hash.substring(1);
      }

      // Configure commenting API:
      var configJso = {
        'maxDepth': config.maxThreadDepth
      };
      var provider = {
        'id': config.postId,
        'data': items,
        'loadNext': paginator,
        'hasMore': hasMore,
        'getMeta': getMeta,
        'onReply': onReply,
        'rendered': true,
        'initComment': targetComment,
        'initReplyThread': startThread,
        'config': configJso,
        'messages': msgs
      };

      var render = function() {
        if (window.goog && window.goog.comments) {
          var holder = document.getElementById('comment-holder');
          window.goog.comments.render(holder, provider);
        }
      };

      // render now, or queue to render when library loads:
      if (window.goog && window.goog.comments) {
        render();
      } else {
        window.goog = window.goog || {};
        window.goog.comments = window.goog.comments || {};
        window.goog.comments.loadQueue = window.goog.comments.loadQueue || [];
        window.goog.comments.loadQueue.push(render);
      }
    })();
// ]]>
</script>
<div id='comment-holder'>
<div id='bc_0_13C' kind='c'><div id='bc_0_13CT'><div id='bc_0_12T' class='comment-thread' kind='r'  t='0' u='0'><ol id='bc_0_12TB'><li id='bc_0_1B' class='comment' kind='b'><div class='avatar-image-container'><img src='http://img2.blogblog.com/img/b36-rounded.png'></img></div><div id='c2652142321838854284' class='comment-block'><div id='bc_0_1M' class='comment-header' kind='m'><cite class='user'><a rel='nofollow' href='http://www.blogger.com/profile/05013270818643893281'>Dark Helmet</a></cite><span class='icon user'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment=1342901359038#c2652142321838854284'>21 juli 2012 22:09</a></span></div><p id='bc_0_1MC' class='comment-content'>Got some time on vacation to read through this.  Have done skeletal, but haven&#39;t used ASSIMP for skeletal import, so that&#39;s what I most wanted to learn from your tutorial.  Good stuff -- thanks.  A few comments.  Will split them up so threaded discussion is easier.<br /><br />First, you note that the bone &quot;offset matrix&quot; transforms &quot;from bone space to mesh space in bind pose&quot;.  Per ASSIMP docs, I believe this is backwards.  At the URL below, the ASSIMP docs state: &quot;aiBone ... Its offset matrix declares the transformation needed to transform from mesh space to the local space of this bone.&quot;<br /><br />This mesh OBJECT-SPACE to BONE-SPACE transform is more commonly called the &quot;inverse bind pose&quot; transform.<br /><br />http://assimp.sourceforge.net/lib_html/data.html</p><span id='bc_0_1MN' class='comment-actions secondary-text' kind='m'><a kind='i' href='javascript:;' target='_self' o='r'>Svara</a><span class='item-control blog-admin pid-1887094180'><a o='d' target='_self' href='http://www.blogger.com/delete-comment.g?blogID=1531260037698275277&amp;postID=2652142321838854284'>Radera</a></span></span></div><div id='bc_0_1BR' class='comment-replies'><span id='bc_0_1b+seeduKsnD' kind='d'><div id='bc_0_0T' class='comment-thread inline-thread' kind='t'   t='0' u='0'><span id='bc_0_0TT' class='thread-toggle thread-expanded' kind='g'><span id='bc_0_0TA' class='thread-arrow'></span><span id='bc_0_0TN' class='thread-count'><span id='bc_0_0TNT' style='display: none;'></span><span id='bc_0_0TNU' style='display: none;'></span><a href='javascript:;' target='_self'>Svar</a><div id='bc_0_0TD' class='thread-dropContainer thread-expanded'><span class='thread-drop'></span></div></span></span><ol id='bc_0_0TC' class='thread-chrome thread-expanded'><div><li id='bc_0_0B' class='comment' kind='b'><div class='avatar-image-container'><img src='//lh6.googleusercontent.com/-2HcRDaE_kGg/AAAAAAAAAAI/AAAAAAAADOY/A4sQPH3pTf0/s512-c/photo.jpg'></img></div><div id='c8508629704997233938' class='comment-block'><div id='bc_0_0M' class='comment-header' kind='m'><cite class='user blog-author'><a rel='nofollow' href='http://www.blogger.com/profile/09684923496484507641'>Lars Pensj</a></cite><span class='icon user blog-author'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment=1343210262261#c8508629704997233938'>25 juli 2012 11:57</a></span></div><p id='bc_0_0MC' class='comment-content'>Thanks for your thorough scrutiny, I appreciate it!<br /><br />I did corrections and clarifications from your remarks.</p><span id='bc_0_0MN' class='comment-actions secondary-text' kind='m'><span class='item-control blog-admin pid-2147142435'><a o='d' target='_self' href='http://www.blogger.com/delete-comment.g?blogID=1531260037698275277&amp;postID=8508629704997233938'>Radera</a></span></span></div><div id='bc_0_0BR' class='comment-replies'></div><div id='bc_0_0B_box' class='comment-replybox-single'></div></li></div><div id='bc_0_0I' class='continue' kind='ci'><a href='javascript:;' target='_self'>Svara</a></div></ol><div id='bc_0_0T_box' class='comment-replybox-thread'></div></div></span></div><div id='bc_0_1B_box' class='comment-replybox-single'></div></li><li id='bc_0_3B' class='comment' kind='b'><div class='avatar-image-container'><img src='http://img2.blogblog.com/img/b36-rounded.png'></img></div><div id='c4737933528401009846' class='comment-block'><div id='bc_0_3M' class='comment-header' kind='m'><cite class='user'><a rel='nofollow' href='http://www.blogger.com/profile/05013270818643893281'>Dark Helmet</a></cite><span class='icon user'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment=1342915003291#c4737933528401009846'>22 juli 2012 01:56</a></span></div><p id='bc_0_3MC' class='comment-content'>In &quot;Key frames and interpolation&quot;, it has the transformation order being RTS (rotate, translate, scale).  However, the usual order is SRT (scale, rotate, translate), and the ASSIMP docs confirm that it uses the usual order:<br /><br />http://assimp.sourceforge.net/lib_html/structai_node_anim.html<br /><br />&quot;The order in which the transformations are applied is as usual - scaling, rotation, translation.&quot;<br /><br />I think this might be a problem, but please check me on that.</p><span id='bc_0_3MN' class='comment-actions secondary-text' kind='m'><a kind='i' href='javascript:;' target='_self' o='r'>Svara</a><span class='item-control blog-admin pid-1887094180'><a o='d' target='_self' href='http://www.blogger.com/delete-comment.g?blogID=1531260037698275277&amp;postID=4737933528401009846'>Radera</a></span></span></div><div id='bc_0_3BR' class='comment-replies'><span id='bc_0_3b+seeduKsoD' kind='d'><div id='bc_0_2T' class='comment-thread inline-thread' kind='t'   t='0' u='0'><span id='bc_0_2TT' class='thread-toggle thread-expanded' kind='g'><span id='bc_0_2TA' class='thread-arrow'></span><span id='bc_0_2TN' class='thread-count'><span id='bc_0_2TNT' style='display: none;'></span><span id='bc_0_2TNU' style='display: none;'></span><a href='javascript:;' target='_self'>Svar</a><div id='bc_0_2TD' class='thread-dropContainer thread-expanded'><span class='thread-drop'></span></div></span></span><ol id='bc_0_2TC' class='thread-chrome thread-expanded'><div><li id='bc_0_2B' class='comment' kind='b'><div class='avatar-image-container'><img src='//lh6.googleusercontent.com/-2HcRDaE_kGg/AAAAAAAAAAI/AAAAAAAADOY/A4sQPH3pTf0/s512-c/photo.jpg'></img></div><div id='c3342573735093289983' class='comment-block'><div id='bc_0_2M' class='comment-header' kind='m'><cite class='user blog-author'><a rel='nofollow' href='http://www.blogger.com/profile/09684923496484507641'>Lars Pensj</a></cite><span class='icon user blog-author'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment=1343210504109#c3342573735093289983'>25 juli 2012 12:01</a></span></div><p id='bc_0_2MC' class='comment-content'>Confirmed. I didn&#39;t use the scaling, so I never noticed the problem. The rotation and translation was correct, but I improved the code example to make it easier to read, as well as using consistent explanations.</p><span id='bc_0_2MN' class='comment-actions secondary-text' kind='m'><span class='item-control blog-admin pid-2147142435'><a o='d' target='_self' href='http://www.blogger.com/delete-comment.g?blogID=1531260037698275277&amp;postID=3342573735093289983'>Radera</a></span></span></div><div id='bc_0_2BR' class='comment-replies'></div><div id='bc_0_2B_box' class='comment-replybox-single'></div></li></div><div id='bc_0_2I' class='continue' kind='ci'><a href='javascript:;' target='_self'>Svara</a></div></ol><div id='bc_0_2T_box' class='comment-replybox-thread'></div></div></span></div><div id='bc_0_3B_box' class='comment-replybox-single'></div></li><li id='bc_0_4B' class='comment' kind='b'><div class='avatar-image-container'><img src='http://img2.blogblog.com/img/b36-rounded.png'></img></div><div id='c5466832426447818612' class='comment-block'><div id='bc_0_4M' class='comment-header' kind='m'><cite class='user'><a rel='nofollow' href='http://www.blogger.com/profile/05013270818643893281'>Dark Helmet</a></cite><span class='icon user'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment=1342915585529#c5466832426447818612'>22 juli 2012 02:06</a></span></div><p id='bc_0_4MC' class='comment-content'>In &quot;Key frames and interpolation&quot; it states &quot;Interpolation with matrices work well with scaling and translation, but not for rotation. ... The interpolation of rotation need to be done before the quaternion is converted to a matrix to avoid this problem.&quot;<br /><br />But then the shader code proceeds to do standard Linear Blend Skinning (LBS), which interpolates matrices containing different rotations, and can result in the same &quot;cut a straight line through the [origin] instead of following the arc&quot; problem you state you are trying to avoid.<br /><br />You&#39;re on the right track, but in general what you want is beyond what Linear Blend Skinning can give you (without having a lot more closely spaced keyframes than what you&#39;d otherwise need).  Do a web search for Spherical Blend Skinning (SBS) and Dual Quaternion Skinning (DQS) for some skinning techniques that will avoid the &quot;cut a straight line&quot; problem that LBS has (leading to joint collapse) and give you true rotational motion about the joints.</p><span id='bc_0_4MN' class='comment-actions secondary-text' kind='m'><a kind='i' href='javascript:;' target='_self' o='r'>Svara</a><span class='item-control blog-admin pid-1887094180'><a o='d' target='_self' href='http://www.blogger.com/delete-comment.g?blogID=1531260037698275277&amp;postID=5466832426447818612'>Radera</a></span></span></div><div id='bc_0_4BR' class='comment-replies'></div><div id='bc_0_4B_box' class='comment-replybox-single'></div></li><li id='bc_0_6B' class='comment' kind='b'><div class='avatar-image-container'><img src='http://img2.blogblog.com/img/b36-rounded.png'></img></div><div id='c8742425640620690605' class='comment-block'><div id='bc_0_6M' class='comment-header' kind='m'><cite class='user'><a rel='nofollow' href='http://www.blogger.com/profile/05013270818643893281'>Dark Helmet</a></cite><span class='icon user'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment=1342916750458#c8742425640620690605'>22 juli 2012 02:25</a></span></div><p id='bc_0_6MC' class='comment-content'>In &quot;Key frames and interpolation&quot;, it says &quot;There is a performance problem with using interpolation on quaternions. ... If interpolation would have been done only on the transformation matrices, it would be possible to pre-calculate each matrix ... including the offset matrix.<br /><br />The terminology doesn&#39;t make what you&#39;re saying clear here but I think you are talking about temporal interpolation of bone (joint) keyframe data (aiNodeAnim) using just the final &quot;skinning transforms&quot;, also called &quot;bone (joint) final transforms&quot; in some contexts (and which you call &quot;bone matrix&quot; in your Definitions section).<br /><br />This capability, in fact, is exactly what Spherical Blend Skinning (SBS) and Dual Quaternion Skinnning (DQS) give you over Linear Blend Skinning (LBS) -- nice, angular rotation interpolation via quaternions, all on the GPU even, and without much additional cost at all.  In fact, in some cases SBS can be cheaper than LBS.</p><span id='bc_0_6MN' class='comment-actions secondary-text' kind='m'><a kind='i' href='javascript:;' target='_self' o='r'>Svara</a><span class='item-control blog-admin pid-1887094180'><a o='d' target='_self' href='http://www.blogger.com/delete-comment.g?blogID=1531260037698275277&amp;postID=8742425640620690605'>Radera</a></span></span></div><div id='bc_0_6BR' class='comment-replies'><span id='bc_0_6b+seeduKspD' kind='d'><div id='bc_0_5T' class='comment-thread inline-thread' kind='t'   t='0' u='0'><span id='bc_0_5TT' class='thread-toggle thread-expanded' kind='g'><span id='bc_0_5TA' class='thread-arrow'></span><span id='bc_0_5TN' class='thread-count'><span id='bc_0_5TNT' style='display: none;'></span><span id='bc_0_5TNU' style='display: none;'></span><a href='javascript:;' target='_self'>Svar</a><div id='bc_0_5TD' class='thread-dropContainer thread-expanded'><span class='thread-drop'></span></div></span></span><ol id='bc_0_5TC' class='thread-chrome thread-expanded'><div><li id='bc_0_5B' class='comment' kind='b'><div class='avatar-image-container'><img src='//lh6.googleusercontent.com/-2HcRDaE_kGg/AAAAAAAAAAI/AAAAAAAADOY/A4sQPH3pTf0/s512-c/photo.jpg'></img></div><div id='c1365671552349647785' class='comment-block'><div id='bc_0_5M' class='comment-header' kind='m'><cite class='user blog-author'><a rel='nofollow' href='http://www.blogger.com/profile/09684923496484507641'>Lars Pensj</a></cite><span class='icon user blog-author'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment=1343210687233#c1365671552349647785'>25 juli 2012 12:04</a></span></div><p id='bc_0_5MC' class='comment-content'>You are correct in my use of LBS, I clarified the description of this. Thanks for the references to SBS and DQS, I will check them up!</p><span id='bc_0_5MN' class='comment-actions secondary-text' kind='m'><span class='item-control blog-admin pid-2147142435'><a o='d' target='_self' href='http://www.blogger.com/delete-comment.g?blogID=1531260037698275277&amp;postID=1365671552349647785'>Radera</a></span></span></div><div id='bc_0_5BR' class='comment-replies'></div><div id='bc_0_5B_box' class='comment-replybox-single'></div></li></div><div id='bc_0_5I' class='continue' kind='ci'><a href='javascript:;' target='_self'>Svara</a></div></ol><div id='bc_0_5T_box' class='comment-replybox-thread'></div></div></span></div><div id='bc_0_6B_box' class='comment-replybox-single'></div></li><li id='bc_0_8B' class='comment' kind='b'><div class='avatar-image-container'><img src='http://img2.blogblog.com/img/b36-rounded.png'></img></div><div id='c7984574248211449741' class='comment-block'><div id='bc_0_8M' class='comment-header' kind='m'><cite class='user'><a rel='nofollow' href='http://www.blogger.com/profile/05013270818643893281'>Dark Helmet</a></cite><span class='icon user'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment=1342916998973#c7984574248211449741'>22 juli 2012 02:29</a></span></div><p id='bc_0_8MC' class='comment-content'>I didn&#39;t get a clear picture from your write-up of what conceptual transform was actually stored in aiNodeAnims.  Looking at another ASSIMP skeletal tutorial here:<br /><br />http://ogldev.atspace.co.uk/www/tutorial38/tutorial38.html<br /><br />(specifically the Mesh::ReadNodeHeirarchy() code), I get the impression that this (which I think you call a &quot;node matrix&quot;) contains the product of the bone (A)nimation transform (a rotation of the bone in the bone&#39;s local space) and the bone&#39;s (O)rientation transform (which transforms you from bone space to parent bone space).  This is sometimes called the bone (L)ocal transform (L=A*O).  <br /><br />Is this correct?</p><span id='bc_0_8MN' class='comment-actions secondary-text' kind='m'><a kind='i' href='javascript:;' target='_self' o='r'>Svara</a><span class='item-control blog-admin pid-1887094180'><a o='d' target='_self' href='http://www.blogger.com/delete-comment.g?blogID=1531260037698275277&amp;postID=7984574248211449741'>Radera</a></span></span></div><div id='bc_0_8BR' class='comment-replies'><span id='bc_0_8b+seeduKsqD' kind='d'><div id='bc_0_7T' class='comment-thread inline-thread' kind='t'   t='0' u='0'><span id='bc_0_7TT' class='thread-toggle thread-expanded' kind='g'><span id='bc_0_7TA' class='thread-arrow'></span><span id='bc_0_7TN' class='thread-count'><span id='bc_0_7TNT' style='display: none;'></span><span id='bc_0_7TNU' style='display: none;'></span><a href='javascript:;' target='_self'>Svar</a><div id='bc_0_7TD' class='thread-dropContainer thread-expanded'><span class='thread-drop'></span></div></span></span><ol id='bc_0_7TC' class='thread-chrome thread-expanded'><div><li id='bc_0_7B' class='comment' kind='b'><div class='avatar-image-container'><img src='//lh6.googleusercontent.com/-2HcRDaE_kGg/AAAAAAAAAAI/AAAAAAAADOY/A4sQPH3pTf0/s512-c/photo.jpg'></img></div><div id='c2819222661320838811' class='comment-block'><div id='bc_0_7M' class='comment-header' kind='m'><cite class='user blog-author'><a rel='nofollow' href='http://www.blogger.com/profile/09684923496484507641'>Lars Pensj</a></cite><span class='icon user blog-author'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment=1343210861703#c2819222661320838811'>25 juli 2012 12:07</a></span></div><p id='bc_0_7MC' class='comment-content'>Yes.</p><span id='bc_0_7MN' class='comment-actions secondary-text' kind='m'><span class='item-control blog-admin pid-2147142435'><a o='d' target='_self' href='http://www.blogger.com/delete-comment.g?blogID=1531260037698275277&amp;postID=2819222661320838811'>Radera</a></span></span></div><div id='bc_0_7BR' class='comment-replies'></div><div id='bc_0_7B_box' class='comment-replybox-single'></div></li></div><div id='bc_0_7I' class='continue' kind='ci'><a href='javascript:;' target='_self'>Svara</a></div></ol><div id='bc_0_7T_box' class='comment-replybox-thread'></div></div></span></div><div id='bc_0_8B_box' class='comment-replybox-single'></div></li><li id='bc_0_9B' class='comment' kind='b'><div class='avatar-image-container'><img src='http://img2.blogblog.com/img/b36-rounded.png'></img></div><div id='c2812387734696173739' class='comment-block'><div id='bc_0_9M' class='comment-header' kind='m'><cite class='user'><a rel='nofollow' href='http://www.blogger.com/profile/05013270818643893281'>Dark Helmet</a></cite><span class='icon user'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment=1342917256789#c2812387734696173739'>22 juli 2012 02:34</a></span></div><p id='bc_0_9MC' class='comment-content'>In the &quot;Blender and bones&quot; section, the mention &quot;This corresponds to a rotation of -pi/2 on the &#39;x&#39; axis.&quot;  This took me a little bit to figure out because you didn&#39;t state which space you&#39;re transforming &quot;to&quot;.  I believe the target space is the common one used for OpenGL EYE-SPACE, where you&#39;re looking down -Z, with X right and Y up.  You might mention that just so it&#39;s simpler to understand.</p><span id='bc_0_9MN' class='comment-actions secondary-text' kind='m'><a kind='i' href='javascript:;' target='_self' o='r'>Svara</a><span class='item-control blog-admin pid-1887094180'><a o='d' target='_self' href='http://www.blogger.com/delete-comment.g?blogID=1531260037698275277&amp;postID=2812387734696173739'>Radera</a></span></span></div><div id='bc_0_9BR' class='comment-replies'></div><div id='bc_0_9B_box' class='comment-replybox-single'></div></li><li id='bc_0_10B' class='comment' kind='b'><div class='avatar-image-container'><img src='http://img2.blogblog.com/img/b36-rounded.png'></img></div><div id='c2352652682022729783' class='comment-block'><div id='bc_0_10M' class='comment-header' kind='m'><cite class='user'><a rel='nofollow' href='http://www.blogger.com/profile/05013270818643893281'>Dark Helmet</a></cite><span class='icon user'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment=1342917801394#c2352652682022729783'>22 juli 2012 02:43</a></span></div><p id='bc_0_10MC' class='comment-content'>In the &quot;Matrix Multiplication&quot; section, it says &quot;Each node in aiNodeAnim has a matrix that transforms from the parent.  To get the transformation matrix of Bone2, ...&quot;<br /><br />Here again I &quot;think&quot; aiNodeAnim contains the bone local transform (L), which applies the bone animation transform (A) and then the bone orientation transform (O).  The latter transforms from that bone&#39;s space &quot;to&quot; its parent bone&#39;s space, not &quot;from&quot;.  Please check me on that, but if so, I think you need &quot;to&quot; here not &quot;from&quot;.<br /><br />And again, use of the generic &quot;the transformation matrix&quot; for (in this case) the joint global matrix (G) (a different transform from last time, which does not include the inverse bind pose aka offset matrix) is a bit confusing.  It might help clarity to give these transforms names and use the specific names.</p><span id='bc_0_10MN' class='comment-actions secondary-text' kind='m'><a kind='i' href='javascript:;' target='_self' o='r'>Svara</a><span class='item-control blog-admin pid-1887094180'><a o='d' target='_self' href='http://www.blogger.com/delete-comment.g?blogID=1531260037698275277&amp;postID=2352652682022729783'>Radera</a></span></span></div><div id='bc_0_10BR' class='comment-replies'></div><div id='bc_0_10B_box' class='comment-replybox-single'></div></li><li id='bc_0_11B' class='comment' kind='b'><div class='avatar-image-container'><img src='http://img2.blogblog.com/img/b36-rounded.png'></img></div><div id='c1736977738967735184' class='comment-block'><div id='bc_0_11M' class='comment-header' kind='m'><cite class='user'><a rel='nofollow' href='http://www.blogger.com/profile/04064580251663138818'>noizex</a></cite><span class='icon user'></span><span class='datetime secondary-text'><a rel='nofollow' href='http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html?showComment=1344370261663#c1736977738967735184'>7 augusti 2012 22:11</a></span></div><p id='bc_0_11MC' class='comment-content'>Lars Pensj? The creator of LpMUD from which one of best drivers (CD) and MUDs (Genesis) originated? I&#39;ve been playing Genesis since 95 as a teenager, and been developing another non-english MUD based on CD driver for many years. I took my first steps in object oriented programming thanks to LPC. This is an honor, Sir :)<br /><br />I found this tutorial looking for some info on skeletal animation, its really great to see you&#39;re now working with OpenGL and from what I see on this blog you keep interest in some virtual worlds. I&#39;ve been through countless MUD engines in the past (Pike and DGD being most recent ones) and I was always fascinated by MUD environments which had great atmosphere, unlike present MMO games. I&#39;m also working on some engine that may (or may not) become some kind of game similar to MUDs of old (if you&#39;re interested, previous project&#39;s blog is here - http://prediter.blogspot.com/ it was suspended and is now continued in less complex form, as implementing a real planet turned out to be way too complex and wouldn&#39;t add nearly as much to the gameplay as it cost to implement)</p><span id='bc_0_11MN' class='comment-actions secondary-text' kind='m'><a kind='i' href='javascript:;' target='_self' o='r'>Svara</a><span class='item-control blog-admin pid-1470126240'><a o='d' target='_self' href='http://www.blogger.com/delete-comment.g?blogID=1531260037698275277&amp;postID=1736977738967735184'>Radera</a></span></span></div><div id='bc_0_11BR' class='comment-replies'></div><div id='bc_0_11B_box' class='comment-replybox-single'></div></li></ol><div id='bc_0_12I' class='continue' kind='ci'><a href='javascript:;' target='_self'>Lgg till kommentar</a></div><div id='bc_0_12T_box' class='comment-replybox-thread'></div><div id='bc_0_12L' class='loadmore loaded' kind='rb'><a href='javascript:;' target='_self'>Ls in mer...</a></div></div></div></div>
</div>
</div>
<p class='comment-footer'>
<div class='comment-form'>
<a name='comment-form'></a>
<p>
</p>
<a href='https://www.blogger.com/comment-iframe.g?blogID=1531260037698275277&postID=6006342091983697280' id='comment-editor-src'></a>
<iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' frameborder='0' height='410' id='comment-editor' name='comment-editor' src='' width='100%'></iframe>
<script type="text/javascript" src="https://www.blogger.com/static/v1/jsbin/1327485354-comment_from_post_iframe.js"></script>
<script type='text/javascript'>
      BLOG_CMT_createIframe('https://www.blogger.com/rpc_relay.html', '00180441309294921551');
    </script>
</div>
</p>
<div id='backlinks-container'>
<div id='Blog1_backlinks-container'>
</div>
</div>
</div>
</div>

        </div></div>
      
<!-- google_ad_section_end -->
</div>
<div class='blog-pager' id='blog-pager'>
<span id='blog-pager-newer-link'>
<a class='blog-pager-newer-link' href='http://ephenationopengl.blogspot.de/2012/10/deferred-shader-part-2.html' id='Blog1_blog-pager-newer-link' title='Senaste inlgg'>Senaste inlgg</a>
</span>
<span id='blog-pager-older-link'>
<a class='blog-pager-older-link' href='http://ephenationopengl.blogspot.de/2012/05/making-caves-from-simplex-noise.html' id='Blog1_blog-pager-older-link' title='ldre inlgg'>ldre inlgg</a>
</span>
<a class='home-link' href='http://ephenationopengl.blogspot.de/'>Startsida</a>
</div>
<div class='clear'></div>
<div class='post-feeds'>
<div class='feed-links'>
Prenumerera p:
<a class='feed-link' href='http://ephenationopengl.blogspot.com/feeds/6006342091983697280/comments/default' target='_blank' type='application/atom+xml'>Kommentarer till inlgget (Atom)</a>
</div>
</div>
<script type="text/javascript">window.___gcfg = {'lang': 'sv'};</script>
</div></div>
</div>
</div>
<div class='column-left-outer'>
<div class='column-left-inner'>
<aside>
</aside>
</div>
</div>
<div class='column-right-outer'>
<div class='column-right-inner'>
<aside>
<div class='sidebar section' id='sidebar-right-1'><div class='widget Followers' id='Followers1'>
<h2 class='title'>Bloggintresserade</h2>
<div class='widget-content'>
<div id='Followers1-wrapper'>
<div style='margin-right:2px;'>
<script type="text/javascript">
        if (!window.google || !google.friendconnect) {
          document.write('<script type="text/javascript"' +
              'src="//www.google.com/friendconnect/script/friendconnect.js">' +
              '</scr' + 'ipt>');
        }
      </script>
<script type="text/javascript">
      if (!window.registeredBloggerCallbacks) {
        window.registeredBloggerCallbacks = true;

        

        
        gadgets.rpc.register('requestReload', function() {
          document.location.reload();
        });

        
        gadgets.rpc.register('requestSignOut', function(siteId) {
          
          google.friendconnect.container.openSocialSiteId = siteId;
          google.friendconnect.requestSignOut();
        });
      }
    </script>
<script type="text/javascript">
    
    function registerGetBlogUrls() {
      gadgets.rpc.register('getBlogUrls', function() {
        var holder = {};
        
          
            
            
              holder.currentPost = "http://www.blogger.com/feeds/1531260037698275277/posts/default/6006342091983697280";
            
            
            
              holder.currentComments = "http://www.blogger.com/feeds/1531260037698275277/6006342091983697280/comments/default";
            
            holder.currentPostUrl = "";
            holder.currentPostId = 6006342091983697280
          
          
          
            holder.postFeed = "http://www.blogger.com/feeds/1531260037698275277/posts/default";
          
          
          
            holder.commentFeed = "http://www.blogger.com/feeds/1531260037698275277/comments/default";
          
          holder.currentBlogUrl = "http://ephenationopengl.blogspot.com/";
          holder.currentBlogId = "1531260037698275277";
        
        return holder;
      });
    }
  </script>
<script type="text/javascript">
  if (!window.registeredCommonBloggerCallbacks) {
    window.registeredCommonBloggerCallbacks = true;

    gadgets.rpc.register('resize_iframe', function(height) {
      var el = document.getElementById(this['f']);
      if (el) {
        el.style.height = height + 'px';
      }
    });

    
    gadgets.rpc.register('set_pref', function() {});

    registerGetBlogUrls();
  }
  </script>
<div id="div-1041tyqy33d2n" style="width: 100%; "></div>
<script type="text/javascript">
    var skin = {};
    skin['FACE_SIZE'] = '32';
    skin['HEIGHT'] = "260";
    skin['TITLE'] = "Bloggintresserade";
    skin['BORDER_COLOR'] = "transparent";
    skin['ENDCAP_BG_COLOR'] = "transparent";
    skin['ENDCAP_TEXT_COLOR'] = "#ffffff";
    skin['ENDCAP_LINK_COLOR'] = "#9ccfdf";
    skin['ALTERNATE_BG_COLOR'] = "transparent";
    
    skin['CONTENT_BG_COLOR'] = "transparent";
    skin['CONTENT_LINK_COLOR'] = "#9ccfdf";
    skin['CONTENT_TEXT_COLOR'] = "#ffffff";
    skin['CONTENT_SECONDARY_LINK_COLOR'] = "#9ccfdf";
    skin['CONTENT_SECONDARY_TEXT_COLOR'] = "#666666";
    skin['CONTENT_HEADLINE_COLOR'] = "#ffffff";
    skin['FONT_FACE'] = "normal normal 13px Arial, Tahoma, Helvetica, FreeSans, sans-serif";
    google.friendconnect.container.setParentUrl("/");
    google.friendconnect.container["renderMembersGadget"](
    {id: "div-1041tyqy33d2n",
     height: 260,
     
     
     
     site: "00180441309294921551",
     
     locale: 'sv' },
     skin);
  </script>
</div>
</div>
<div class='clear'></div>
<span class='widget-item-control'>
<span class='item-control blog-admin'>
<a class='quickedit' href='//www.blogger.com/rearrange?blogID=1531260037698275277&widgetType=Followers&widgetId=Followers1&action=editWidget&sectionId=sidebar-right-1' onclick='return _WidgetManager._PopupConfig(document.getElementById("Followers1"));' target='configFollowers1' title='Redigera'>
<img alt='' height='18' src='http://img1.blogblog.com/img/icon18_wrench_allbkg.png' width='18'/>
</a>
</span>
</span>
<div class='clear'></div>
</div>
</div><div class='widget BlogArchive' id='BlogArchive1'>
<h2>Bloggarkiv</h2>
<div class='widget-content'>
<div id='ArchiveList'>
<div id='BlogArchive1_ArchiveList'>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://ephenationopengl.blogspot.de/search?updated-min=2014-01-01T00:00:00%2B01:00&amp;updated-max=2015-01-01T00:00:00%2B01:00&amp;max-results=1'>2014</a>
<span class='post-count' dir='ltr'>(1)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://ephenationopengl.blogspot.de/2014_01_01_archive.html'>januari</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://ephenationopengl.blogspot.de/search?updated-min=2013-01-01T00:00:00%2B01:00&amp;updated-max=2014-01-01T00:00:00%2B01:00&amp;max-results=1'>2013</a>
<span class='post-count' dir='ltr'>(1)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://ephenationopengl.blogspot.de/2013_02_01_archive.html'>februari</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate expanded'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy toggle-open'>&#9660;&#160;</span>
</a>
<a class='post-count-link' href='http://ephenationopengl.blogspot.de/search?updated-min=2012-01-01T00:00:00%2B01:00&amp;updated-max=2013-01-01T00:00:00%2B01:00&amp;max-results=8'>2012</a>
<span class='post-count' dir='ltr'>(8)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://ephenationopengl.blogspot.de/2012_11_01_archive.html'>november</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://ephenationopengl.blogspot.de/2012_10_01_archive.html'>oktober</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate expanded'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy toggle-open'>&#9660;&#160;</span>
</a>
<a class='post-count-link' href='http://ephenationopengl.blogspot.de/2012_06_01_archive.html'>juni</a>
<span class='post-count' dir='ltr'>(1)</span>
<ul class='posts'>
<li><a href='http://ephenationopengl.blogspot.de/2012/06/doing-animations-in-opengl.html'>Doing animations in OpenGL</a></li>
</ul>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://ephenationopengl.blogspot.de/2012_05_01_archive.html'>maj</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

          &#9658;&#160;
        
</span>
</a>
<a class='post-count-link' href='http://ephenationopengl.blogspot.de/2012_01_01_archive.html'>januari</a>
<span class='post-count' dir='ltr'>(4)</span>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class='clear'></div>
<span class='widget-item-control'>
<span class='item-control blog-admin'>
<a class='quickedit' href='//www.blogger.com/rearrange?blogID=1531260037698275277&widgetType=BlogArchive&widgetId=BlogArchive1&action=editWidget&sectionId=sidebar-right-1' onclick='return _WidgetManager._PopupConfig(document.getElementById("BlogArchive1"));' target='configBlogArchive1' title='Redigera'>
<img alt='' height='18' src='http://img1.blogblog.com/img/icon18_wrench_allbkg.png' width='18'/>
</a>
</span>
</span>
<div class='clear'></div>
</div>
</div><div class='widget Profile' id='Profile1'>
<h2>Om mig</h2>
<div class='widget-content'>
<a href='https://plus.google.com/108509041026737369045'><img alt='Min bilder' class='profile-img' height='80' src='//lh6.googleusercontent.com/-2HcRDaE_kGg/AAAAAAAAAAI/AAAAAAAAG50/LskV0VrPIWU/s512-c/photo.jpg' width='80'/></a>
<dl class='profile-datablock'>
<dt class='profile-data'>
<a class='profile-name-link g-profile' href='https://plus.google.com/108509041026737369045' rel='author' style='background-image: url(//www.google.com/images/icons/ui/gprofile_button-16.png);'>
Lars Pensj
</a>
<br/>
<div class='g-follow' data-annotation='bubble' data-height='20' data-href='https://plus.google.com/108509041026737369045'></div>
</dt>
<dd class='profile-textblock'><br></dd>
</dl>
<a class='profile-link' href='https://plus.google.com/108509041026737369045' rel='author'>Visa hela min profil</a>
<div class='clear'></div>
<span class='widget-item-control'>
<span class='item-control blog-admin'>
<a class='quickedit' href='//www.blogger.com/rearrange?blogID=1531260037698275277&widgetType=Profile&widgetId=Profile1&action=editWidget&sectionId=sidebar-right-1' onclick='return _WidgetManager._PopupConfig(document.getElementById("Profile1"));' target='configProfile1' title='Redigera'>
<img alt='' height='18' src='http://img1.blogblog.com/img/icon18_wrench_allbkg.png' width='18'/>
</a>
</span>
</span>
<div class='clear'></div>
</div>
</div></div>
</aside>
</div>
</div>
</div>
<div style='clear: both'></div>
<!-- columns -->
</div>
<!-- main -->
</div>
</div>
<div class='main-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<footer>
<div class='footer-outer'>
<div class='footer-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left footer-fauxborder-left'>
<div class='fauxborder-right footer-fauxborder-right'></div>
<div class='region-inner footer-inner'>
<div class='foot section' id='footer-1'></div>
<table border='0' cellpadding='0' cellspacing='0' class='section-columns columns-2'>
<tbody>
<tr>
<td class='first columns-cell'>
<div class='foot section' id='footer-2-1'></div>
</td>
<td class='columns-cell'>
<div class='foot section' id='footer-2-2'></div>
</td>
</tr>
</tbody>
</table>
<!-- outside of the include in order to lock Attribution widget -->
<div class='foot section' id='footer-3'><div class='widget Attribution' id='Attribution1'>
<div class='widget-content' style='text-align: center;'>
Mallen Awesome Inc.. Drivs av <a href='http://www.blogger.com' target='_blank'>Blogger</a>.
</div>
<div class='clear'></div>
<span class='widget-item-control'>
<span class='item-control blog-admin'>
<a class='quickedit' href='//www.blogger.com/rearrange?blogID=1531260037698275277&widgetType=Attribution&widgetId=Attribution1&action=editWidget&sectionId=footer-3' onclick='return _WidgetManager._PopupConfig(document.getElementById("Attribution1"));' target='configAttribution1' title='Redigera'>
<img alt='' height='18' src='http://img1.blogblog.com/img/icon18_wrench_allbkg.png' width='18'/>
</a>
</span>
</span>
<div class='clear'></div>
</div></div>
</div>
</div>
<div class='footer-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</footer>
<!-- content -->
</div>
</div>
<div class='content-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</div>
<script type='text/javascript'>
    window.setTimeout(function() {
        document.body.className = document.body.className.replace('loading', '');
      }, 10);
  </script>
<script type="text/javascript">
if (window.jstiming) window.jstiming.load.tick('widgetJsBefore');
</script><script type="text/javascript" src="https://www.blogger.com/static/v1/widgets/2423294629-widgets.js"></script>
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<script type='text/javascript'>
if (typeof(BLOG_attachCsiOnload) != 'undefined' && BLOG_attachCsiOnload != null) { window['blogger_templates_experiment_id'] = "templatesV2";window['blogger_blog_id'] = '1531260037698275277';BLOG_attachCsiOnload('item_'); }_WidgetManager._Init('//www.blogger.com/rearrange?blogID\x3d1531260037698275277','//ephenationopengl.blogspot.de/2012/06/doing-animations-in-opengl.html','1531260037698275277');
_WidgetManager._SetDataContext([{'name': 'blog', 'data': {'blogId': '1531260037698275277', 'bloggerUrl': 'http://www.blogger.com', 'title': 'Ephenation OpenGL', 'pageType': 'item', 'postId': '6006342091983697280', 'url': 'http://ephenationopengl.blogspot.de/2012/06/doing-animations-in-opengl.html', 'canonicalUrl': 'http://ephenationopengl.blogspot.com/2012/06/doing-animations-in-opengl.html', 'canonicalHomepageUrl': 'http://ephenationopengl.blogspot.com/', 'homepageUrl': 'http://ephenationopengl.blogspot.de/', 'blogspotFaviconUrl': 'http://ephenationopengl.blogspot.de/favicon.ico', 'enabledCommentProfileImages': true, 'adultContent': false, 'disableAdSenseWidget': false, 'analyticsAccountNumber': '', 'searchLabel': '', 'searchQuery': '', 'pageName': 'Doing animations in OpenGL', 'pageTitle': 'Ephenation OpenGL: Doing animations in OpenGL', 'encoding': 'UTF-8', 'locale': 'sv', 'localeUnderscoreDelimited': 'sv', 'isPrivate': false, 'isMobile': false, 'isMobileRequest': false, 'mobileClass': '', 'isPrivateBlog': false, 'languageDirection': 'ltr', 'feedLinks': '\74link rel\75\42alternate\42 type\75\42application/atom+xml\42 title\75\42Ephenation OpenGL - Atom\42 href\75\42http://ephenationopengl.blogspot.com/feeds/posts/default\42 /\76\n\74link rel\75\42alternate\42 type\75\42application/rss+xml\42 title\75\42Ephenation OpenGL - RSS\42 href\75\42http://ephenationopengl.blogspot.com/feeds/posts/default?alt\75rss\42 /\76\n\74link rel\75\42service.post\42 type\75\42application/atom+xml\42 title\75\42Ephenation OpenGL - Atom\42 href\75\42http://www.blogger.com/feeds/1531260037698275277/posts/default\42 /\76\n\n\74link rel\75\42alternate\42 type\75\42application/atom+xml\42 title\75\42Ephenation OpenGL - Atom\42 href\75\42http://ephenationopengl.blogspot.com/feeds/6006342091983697280/comments/default\42 /\76\n', 'meTag': '', 'openIdOpTag': '', 'googleProfileUrl': 'https://plus.google.com/108509041026737369045', 'postImageThumbnailUrl': 'http://1.bp.blogspot.com/-mTmYiNy1qps/T-LGDoFkUaI/AAAAAAAAEWk/gDjZqKDFHaM/s72-c/WalkingFrog.JPG', 'postImageUrl': 'http://1.bp.blogspot.com/-mTmYiNy1qps/T-LGDoFkUaI/AAAAAAAAEWk/gDjZqKDFHaM/s1600/WalkingFrog.JPG', 'latencyHeadScript': '\74script type\75\42text/javascript\42\76(function() { var b\75window,f\75\42chrome\42,g\75\42tick\42,k\75\42jstiming\42;(function(){function d(a){this.t\75{};this.tick\75function(a,d,c){var e\75void 0!\75c?c:(new Date).getTime();this.t[a]\75[e,d];if(void 0\75\75c)try{b.console.timeStamp(\42CSI/\42+a)}catch(h){}};this[g](\42start\42,null,a)}var a;b.performance\46\46(a\75b.performance.timing);var n\75a?new d(a.responseStart):new d;b.jstiming\75{Timer:d,load:n};if(a){var c\75a.navigationStart,h\75a.responseStart;0\74c\46\46h\76\75c\46\46(b[k].srt\75h-c)}if(a){var e\75b[k].load;0\74c\46\46h\76\75c\46\46(e[g](\42_wtsrt\42,void 0,c),e[g](\42wtsrt_\42,\42_wtsrt\42,h),e[g](\42tbsd_\42,\42wtsrt_\42))}try{a\75null,\nb[f]\46\46b[f].csi\46\46(a\75Math.floor(b[f].csi().pageT),e\46\0460\74c\46\46(e[g](\42_tbnd\42,void 0,b[f].csi().startE),e[g](\42tbnd_\42,\42_tbnd\42,c))),null\75\75a\46\46b.gtbExternal\46\46(a\75b.gtbExternal.pageT()),null\75\75a\46\46b.external\46\46(a\75b.external.pageT,e\46\0460\74c\46\46(e[g](\42_tbnd\42,void 0,b.external.startE),e[g](\42tbnd_\42,\42_tbnd\42,c))),a\46\46(b[k].pt\75a)}catch(p){}})();b.tickAboveFold\75function(d){var a\0750;if(d.offsetParent){do a+\75d.offsetTop;while(d\75d.offsetParent)}d\75a;750\76\75d\46\46b[k].load[g](\42aft\42)};var l\75!1;function m(){l||(l\75!0,b[k].load[g](\42firstScrollTime\42))}b.addEventListener?b.addEventListener(\42scroll\42,m,!1):b.attachEvent(\42onscroll\42,m);\n })();\74/script\076', 'mobileHeadScript': '', 'ieCssRetrofitLinks': '\74!--[if IE]\76\74script type\75\42text/javascript\42 src\75\42https://www.blogger.com/static/v1/jsbin/1735305980-ieretrofit.js\42\76\74/script\76\n\74![endif]--\076', 'view': '', 'dynamicViewsCommentsSrc': '//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js', 'dynamicViewsScriptSrc': '//www.blogblog.com/dynamicviews/76f25a6f2e06af76', 'plusOneApiSrc': 'https://apis.google.com/js/plusone.js', 'sf': 'n', 'tf': ''}}, {'name': 'skin', 'data': {'vars': {'date_border_size': '0', 'description_font': 'normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'body_background_gradient_cap': 'none', 'tabs_selected_background_color': '#444444', 'footer_background_gradient': 'none', 'date_background': 'transparent none no-repeat scroll top left', 'widget_border_radius': '0', 'post_title_text_color': '#ffffff', 'widget_font': 'normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'widget_link_hover_color': '#cccccc', 'link_visited_color': '#9ccfdf', 'mobile_background_size': 'auto', 'date_space': '30px', 'post_title_font': 'normal bold 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'tabs_text_color': '#ffffff', 'title_separator_border_size': '1px', 'header_background_gradient': 'none', 'widget_outer_background_gradient': 'none', 'widget_link_color': '#888888', 'mobile_button_color': '#ffffff', 'widget_title_font': 'normal bold 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'widget_outer_background_color': 'transparent', 'date_last_border_radius_bottom': '0', 'widget_outer_margin_top': '0', 'shadow_spread': '0', 'title_shadow_spread': '-1px', 'outer_shadow_spread': '0', 'keycolor': '#ffffff', 'image_shadow_spread': '0', 'image_background_color': 'transparent', 'header_font': 'normal bold 40px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'header_background_color': 'transparent', 'date_header_border_radius_top': '0', 'widget_border_bevel_color': '#000000', 'tabs_border_color': '#222222', 'widget_background_color': '#141414', 'date_position': 'static', 'post_first_padding_top': '0', 'tabs_background_gradient': 'none', 'mobile_background_overlay': 'transparent none repeat scroll top left', 'date_border_color': '#222222', 'tabs_background_color': '#141414', 'widget_link_visited_color': '#444444', 'feed_text_color': '#ffffff', 'header_margin_top': '0', 'link_hover_color': '#4883df', 'date_last_space_bottom': '20px', 'header_margin_bottom': '0', 'date_padding_bottom': '0', 'list_separator_border_size': '1px', 'description_text_color': '#ffffff', 'body_text_color': '#ffffff', 'header_padding_top': '22px', 'post_border_color': '#222222', 'footer_text_color': '#ffffff', 'post_background_color': '#141414', 'pager_space_top': '1em', 'endSide': 'right', 'startSide': 'left', 'body_background_size': 'auto', 'tabs_font': 'normal bold 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'body_font': 'normal normal 13px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'date_first_border_radius_top': '0', 'date_header_position': '15px', 'date_text_color': '#666666', 'widget_title_text_color': '#ffffff', 'image_border_color': 'transparent', 'separator_outdent': '15px', 'widget_text_color': '#ffffff', 'link_color': '#9ccfdf', 'widget_border_color': '#222222', 'pager_border_radius_top': '0', 'feed_link_color': '#888888', 'header_text_color': '#ffffff', 'footer_background_color': '#141414', 'widget_padding_top': '8px', 'feed_link_visited_color': '#444444', 'feed_link_hover_color': '#cccccc', 'date_font': 'normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'tabs_selected_text_color': '#ffffff', 'date_side': 'right', 'post_border_bevel_color': '#222222', 'widget_padding_side': '15px', 'body_background_color': '#000000', 'image_border_radius': '0', 'pager_background_color': '#141414', 'widget_alternate_text_color': '#666666'}, 'override': ''}}, {'name': 'view', 'data': {'classic': {'name': 'classic', 'url': '?view\75classic'}, 'flipcard': {'name': 'flipcard', 'url': '?view\75flipcard'}, 'magazine': {'name': 'magazine', 'url': '?view\75magazine'}, 'mosaic': {'name': 'mosaic', 'url': '?view\75mosaic'}, 'sidebar': {'name': 'sidebar', 'url': '?view\75sidebar'}, 'snapshot': {'name': 'snapshot', 'url': '?view\75snapshot'}, 'timeslide': {'name': 'timeslide', 'url': '?view\75timeslide'}}}]);
_WidgetManager._RegisterWidget('_FollowersView', new _WidgetInfo('Followers1', 'sidebar-right-1', null, document.getElementById('Followers1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogArchiveView', new _WidgetInfo('BlogArchive1', 'sidebar-right-1', null, document.getElementById('BlogArchive1'), {'languageDirection': 'ltr'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_ProfileView', new _WidgetInfo('Profile1', 'sidebar-right-1', null, document.getElementById('Profile1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AttributionView', new _WidgetInfo('Attribution1', 'footer-3', null, document.getElementById('Attribution1'), {'attribution': 'Mallen Awesome Inc.. Drivs av \74a href\75\47http://www.blogger.com\47 target\75\47_blank\47\76Blogger\74/a\76.'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HeaderView', new _WidgetInfo('Header1', 'header', null, document.getElementById('Header1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_NavbarView', new _WidgetInfo('Navbar1', 'navbar', null, document.getElementById('Navbar1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogView', new _WidgetInfo('Blog1', 'main', null, document.getElementById('Blog1'), {'cmtInteractionsEnabled': false, 'lightboxEnabled': true, 'lightboxModuleUrl': 'https://www.blogger.com/static/v1/jsbin/3714351160-lbx__sv.js', 'lightboxCssUrl': 'https://www.blogger.com/static/v1/v-css/2392111094-lightbox_bundle.css'}, 'displayModeFull'));
</script>
</body>
</html>
