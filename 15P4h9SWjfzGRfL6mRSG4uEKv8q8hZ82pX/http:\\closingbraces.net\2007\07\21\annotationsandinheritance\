http://closingbraces.net/2007/07/21/annotationsandinheritance/
HTTP/1.1 200 OK
Server: nginx
Date: Thu, 24 Jul 2014 00:27:48 GMT
Content-Type: text/html; charset=UTF-8
Connection: close
Vary: Accept-Encoding
Vary: Cookie
X-hacker: If you're reading this, you should visit automattic.com/jobs and apply to join the fun, mention this header.
X-Pingback: http://closingbraces.net/xmlrpc.php
Link: <http://wp.me/p2hLl-D>; rel=shortlink
Content-Encoding: gzip


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Annotations + Inheritance = Confusion | Closing Braces</title>
<link rel="pingback" href="http://closingbraces.net/xmlrpc.php" />
		<script src='//r-login.wordpress.com/remote-login.php?action=js&amp;host=closingbraces.net&amp;id=544939&amp;t=1406161668&amp;back=http%3A%2F%2Fclosingbraces.net%2F2007%2F07%2F21%2Fannotationsandinheritance%2F' type="text/javascript"></script>
		<script type="text/javascript">
		/* <![CDATA[ */
			if ( 'function' === typeof WPRemoteLogin ) {
				document.cookie = "wordpress_test_cookie=test; path=/";
				if ( document.cookie.match( /(;|^)\s*wordpress_test_cookie\=/ ) ) {
					WPRemoteLogin();
				}
			}
		/* ]]> */
		</script>
		<link rel="alternate" type="application/rss+xml" title="Closing Braces &raquo; Feed" href="http://closingbraces.net/feed/" />
<link rel="alternate" type="application/rss+xml" title="Closing Braces &raquo; Comments Feed" href="http://closingbraces.net/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Closing Braces &raquo; Annotations + Inheritance =&nbsp;Confusion Comments Feed" href="http://closingbraces.net/2007/07/21/annotationsandinheritance/feed/" />
<script type="text/javascript">
/* <![CDATA[ */
function addLoadEvent(func){var oldonload=window.onload;if(typeof window.onload!='function'){window.onload=func;}else{window.onload=function(){oldonload();func();}}}
/* ]]> */
</script>
<link rel='stylesheet' id='all-css-0' href='http://s1.wp.com/_static/??-eJyNkNFqwzAMRX9onrqyBfow9inDcRTHqWyJWCb47+cMxmhTQt98zTnSRbCKcZwUk0IsRqj4kDLkGAirLDyj09v06nJ+gccahStmmFHFuqv5TTu8J/b/AnuPAxc1IxPxCmsYPB7uWJCs4mCEs96lIy2kMaSgFXTC2EpK6WFcME/1yHK8YPuPYnUjIg7BIrUB6bBjlO7P2p5Tu8a+3K4IZK2ET3BkazvZE6DIt6W+xA39ip9v76fz5XLuuo/5Bwu7vfo=' type='text/css' media='all' />
<!--[if lt IE 7]>
<link rel='stylesheet' id='freshy-ie6-css'  href='http://s0.wp.com/wp-content/themes/pub/freshy/ie6.css?m=1323834012g&#038;ver=4.0-beta2-20140723' type='text/css' media='all' />
<![endif]-->
<!--[if IE 7]>
<link rel='stylesheet' id='freshy-ie7-css'  href='http://s0.wp.com/wp-content/themes/pub/freshy/ie7.css?m=1285366787g&#038;ver=4.0-beta2-20140723' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='all-css-4' href='http://s0.wp.com/_static/??-eJyNj+EKwjAMhF/IWsUi7of4LN0as0jXjCZjr2/dRBSl+Ct3cN+Rs2QTK3Wc5CW2ncjGzqMpRiGpHSYzxgmpZBDYRO68EqcPY67RU66hGdrIWCTaknqzNWhk0bXaSu/zA37e+pcJ8jrqp/xitYcBxPbOYuTWx1r5TAFBZRmxaoOZgvEpmEii/7LIHDL4sHxzGc57t3Onw9E1ze0OWR2YDw==' type='text/css' media='all' />
<link rel='stylesheet' id='print-css-4' href='http://s0.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1387483371g' type='text/css' media='print' />
<script type='text/javascript'>
/* <![CDATA[ */
var LoggedOutFollow = {"invalid_email":"Your subscription did not succeed, please try again with a valid email address."};
/* ]]> */
</script>
<script type='text/javascript' src='http://s2.wp.com/_static/??-eJyFkOsOwiAMhV/IymY08Y/xWXbpSJGbFFz06WVuGp3G/WoL3zmHInoPjbMRbRSKhXE1aYTEGCqZz4Bs59aKVyJzZBudWuQBVOeE4TqVRQAMyVBFXBuyT/gt1TuOBplz5I/bzyiyF8J+EVMYfdWcICDT7cu11k6C10mSZZF7ia1LETqntetFT63EONeY9FIE1HmZFoZ3z6Y/qtH28TljC3UyHqZ1juZQbotity83xUbdAeP9mKg='></script>
<link rel='stylesheet' id='all-css-0' href='http://s2.wp.com/wp-content/mu-plugins/highlander-comments/style.css?m=1377793621g' type='text/css' media='all' />
<!--[if lt IE 8]>
<link rel='stylesheet' id='highlander-comments-ie7-css'  href='http://s2.wp.com/wp-content/mu-plugins/highlander-comments/style-ie7.css?m=1351637563g&#038;ver=20110606' type='text/css' media='all' />
<![endif]-->
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://closingbraces.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://closingbraces.wordpress.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='First use of ObMimic for out-of-container testing of Servlets and Struts (Part&nbsp;2)' href='http://closingbraces.net/2007/06/27/firstobmimicuse2/' />
<link rel='next' title='Readme.txt or readme.html?' href='http://closingbraces.net/2007/08/07/readmetextorhtml/' />
<meta name="generator" content="WordPress.com" />
<link rel='canonical' href='http://closingbraces.net/2007/07/21/annotationsandinheritance/' />
<link rel='shortlink' href='http://wp.me/p2hLl-D' />
<link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/1.0/?format=json&amp;url=http%3A%2F%2Fclosingbraces.net%2F2007%2F07%2F21%2Fannotationsandinheritance%2F&amp;for=wpcom-auto-discovery" /><link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/1.0/?format=xml&amp;url=http%3A%2F%2Fclosingbraces.net%2F2007%2F07%2F21%2Fannotationsandinheritance%2F&amp;for=wpcom-auto-discovery" />
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Annotations + Inheritance = Confusion" />
<meta property="og:url" content="http://closingbraces.net/2007/07/21/annotationsandinheritance/" />
<meta property="og:description" content="Whilst Java annotations support an &quot;@Inherit&quot; meta-annotation to specify whether the annotation is inherited or not, some annotations specify far more complex annotation-specific interactions with ..." />
<meta property="article:published_time" content="2007-07-21T17:25:59+00:00" />
<meta property="article:modified_time" content="2007-07-21T17:25:59+00:00" />
<meta property="article:author" content="http://closingbraces.net/author/closingbraces/" />
<meta property="og:site_name" content="Closing Braces" />
<meta property="og:image" content="http://1.gravatar.com/blavatar/bdb7bfdd8cad8c424a14498d7a1f1cf6?s=200" />
<meta name="twitter:site" content="@MikeKaufman" />
<meta name="twitter:image" content="http://1.gravatar.com/blavatar/bdb7bfdd8cad8c424a14498d7a1f1cf6?s=240" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="@MikeKaufman" />
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom" />
<link rel="shortcut icon" type="image/x-icon" href="http://1.gravatar.com/blavatar/b7c067603ea4b451cb710d27e328bb7a?s=16" sizes="16x16" />
<link rel="icon" type="image/x-icon" href="http://1.gravatar.com/blavatar/b7c067603ea4b451cb710d27e328bb7a?s=16" sizes="16x16" />
<link rel="apple-touch-icon-precomposed" href="http://1.gravatar.com/blavatar/bdb7bfdd8cad8c424a14498d7a1f1cf6?s=114" />
<link rel='openid.server' href='http://closingbraces.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='http://closingbraces.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="http://closingbraces.net/osd.xml" title="Closing Braces" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wordpress.com/opensearch.xml" title="WordPress.com" />

	<style type="text/css">
	.menu.primary li a {
		background-image:url("http://s0.wp.com/wp-content/themes/pub/freshy/images/menu/menu_triple.gif?m=1171163464g");
	}
	.menu.primary li a.first_menu {
		background-image:url("http://s0.wp.com/wp-content/themes/pub/freshy/images/menu/menu_start_triple.gif?m=1171163464g");
	}
	.menu.primary li a.last_menu {
		background-image:url("http://s0.wp.com/wp-content/themes/pub/freshy/images/menu/menu_end_triple.gif?m=1171163464g");
	}

	.description {
		color:#ADCF20;
	}
	#content .commentlist dd.author_comment {
		background-color:#a3cb00 !important;
	}
	html > body #content .commentlist dd.author_comment {
		background-color:#a3cb00 !important;
	}
	#content .commentlist dt.author_comment .date {
		color:#a3cb00 !important;
		border-color:#a3cb00 !important;
	}
	#content .commentlist .author_comment .author,
	#content .commentlist .author_comment .author a {
		color:#a3cb00 !important;
		border-color:#a3cb00 !important;
	}
	#sidebar h2 {
		color:#f78b0c;
		background-color:#FFFFFF;
		border-bottom-color:#f78b0c;
	}
	#sidebar {
		background-color:#FFFFFF;
	}
	*::-moz-selection {
		background-color:#FF3C00;
	}

	#content a:hover {
		border-bottom:1px dotted #FF3C00;
	}

	#sidebar a:hover,
	#sidebar .current_page_item li a:hover,
	#sidebar .current-cat li a:hover,
	#sidebar .current_page_item a,
	#sidebar .current-cat a ,
	.readmore,
	#content .postmetadata a
	{
		color : #FF3C00;
	}

	#title_image {
		margin:0;
		text-align:left;
		display:block;
		height:95px;
	}

	</style>

		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		<style type="text/css">
			.recentcomments a {
				display: inline !important;
				padding: 0 !important;
				margin: 0 !important;
			}

			table.recentcommentsavatartop img.avatar, table.recentcommentsavatarend img.avatar {
				border: 0px;
				margin: 0;
			}

			table.recentcommentsavatartop a, table.recentcommentsavatarend a {
				border: 0px !important;
				background-color: transparent !important;
			}

			td.recentcommentsavatarend, td.recentcommentsavatartop {
				padding: 0px 0px 1px 0px;
				margin: 0px;
			}

			td.recentcommentstextend {
				border: none !important;
				padding: 0px 0px 2px 10px;
			}

			.rtl td.recentcommentstextend {
				padding: 0px 10px 2px 0px;
			}

			td.recentcommentstexttop {
				border: none !important;
				padding: 0px 0px 0px 10px;
			}

			.rtl td.recentcommentstexttop {
				padding: 0px 10px 0px 0px;
			}
		</style>
		<meta name="application-name" content="Closing Braces" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="After-hours notes and opinions on Java and system development" /><meta name="msapplication-task" content="name=Subscribe;action-uri=http://closingbraces.net/feed/;icon-uri=http://1.gravatar.com/blavatar/b7c067603ea4b451cb710d27e328bb7a?s=16" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="title" content="Annotations + Inheritance =&nbsp;Confusion | Closing Braces on WordPress.com" />
<meta name="description" content="Whilst Java annotations support an &quot;@Inherit&quot; meta-annotation to specify whether the annotation is inherited or not, some annotations specify far more complex annotation-specific interactions with Java&#039;s normal inheritance, hiding and overriding behaviour. This can easily become complex and confusing, especially given the variety of such rules, the use of natural-language descriptions to define them, and&hellip;" />

	<style type="text/css">
		#title_image {
			background-image: url( http://closingbraces.files.wordpress.com/2007/03/cropped-sunset_06.jpg );
		}
	</style>
<style type="text/css" id="syntaxhighlighteranchor"></style>
</head>
<body class="single single-post postid-39 single-format-standard mp6 highlander-enabled highlander-light">

<div id="page">
		<div id="wrapper">
		<!-- header -->
		<div id="header">
			<div id="title">
				<h1>
					<a href="http://closingbraces.net/">
						<span>Closing Braces</span>
					</a>
				</h1>
				<div class="description">
					<small>After-hours notes and opinions on Java and system development</small>
				</div>
			</div>
			<div id="title_image"></div>
		</div>

		<!-- main div -->
		<div id="frame">

		<!-- main menu -->
		<ul class="menu page-menu primary">
	<li class="page_item">
		<a class="first_menu" href="http://closingbraces.net/">
			Home		</a>
	</li>

	<li class="page_item"><a href="http://closingbraces.net/about/" title="About">About</a></li>
<li class="page_item"><a href="http://closingbraces.net/contactme/" title="Contact Me">Contact Me</a></li>

	<li class="last_menu">
		<!-- put an empty link to have the end of the menu anyway -->
		<a class="last_menu_off"></a>
	</li>
</ul>

		<hr style="display:none"/>

	<div id="content">

	
		
			<div class="post-39 post type-post status-publish format-standard hentry category-java" id="post-39">

				<h2>Annotations + Inheritance =&nbsp;Confusion</h2>

				<small class="date">
					<span class="date_day">21</span>
					<span class="date_month">07</span>
					<span class="date_year">2007</span>
				</small>

				<div class="entry">
					<p>When annotations were introduced into Java, their interaction with inheritance was kept very simple. Annotation types can&#8217;t extend/subclass each other, and the presence or absence of an &#8220;@Inherited&#8221; meta-annotation indicates whether or not the annotation is inherited by subclasses. Anything else is unspecified (such as how annotations on fields that are &#8220;hidden&#8221; should be treated).</p>
<p>Unfortunately, if <a href="http://jcp.org/en/jsr/detail?id=250">JSR 250 &#8220;Common Annotations&#8221;</a> is anything to go by, this seems to have proved rather too simplistic. The result is that these annotations have instead ended up specifying their own individual, often somewhat ad-hoc rules for how they interact with inheritance, hiding and overridding of fields and methods (or in some cases, leaving this behaviour entirely unspecified).</p>
<p>So on top of Java&#8217;s well-defined semantics for inheritance, overriding, and hiding, we now have annotations that use natural-language descriptions to specify their own rather different semantics.</p>
<p>Given the variety of situations that need to be covered, and the inevitable variation in quality, such rules can easily be incomplete, ambiguous, confusing, and even contradictory. Conversely, we also have annotations that do not adequately specify how inheritance affects them.</p>
<p>I&#8217;m guessing that this isn&#8217;t limited to the JSR 250 annotations &#8211; the same issues seem to be cropping up in other JSRs. For example, Bill Pugh recently mentioned this in an interview for the <a href="http://javaposse.com/index.php?post_id=234091">JavaPosse 132</a> podcast as being an issue affecting <a href="http://jcp.org/en/jsr/detail?id=305">JSR 305 &#8220;Annotations for Software Defect Detection&#8221;</a>.</p>
<p>Pretty much any annotation that can be applied to fields or methods is going to have to either address this in some manner, or leave lots of situations inadequately specified. As and when we get <a href="http://jcp.org/en/jsr/detail?id=308">JSR 308 &#8220;Annotations on Java Types&#8221;</a> there will be even more cases to consider (for example, annotations on method arguments).</p>
<p>The problems that arise from this include:</p>
<ul>
<li>When designing a new annotation, you have to sort out for yourself how it should interact with all possible inheritance, hiding and overriding scenarios for each element type that can use the annotation, and you have to document this adequately.</li>
<li>If the annotation needs processing at runtime, this can include having to accurately identify which fields and methods are and aren&#8217;t inherited, hidden, and overridden, whilst taking into account their modifiers, which combinations are illegal anyway etc. It ought to be far easier than this when you just want to find and process some particular annotation.</li>
<li>Even just making use of such annotations has plenty of potential banana-skins. If there&#8217;s any subclassing involved, you can&#8217;t rely on your understanding of the normal Java rules, or assume whatever you would consider to be reasonable, or learn one set of rules that apply to all annotations. Instead you need to understand each particular annotation&#8217;s individual rules and their interaction with the Java semantics.</li>
<li>This must surely limit the ability of IDEs and other tools to analyze the code (e.g. to show a method&#8217;s inherited annotations, warn about hidden/overridden annotations etc).</li>
</ul>
<p>The &#8220;Common Annotations&#8221; specification does acknowledge this issue and attempts to at least partially address it by giving a set of general guidelines for inheritance of annotations.</p>
<p>However, it isn&#8217;t entirely clear whether these guidelines are limited to the &#8220;common annotations&#8221; themselves or are intended to also govern other sets of annotations. In any case, they are only guidelines, and individual annotations remain free to deviate from them. In fact, despite a statement that &#8220;all annotations defined in this specification follow the guidelines defined above unless explicitly stated otherwise&#8221;, even the common annotations themselves seem to deviate from these guidelines more than they keep to them &#8211; one would be hard-pressed to discern any of the guidelines from looking at the annotations.</p>
<p>What&#8217;s more, where an individual annotation makes statements that differ from the guidelines, it is unclear whether the rest of the guidelines still apply, or exactly how the two sets of rules should be combined. For example, the guidelines define a certain treatment of inheritance without mentioning the &#8220;@Inherited&#8221; meta-annotation, and some of the annotations don&#8217;t have &#8220;@Inherited&#8221; but do have their own explicit inheritance rules. So if an annotation doesn&#8217;t include &#8220;@Inherited&#8221; and it&#8217;s description doesn&#8217;t describe inheritance, should it be taken as not being inherited or should it be taken as inherited as per the guidelines? What if it also deviates from some other aspect of the guidelines &#8211; should it still be inherited as per the guidelines or should it then be taken as not following the guidelines at all? How can you ever be sure?</p>
<p>As a prime example of all this, take the javax.annotation.Resource annotation:</p>
<ul>
<li>It isn&#8217;t marked as &#8220;@Inherited&#8221; even though superclasses must be examined, because it instead specifies its own rules for how it is inherited.</li>
<li>It doesn&#8217;t explicitly state that it doesn&#8217;t adhere to the guidelines, but it contradicts most of them.</li>
<li>At least one of the guidelines (class-level annotations as a short-hand for member-level annotations) is not mentioned or explicitly contradicted, but would make no sense for this particular annotation.</li>
<li>Its description talks about &#8220;all&#8221; uses of the annotation, but does not specify whether the annotation can or cannot be used on static fields, final fields, static methods etc.</li>
<li>Its description says that the annotation should be processed when present on superclass &#8220;private fields and methods&#8221; even where a subclass overrides the method. However, this does not say how it is affected by an &#8220;@Resource&#8221; annotation on the overridding method &#8211; especially if its details differ from those of the overridden method&#8217;s annotation. The wording implies that both annotations must be processed, but invoking an overridden implementation of a method seems highly inappropriate and &#8220;unsafe&#8221; even if it can somehow be done. It&#8217;s also quite pointless if the overriding &#8220;setter&#8221; implementation is then also called anyway. At best, this seems highly unexpected behaviour compared to the normal Java rules. Alternatively, if the guidelines or normal rules for method overriding apply, then it is unclear what the documentation is trying to specify.</li>
<li>There is no mention of how the annotation should be treated for &#8220;hidden&#8221; fields and methods.</li>
<li>The only code that is provided is the annotation declaration itself. Although the annotation describes non-trivial rules for which fields and methods need to be processed, no reference implementation is provided for actually applying those rules (e.g. finding the relevant fields and methods of an object, or determining whether a given field or method does or does not have a relevant annotation to be processed). If you look around, you&#8217;ll find various application servers and maybe other products that include code for processing JSR 250 annotations (usually with lots of other baggage for their own particular environment). In particular there is a joint Interface21 and BEA <a href="http://www.interface21.com/pitchfork">Pitchfork</a> project that provides this as a Spring &#8220;add on&#8221;. But why do we need more than a single, standard implementation if there is only one set of rules for the annotation?</li>
</ul>
<p>Now maybe I&#8217;m being too pedantic (as usual!), or have misunderstood some of the rules, or have missed how they all fit together. But that&#8217;s really the point &#8211; I&#8217;ve looked at this over and over again, and I&#8217;m still struggling to be sure of its complete and precise meaning for all situations.</p>
<p>Similarly, one can argue that the documentation for this particular annotation just needs some clarifications. But if each annotation has its own rules and needs to cover all inheritance/hiding/overriding situations, then it&#8217;s inevitable that many of them will be inadequately specified.</p>
<p>And that&#8217;s just one annotation, from one specification. What happens once JSR 305 and JSR 308 are in place and people start inventing more and more annotations and using them in combination? Just how many different variations on &#8220;inheritance&#8221; can we cope with?</p>
<p>So, what can we do about this?</p>
<p>Ideally, I think I&#8217;d like to see:</p>
<ul>
<li>A more comprehensive set of meta-annotations to more precisely specify an annotation&#8217;s valid targets and its interaction with inheritance, hiding and overriding. The aim would be take at least the bulk of this out of natural-language descriptions and guesswork, and turn it into a defined set of choices with precise meanings and values &#8211; whilst also allowing making it programmatically accessible and inspectible by tools. It ought to be possible to come up with a relatively small set of meta-annotations that cover most of the main options. There will always be some requirements beyond this, but it would at least get the bulk of stuff out of the way.</li>
<li>Reflection facilities for querying objects, fields and methods for an annotation taking into account the enhanced meta-annotations, with the aim of making the runtime finding and processing of an object&#8217;s annotations much simpler and more standardized. Maybe this could also include a mechanism for individual annotations to impose any additional non-standard rules that they require.</li>
<li>Corresponding enhancements to <a href="http://jcp.org/en/jsr/detail?id=269">JSR 269 &#8220;Pluggable Annotation Processing API&#8221;</a> so that its implementations use the enhanced meta-annotations to decide which annotations need processing.</li>
<li>Review and revision of any parts of the &#8220;Common Annotation&#8221; guidelines not replaced by the enhanced meta-annotations, and their relocation into the overall annotation rules (that is, as part of Java Language Specification or an updated <a href="http://jcp.org/en/jsr/detail?id=175">JSR 175 &#8220;A Metadata Facility for the JavaTM Programming Language&#8221;</a>).</li>
</ul>
<p>Oh well, there&#8217;s yet another nice little project to add to my &#8220;if I ever have time and funding&#8221; list&#8230;</p>
<p>In the meantime, here are my personal suggestions for anyone developing annotations under the present regime:</p>
<ul>
<li>When creating an annotation, try to limit it to either not being inherited or being inherited exactly as defined by the @Inherit meta-annotation, if this is at all possible &#8211; even if that seems less than ideal for that particular annotation.</li>
<li>Failing that, try to keep to the guidelines given by JSR 250 Common Annotations, and explicitly reference them.</li>
<li>If you really, really need to have different semantics, I&#8217;d urge you to be really, really careful to provide a precise description that spells out exactly how the annotation should be interpreted for all possible inheritence, hiding and overriding situations.</li>
<li>If there&#8217;s any likelihood that anybody else will ever need to find and process the annotation, any rules for how the annotation is inherited should be backed up by actual code that implements those rules. For example, code to take a class or class member and return the instance of the annotation that should be processed for it (if any), or to find all members of a given object for which the annotation is present and should be processed.</li>
</ul>
<p>Does anyone else have any good or bad experiences with these issues, or any other ideas for how this could be tackled?</p>
<div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"><div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon-text sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-twitter"><a rel="nofollow" class="share-twitter sd-button share-icon" href="http://closingbraces.net/2007/07/21/annotationsandinheritance/?share=twitter" title="Click to share on Twitter" id="sharing-twitter-39"><span>Twitter</span></a></li><li class="share-linkedin"><a rel="nofollow" class="share-linkedin sd-button share-icon" href="http://closingbraces.net/2007/07/21/annotationsandinheritance/?share=linkedin" title="Click to share on LinkedIn" id="sharing-linkedin-39"><span>LinkedIn</span></a></li><li class="share-facebook"><a rel="nofollow" class="share-facebook sd-button share-icon" href="http://closingbraces.net/2007/07/21/annotationsandinheritance/?share=facebook" title="Share on Facebook" id="sharing-facebook-39"><span>Facebook</span></a></li><li class="share-google-plus-1"><a rel="nofollow" class="share-google-plus-1 sd-button share-icon" href="http://closingbraces.net/2007/07/21/annotationsandinheritance/?share=google-plus-1" title="Click to share on Google+" id="sharing-google-39"><span>Google</span></a></li><li class="share-email"><a rel="nofollow" class="share-email sd-button share-icon" href="http://closingbraces.net/2007/07/21/annotationsandinheritance/?share=email" title="Click to email this to a friend"><span>Email</span></a></li><li class="share-end"></li></ul></div></div></div><div class='sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded' id='like-post-wrapper-544939-39-53d05304c3d57' data-src='//widgets.wp.com/likes/#blog_id=544939&amp;post_id=39&amp;origin=closingbraces.wordpress.com&amp;obj_id=544939-39-53d05304c3d57' data-name='like-post-frame-544939-39-53d05304c3d57'><h3 class='sd-title'>Like this:</h3><div class='likes-widget-placeholder post-likes-widget-placeholder' style='height:55px'><span class='button'><span>Like</span></span> <span class="loading">Loading...</span></div><span class='sd-text-color'></span><a class='sd-link-color'></a></div>
<div id='jp-relatedposts' class='jp-relatedposts' >
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div></div>				</div>

				
			</div>

			<p class="navigation">
				<span class="alignleft">&laquo; <a href="http://closingbraces.net/2007/06/27/firstobmimicuse2/" rel="prev">First use of ObMimic for out-of-container testing of Servlets and Struts (Part&nbsp;2)</a></span>
				<span class="alignright"><a href="http://closingbraces.net/2007/08/07/readmetextorhtml/" rel="next">Readme.txt or readme.html?</a> &raquo;</span>
			</p>
			<br/>
			<h3>Actions</h3>
			<ul class="postmetadata">
					<li class="with_icon"><img class="icon" src="http://s0.wp.com/wp-content/themes/pub/freshy/images/icons/feed-icon-16x16.gif?m=1171163464g" alt="rss" />&nbsp;<a href='http://closingbraces.net/2007/07/21/annotationsandinheritance/feed/'>Comments RSS</a></li>
							<li class="with_icon"><img class="icon" src="http://s0.wp.com/wp-content/themes/pub/freshy/images/icons/trackback-icon-16x16.gif?m=1171163464g" alt="trackback" />&nbsp;<a href="http://closingbraces.net/2007/07/21/annotationsandinheritance/trackback/ " rel="trackback" title="make a trackback">Trackback</a></li>
							</ul>

			<h3>Information</h3>
			<ul class="postmetadata">
					<!--<li>Author : closingbraces</li>-->
					<li>Date : July 21, 2007</li>
									<li></li>
					<li>Categories : <a href="http://closingbraces.net/category/java/" rel="category tag">java</a></li>
							</ul>

			
								<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2007/07/21/annotationsandinheritance/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://closingbraces.net/wp-comments-post.php" method="post" id="commentform" class="comment-form">
																										


												<input type="hidden" id="highlander_comment_nonce" name="highlander_comment_nonce" value="790d192555" /><input type="hidden" name="_wp_http_referer" value="/2007/07/21/annotationsandinheritance/" />
<input type="hidden" name="hc_post_as" id="hc_post_as" value="guest" />

<div class="comment-form-field comment-textarea">
	<label for="comment">Enter your comment here...</label>
	<div id="comment-form-comment"><textarea id="comment" name="comment" title="Enter your comment here..."></textarea></div>
</div>

<div id="comment-form-identity">

	<div id="comment-form-nascar">
		<p>Fill in your details below or click an icon to log in:</p>
		<ul>
			<li class="selected" style="display:none;">
				<a href="#comment-form-guest" id="postas-guest" title="Guest">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:WordPress.com" id="postas-wordpress" title="WordPress.com">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Twitter" id="postas-twitter" title="Twitter">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Facebook" id="postas-facebook" title="Facebook">
					<span></span>
				</a>
			</li>
			<li>
		</ul>
	</div>

	<div id="comment-form-guest" class="comment-form-service selected">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
<a href="https://gravatar.com/site/signup/" target="_blank">				<img src="" alt="Gravatar" width="25" class="no-grav" />
</a>			</div>

				<div class="comment-form-fields">
				<div class="comment-form-field comment-form-email">
					<label for="email">Email <span class="nopublish">(Address never made public)</span></label>
					<div class="comment-form-input"><input id="email" name="email" type="email" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-author">
					<label for="author">Name</label>
					<div class="comment-form-input"><input id="author" name="author" type="text" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-url">
					<label for="url">Website</label>
					<div class="comment-form-input"><input id="url" name="url" type="text" value="" /></div>
				</div>
			</div>
	
		</div>
	</div>

	<div id="comment-form-wordpress" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://s2.wp.com/wp-content/mu-plugins/highlander-comments/images/wplogo.png?m=1391188133g" alt="WordPress.com Logo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="wp_avatar" id="wordpress-avatar" class="comment-meta-wordpress" value="" />
				<input type="hidden" name="wp_user_id" id="wordpress-user_id" class="comment-meta-wordpress" value="" />
				<input type="hidden" name="wp_access_token" id="wordpress-access_token" class="comment-meta-wordpress" value="" />
				<p class="comment-form-posting-as pa-wordpress"><strong></strong> You are commenting using your WordPress.com account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'wordpress' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-twitter" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="" alt="Twitter picture" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="twitter_avatar" id="twitter-avatar" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_user_id" id="twitter-user_id" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_access_token" id="twitter-access_token" class="comment-meta-twitter" value="" />
				<p class="comment-form-posting-as pa-twitter"><strong></strong> You are commenting using your Twitter account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'twitter' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-facebook" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="" alt="Facebook photo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="fb_avatar" id="facebook-avatar" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_user_id" id="facebook-user_id" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_access_token" id="facebook-access_token" class="comment-meta-facebook" value="" />
				<p class="comment-form-posting-as pa-facebook"><strong></strong> You are commenting using your Facebook account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'facebook' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-googleplus" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="" alt="Google+ photo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="googleplus_avatar" id="googleplus-avatar" class="comment-meta-googleplus" value="" />
				<input type="hidden" name="googleplus_user_id" id="googleplus-user_id" class="comment-meta-googleplus" value="" />
				<input type="hidden" name="googleplus_access_token" id="googleplus-access_token" class="comment-meta-googleplus" value="" />
				<p class="comment-form-posting-as pa-googleplus"><strong></strong> You are commenting using your Google+ account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'googleplus' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>


	<div id="comment-form-load-service" class="comment-form-service">
		<div class="comment-form-posting-as-cancel"><a href="javascript:HighlanderComments.cancelExternalWindow();">Cancel</a></div>
		<p>Connecting to %s</p>
	</div>

	
</div>

<script type="text/javascript">
var highlander_expando_javascript = function(){
	var input = document.createElement( 'input' ),
	    comment = jQuery( '#comment' );

	if ( 'placeholder' in input ) {
		comment.attr( 'placeholder', jQuery( '.comment-textarea label' ).remove().text() );
	}

	// Expando Mode: start small, then auto-resize on first click + text length
	jQuery( '#comment-form-identity' ).hide();
	jQuery( '#comment-form-subscribe' ).hide();
	jQuery( '#commentform .form-submit' ).hide();

	comment.css( { 'height':'10px' } ).one( 'focus', function() {
		var timer = setInterval( HighlanderComments.resizeCallback, 10 )
		jQuery( this ).animate( { 'height': HighlanderComments.initialHeight } ).delay( 100 ).queue( function(n) { clearInterval( timer ); HighlanderComments.resizeCallback(); n(); } );
		jQuery( '#comment-form-identity' ).slideDown();
		jQuery( '#comment-form-subscribe' ).slideDown();
		jQuery( '#commentform .form-submit' ).slideDown();
	});
}
jQuery(document).ready( highlander_expando_javascript );
</script>

<div id="comment-form-subscribe">
	<p class="comment-subscription-form"><input type="checkbox" name="subscribe" id="subscribe" value="subscribe" style="width: auto;" tabindex="6"/> <label class="subscribe-label" id="subscribe-label" for="subscribe" style="display: inline;">Notify me of follow-up comments via email.</label></p><p class="post-subscription-form"><input type="checkbox" name="subscribe_blog" id="subscribe_blog" value="subscribe" style="width: auto;" tabindex="7"/> <label class="subscribe-label" id="subscribe-blog-label" for="subscribe_blog"  style="display: inline;">Notify me of new posts via email.</label></p></div>

												<p class="form-submit">
							<input name="submit" type="submit" id="comment-submit" value="Post Comment" />
							<input type='hidden' name='comment_post_ID' value='39' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="fd074fa863" /></p>
<input type="hidden" name="genseq" value="1406161668" />
<p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="132"/></p>					</form>
							</div><!-- #respond -->
			<div style="clear: both"></div>
		
	<!-- nothing found -->
	
	</div>

	<hr style="display:none"/>

	<!-- sidebar -->
	
	<div id="sidebar">
				<div>
		<div id="search-2" class="widget widget_search"><form method="get" id="searchform" action="http://closingbraces.net/">
<p>
<input size="12" type="text" value="" name="s" id="s" /><input class="btn" type="submit" id="searchsubmit" value="Search" />
</p>
</form>
</div><div id="text-4" class="widget widget_text"><h2 class="title">Tips Welcome</h2>			<div class="textwidget"><p>You can tip me with bitcoin:</p>
<p><a href="https://blockchain.info/address/15P4h9SWjfzGRfL6mRSG4uEKv8q8hZ82pX"><img src="http://closingbraces.files.wordpress.com/2014/02/closingbracestipqrcode.png" alt="QR code for bitcoin tip to ClosingBraces at 15P4h9SWjfzGRfL6mRSG4uEKv8q8hZ82pX" title="QR code for bitcoin tip to ClosingBraces at 15P4h9SWjfzGRfL6mRSG4uEKv8q8hZ82pX" width="82" height="82" /></a></p>
<p><small>15P4h9SWjfzGRfL6mRSG4uEKv8q8hZ82pX</small></p>
</div>
		</div><div id="rss_links-3" class="widget widget_rss_links"><h2 class="title">RSS Feeds</h2><p class="size-small"><a class="feed-image-link" href="http://closingbraces.net/feed/" title="Subscribe to Posts"><img src="http://closingbraces.net/i/rss/orange-small.png" alt="RSS Feed" /></a>&nbsp;<a href="http://closingbraces.net/feed/" title="Subscribe to Posts">RSS - Posts</a></p><p class="size-small"><a class="feed-image-link" href="http://closingbraces.net/comments/feed/" title="Subscribe to Comments"><img src="http://closingbraces.net/i/rss/orange-small.png" alt="RSS Feed" /></a>&nbsp;<a href="http://closingbraces.net/comments/feed/" title="Subscribe to Comments">RSS - Comments</a></p>
</div><div id="categories-1" class="widget widget_categories"><h2 class="title">Categories</h2><select name='cat' id='cat' class='postform' >
	<option value='-1'>Select Category</option>
	<option class="level-0" value="74558">Development Tools&nbsp;&nbsp;(7)</option>
	<option class="level-0" value="108937">FP&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="1017">java&nbsp;&nbsp;(44)</option>
	<option class="level-0" value="4865906">JspWeaver&nbsp;&nbsp;(2)</option>
	<option class="level-0" value="1246431">ObMimic&nbsp;&nbsp;(11)</option>
	<option class="level-0" value="12918">Servlets&nbsp;&nbsp;(17)</option>
	<option class="level-0" value="12">Testing&nbsp;&nbsp;(17)</option>
	<option class="level-0" value="1">Uncategorized&nbsp;&nbsp;(15)</option>
</select>

<script type='text/javascript'>
/* <![CDATA[ */
	var dropdown = document.getElementById("cat");
	function onCatChange() {
		if ( dropdown.options[dropdown.selectedIndex].value > 0 ) {
			location.href = "http://closingbraces.net/?cat="+dropdown.options[dropdown.selectedIndex].value;
		}
	}
	dropdown.onchange = onCatChange;
/* ]]> */
</script>

</div><div id="top-posts-2" class="widget widget_top-posts"><h2 class="title">Top Posts</h2><ul><li><a href="http://closingbraces.net/2008/11/11/javastringtrim/" class="bump-view" data-bump-view="tp">Java&#039;s String.trim has a strange idea of whitespace </a></li>
<li><a href="http://closingbraces.net/2011/12/17/scanner-with-z-regex/" class="bump-view" data-bump-view="tp">Beware of using java.util.Scanner with &quot;/z&quot;</a></li>
<li><a href="http://closingbraces.net/2009/01/31/glassfishreload/" class="bump-view" data-bump-view="tp">Forcing Glassfish V2 to reload an auto-deployed web-application</a></li>
<li><a href="http://closingbraces.net/2007/05/13/jarclasspathandindex/" class="bump-view" data-bump-view="tp">Executable Jar Class-Path and INDEX.LST</a></li>
<li><a href="http://closingbraces.net/2007/02/11/encodeurlandencoderedirecturl/" class="bump-view" data-bump-view="tp">Difference between HttpServletResponse.encodeURL and encodeRedirectURL</a></li>
</ul></div><div id="recent-comments-2" class="widget widget_recent_comments"><h2 class="title">Recent Comments</h2>				<ul id="recentcomments">
											<li class="recentcomments">
							<a href='http://closingbraces.net/2013/08/02/portabilitytesting-2/' rel='external nofollow' class='url'>Some more testing against different JDKs&#8230; | Closing Braces</a> on <a href="http://closingbraces.net/2007/10/07/portabilitytesting/#comment-5212">Some specific issues from ObMimic portability&nbsp;testing</a>						</li>

												<li class="recentcomments">
							<a href='http://closingbraces.net/2013/07/24/obmimic-1-0-beta-9/' rel='external nofollow' class='url'>ObMimic 1.0 Beta 9 Released | Closing Braces</a> on <a href="http://closingbraces.net/2007/06/27/firstobmimicuse2/#comment-5202">First use of ObMimic for out-of-container testing of Servlets and Struts (Part&nbsp;2)</a>						</li>

												<li class="recentcomments">
							<a href='http://closingbraces.net/2013/07/24/obmimic-1-0-beta-9/' rel='external nofollow' class='url'>ObMimic 1.0 Beta 9 Released | Closing Braces</a> on <a href="http://closingbraces.net/2007/06/04/firstobmimicuse1/#comment-5201">Experiments with out-of-container testing of Servlet code using ObMimic (Part&nbsp;1)</a>						</li>

												<li class="recentcomments">
							<a href='http://closingbraces.net/2013/07/24/obmimic-1-0-beta-9/' rel='external nofollow' class='url'>ObMimic 1.0 Beta 9 Released | Closing Braces</a> on <a href="http://closingbraces.net/2013/06/03/obmimic-public-beta/#comment-5200">ObMimic Public Beta for Out-of-Container Servlet&nbsp;Testing</a>						</li>

												<li class="recentcomments">
							manoj on <a href="http://closingbraces.net/2011/07/04/enum-as-singleton/#comment-5147">Java Enum as Singleton: Good or&nbsp;Bad?</a>						</li>

										</ul>
				</div><div id="archives-2" class="widget widget_archive"><h2 class="title">Archives</h2>		<select name="archive-dropdown" onchange='document.location.href=this.options[this.selectedIndex].value;'>
			<option value="">Select Month</option>

				<option value='http://closingbraces.net/2013/11/'> November 2013 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2013/08/'> August 2013 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2013/07/'> July 2013 &nbsp;(2)</option>
	<option value='http://closingbraces.net/2013/06/'> June 2013 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2011/12/'> December 2011 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2011/07/'> July 2011 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2010/12/'> December 2010 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2010/07/'> July 2010 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2010/04/'> April 2010 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2010/01/'> January 2010 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2009/11/'> November 2009 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2009/10/'> October 2009 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2009/08/'> August 2009 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2009/04/'> April 2009 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2009/03/'> March 2009 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2009/01/'> January 2009 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2008/11/'> November 2008 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2008/10/'> October 2008 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2008/08/'> August 2008 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2008/07/'> July 2008 &nbsp;(2)</option>
	<option value='http://closingbraces.net/2008/06/'> June 2008 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2008/05/'> May 2008 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2008/04/'> April 2008 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2008/03/'> March 2008 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2008/02/'> February 2008 &nbsp;(2)</option>
	<option value='http://closingbraces.net/2008/01/'> January 2008 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2007/12/'> December 2007 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2007/11/'> November 2007 &nbsp;(2)</option>
	<option value='http://closingbraces.net/2007/10/'> October 2007 &nbsp;(2)</option>
	<option value='http://closingbraces.net/2007/09/'> September 2007 &nbsp;(2)</option>
	<option value='http://closingbraces.net/2007/08/'> August 2007 &nbsp;(3)</option>
	<option value='http://closingbraces.net/2007/07/'> July 2007 &nbsp;(1)</option>
	<option value='http://closingbraces.net/2007/06/'> June 2007 &nbsp;(3)</option>
	<option value='http://closingbraces.net/2007/05/'> May 2007 &nbsp;(2)</option>
	<option value='http://closingbraces.net/2007/04/'> April 2007 &nbsp;(3)</option>
	<option value='http://closingbraces.net/2007/03/'> March 2007 &nbsp;(2)</option>
	<option value='http://closingbraces.net/2007/02/'> February 2007 &nbsp;(5)</option>
	<option value='http://closingbraces.net/2007/01/'> January 2007 &nbsp;(4)</option>
	<option value='http://closingbraces.net/2006/12/'> December 2006 &nbsp;(3)</option>
		</select>
</div><div id="text-3" class="widget widget_text"><h2 class="title">Notices</h2>			<div class="textwidget"><p>The content of articles in this blog, excluding any comments on them, are licensed under the <a rel="license" href="http://creativecommons.org/licenses/by/2.0/uk/">Creative Commons Attribution 2.0 UK: England &amp; Wales License</a> and are copyright Â© 2007-2014 Mike Kaufman.<a rel="license" href="http://creativecommons.org/licenses/by/2.0/uk/"><br><img alt="Creative Commons License" style="border-width:0;" src="http://closingbraces.files.wordpress.com/2007/03/cc.png"></a></p>
</div>
		</div>		</div>
	</div>

	<br style="clear:both" /><!-- without this little <br /> NS6 and IE5PC do not stretch the frame div down to encopass the content DIVs -->
</div>

<!-- footer -->

		<hr style="display:none"/>

		<div id="footer">
			<small class="footer_content">
			<a href="http://wordpress.com/?ref=footer_blog">Blog at WordPress.com</a>. <a href="https://wordpress.com/themes/freshy/" title="Learn more about this theme">The Freshy Theme</a>.			</small>
		</div>

	</div> <!--- end of the <div id="wrapper"> (from header.php) -->
</div> <!--- end of the <div id="page"> (from header.php) -->

	<div style="display:none">
	</div>
<script type='text/javascript'>
/* <![CDATA[ */
var HighlanderComments = {"loggingInText":"Logging In\u2026","submittingText":"Posting Comment\u2026","postCommentText":"Post Comment","connectingToText":"Connecting to %s","commentingAsText":"%1$s: You are commenting using your %2$s account.","logoutText":"Log Out","loginText":"Log In","connectURL":"http:\/\/closingbraces.wordpress.com\/public.api\/connect\/?action=request","logoutURL":"https:\/\/closingbraces.wordpress.com\/wp-login.php?action=logout&_wpnonce=636f2adc44","homeURL":"http:\/\/closingbraces.net\/","postID":"39","gravDefault":"mystery","enterACommentError":"Please enter a comment","enterEmailError":"Please enter your email address here","invalidEmailError":"Invalid email address","enterAuthorError":"Please enter your name here","gravatarFromEmail":"This picture will show whenever you leave a comment. Click to customize it.","logInToExternalAccount":"Log in to use details from one of these accounts.","change":"Change","changeAccount":"Change Account","comment_registration":"","userIsLoggedIn":"","isJetpack":"0"};
/* ]]> */
</script>
<script type='text/javascript' src='http://s1.wp.com/_static/??/wp-content/js/jquery/jquery.autoresize.js,/wp-content/mu-plugins/highlander-comments/script.js?m=1403644162j'></script>

	<div id="bit" class="loggedout-follow-normal">
		<a class="bsub" href="javascript:void(0)"><span id='bsub-text'>Follow</span></a>
		<div id="bitsubscribe">

					<h3><label for="loggedout-follow-field">Follow &ldquo;Closing Braces&rdquo;</label></h3>

			<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="loggedout-follow">
			<p>Get every new post delivered to your Inbox.</p>

			<p id="loggedout-follow-error" style="display: none;"></p>

			
			<p><input type="email" name="email" value="Enter your email address" onfocus='this.value=(this.value=="Enter your email address") ? "" : this.value;' onblur='this.value=(this.value=="") ? "Enter email address" : this.value;'  id="loggedout-follow-field"/></p>

			<input type="hidden" name="action" value="subscribe"/>
			<input type="hidden" name="blog_id" value="544939"/>
			<input type="hidden" name="source" value="http://closingbraces.net/2007/07/21/annotationsandinheritance/"/>
			<input type="hidden" name="sub-type" value="loggedout-follow"/>

			<input type="hidden" id="_wpnonce" name="_wpnonce" value="eacd824c5a" /><input type="hidden" name="_wp_http_referer" value="/2007/07/21/annotationsandinheritance/" />
			<p id='bsub-subscribe-button'><input type="submit" value="Sign me up" /></p>
			</form>
					<div id='bsub-credit'><a href="http://wordpress.com/signup/?ref=lof">Powered by WordPress.com</a></div>
		</div><!-- #bitsubscribe -->
	</div><!-- #bit -->

	<script type="text/javascript">
		WPCOM_sharing_counts = {"http:\/\/closingbraces.net\/2007\/07\/21\/annotationsandinheritance\/":39}	</script>
		<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-twitter' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-linkedin' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomlinkedin', 'menubar=1,resizable=1,width=580,height=450' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-facebook' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-google-plus-1' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomgoogle-plus-1', 'menubar=1,resizable=1,width=480,height=550' );
				return false;
			});
		});
		</script>
			<div id="sharing_email" style="display: none;">
		<form action="/2007/07/21/annotationsandinheritance/" method="post">
			<label for="target_email">Send to Email Address</label>
			<input type="email" name="target_email" id="target_email" value="" />

			
				<label for="source_name">Your Name</label>
				<input type="text" name="source_name" id="source_name" value="" />

				<label for="source_email">Your Email Address</label>
				<input type="email" name="source_email" id="source_email" value="" />

			
			<div class="recaptcha" id="sharing_recaptcha"></div><input type="hidden" name="recaptcha_public_key" id="recaptcha_public_key" value="6LcYW8MSAAAAADBAuEH9yaPcF7lWh11Iq62ZKtoo" />
			<img style="float: right; display: none" class="loading" src="http://s2.wp.com/wp-content/mu-plugins/post-flair/sharing/images/loading.gif?m=1315610318g" alt="loading" width="16" height="16" />
			<input type="submit" value="Send Email" class="sharing_send" />
			<a href="#cancel" class="sharing_cancel">Cancel</a>

			<div class="errors errors-1" style="display: none;">
				Post was not sent - check your email addresses!			</div>

			<div class="errors errors-2" style="display: none;">
				Email check failed, please try again			</div>

			<div class="errors errors-3" style="display: none;">
				Sorry, your blog cannot share posts by email.			</div>
		</form>
	</div>
		<iframe src='http://widgets.wp.com/likes/master.html?ver=20140528#ver=20140528&amp;mp6=1' scrolling='no' id='likes-master' name='likes-master' style='display:none;'></iframe>
		<div id='likes-other-gravatars'><div class="likes-text"><span>%d</span> bloggers like this:</div><ul class="wpl-avatars sd-like-gravatars"></ul></div>
		<script type="text/javascript">
		//<![CDATA[
			var jetpackLikesWidgetQueue = [];
			var jetpackLikesWidgetBatch = [];
			var jetpackLikesMasterReady = false;

			function JetpackLikespostMessage( message, target ) {
				if ( "string" === typeof message ){
					try{
						message = JSON.parse( message );
					}
					catch(e) {
						return;
					}
				}

				pm( {
					target: target,
					type: 'likesMessage',
					data: message,
					origin: '*'
				} );
			}

			function JetpackLikesBatchHandler() {
				var requests = [];
				jQuery( 'div.jetpack-likes-widget-unloaded' ).each( function( i ) {
					if ( jetpackLikesWidgetBatch.indexOf( this.id ) > -1 )
						return;
					jetpackLikesWidgetBatch.push( this.id );
					var regex = /like-(post|comment)-wrapper-(\d+)-(\d+)-(\w+)/;
					var match = regex.exec( this.id );
					if ( ! match || match.length != 5 )
						return;

					var info = {
						blog_id: match[2],
						width:   this.width
					};

					if ( 'post' == match[1] ) {
						info.post_id = match[3];
					} else if ( 'comment' == match[1] ) {
						info.comment_id = match[3];
					}

					info.obj_id = match[4];

					requests.push( info );
				});

				if ( requests.length > 0 ) {
					JetpackLikespostMessage( { event: 'initialBatch', requests: requests }, window.frames['likes-master'] );
				}
			}

			function JetpackLikesMessageListener( event ) {
				if ( "undefined" == typeof event.event )
					return;

				if ( 'masterReady' == event.event ) {
					jQuery( document ).ready( function() {
						jetpackLikesMasterReady = true;

						var stylesData = {
								event: 'injectStyles'
						};

						if ( jQuery( 'iframe.admin-bar-likes-widget' ).length > 0 ) {
							JetpackLikespostMessage( { event: 'adminBarEnabled' }, window.frames[ 'likes-master' ] );

							stylesData.adminBarStyles = {
								background: jQuery( '#wpadminbar .quicklinks li#wp-admin-bar-wpl-like > a' ).css( 'background' ),
								isRtl: ( 'rtl' == jQuery( '#wpadminbar' ).css( 'direction' ) )
							};
						}

						if ( !window.addEventListener )
							jQuery( '#wp-admin-bar-admin-bar-likes-widget' ).hide();

						stylesData.textStyles = {
							color: jQuery( '.sd-text-color').css( 'color' ),
							fontFamily: jQuery( '.sd-text-color' ).css( 'font-family' ),
							fontSize: jQuery( '.sd-text-color' ).css( 'font-size' ),
							direction: jQuery( '.sd-text-color' ).css( 'direction' ),
							fontWeight: jQuery( '.sd-text-color' ).css( 'font-weight' ),
							fontStyle: jQuery( '.sd-text-color' ).css( 'font-style' ),
							textDecoration: jQuery( '.sd-text-color' ).css('text-decoration')
						};

						stylesData.linkStyles = {
							color: jQuery( '.sd-link-color' ).css('color'),
							fontFamily: jQuery( '.sd-link-color' ).css('font-family'),
							fontSize: jQuery( '.sd-link-color' ).css('font-size'),
							textDecoration: jQuery( '.sd-link-color' ).css('text-decoration'),
							fontWeight: jQuery( '.sd-link-color' ).css( 'font-weight' ),
							fontStyle: jQuery( '.sd-link-color' ).css( 'font-style' )
						};

						JetpackLikespostMessage( stylesData, window.frames[ 'likes-master' ] );

						JetpackLikesBatchHandler();

						jQuery( document ).on( 'inview', 'div.jetpack-likes-widget-unloaded', function() {
							jetpackLikesWidgetQueue.push( this.id );
						});
					});
				}

				if ( 'showLikeWidget' == event.event ) {
					jQuery( '#' + event.id + ' .post-likes-widget-placeholder'  ).fadeOut( 'fast', function() {
						jQuery( '#' + event.id + ' .post-likes-widget' ).fadeIn( 'fast', function() {
							JetpackLikespostMessage( { event: 'likeWidgetDisplayed', blog_id: event.blog_id, post_id: event.post_id, obj_id: event.obj_id }, window.frames['likes-master'] );
						});
					});
				}

				if ( 'clickReblogFlair' == event.event ) {
					wpcom_reblog.toggle_reblog_box_flair( event.obj_id );
				}

				if ( 'showOtherGravatars' == event.event ) {
					var $container = jQuery( '#likes-other-gravatars' );
					var $list = $container.find( 'ul' );

					$container.hide();
					$list.html( '' );

					$container.find( '.likes-text span' ).text( event.total );

					jQuery.each( event.likers, function( i, liker ) {
						$list.append( '<li class="' + liker.css_class + '"><a href="' + liker.profile_URL + '" class="wpl-liker" rel="nofollow" target="_parent"><img src="' + liker.avatar_URL + '" alt="' + liker.name + '" width="30" height="30" style="padding-right: 3px;" /></a></li>');
					} );

					var offset = jQuery( "[name='" + event.parent + "']" ).offset();

					$container.css( 'left', offset.left + event.position.left - 10 + 'px' );
					$container.css( 'top', offset.top + event.position.top - 33 + 'px' );

					var rowLength = Math.floor( event.width / 37 );
					var height = ( Math.ceil( event.likers.length / rowLength ) * 37 ) + 13;
					if ( height > 204 ) {
						height = 204;
					}

					$container.css( 'height', height + 'px' );
					$container.css( 'width', rowLength * 37 - 7 + 'px' );

					$list.css( 'width', rowLength * 37 + 'px' );

					$container.fadeIn( 'slow' );

					var scrollbarWidth = $list[0].offsetWidth - $list[0].clientWidth;
					if ( scrollbarWidth > 0 ) {
						$container.width( $container.width() + scrollbarWidth );
						$list.width( $list.width() + scrollbarWidth );
					}
				}
			}

			pm.bind( 'likesMessage', function(e) { JetpackLikesMessageListener(e); } );

			jQuery( document ).click( function( e ) {
				var $container = jQuery( '#likes-other-gravatars' );

				if ( $container.has( e.target ).length === 0 ) {
					$container.fadeOut( 'slow' );
				}
			});

			function JetpackLikesWidgetQueueHandler() {
				var wrapperID;
				if ( ! jetpackLikesMasterReady ) {
					setTimeout( JetpackLikesWidgetQueueHandler, 500 );
					return;
				}

				if ( jetpackLikesWidgetQueue.length > 0 ) {
					// We may have a widget that needs creating now
					var found = false;
					while( jetpackLikesWidgetQueue.length > 0 ) {
						// Grab the first member of the queue that isn't already loading.
						wrapperID = jetpackLikesWidgetQueue.splice( 0, 1 )[0];
						if ( jQuery( '#' + wrapperID ).hasClass( 'jetpack-likes-widget-unloaded' ) ) {
							found = true;
							break;
						}
					}
					if ( ! found ) {
						setTimeout( JetpackLikesWidgetQueueHandler, 500 );
						return;
					}
				} else if ( jQuery( 'div.jetpack-likes-widget-unloaded' ).length > 0 ) {
					// Grab any unloaded widgets for a batch request
					JetpackLikesBatchHandler();

					// Get the next unloaded widget
					wrapperID = jQuery( 'div.jetpack-likes-widget-unloaded' ).first()[0].id;
					if ( ! wrapperID ) {
						// Everything is currently loaded
						setTimeout( JetpackLikesWidgetQueueHandler, 500 );
						return;
					}
				}

				if ( 'undefined' === typeof wrapperID ) {
					setTimeout( JetpackLikesWidgetQueueHandler, 500 );
					return;
				}

				var $wrapper = jQuery( '#' + wrapperID );
				$wrapper.find( 'iframe' ).remove();

				if ( $wrapper.hasClass( 'slim-likes-widget' ) ) {
					$wrapper.find( '.post-likes-widget-placeholder' ).after( "<iframe class='post-likes-widget jetpack-likes-widget' name='" + $wrapper.data( 'name' ) + "' height='22px' width='68px' frameBorder='0' scrolling='no' src='" + $wrapper.data( 'src' ) + "'></iframe>" );
				} else {
					$wrapper.find( '.post-likes-widget-placeholder' ).after( "<iframe class='post-likes-widget jetpack-likes-widget' name='" + $wrapper.data( 'name' ) + "' height='55px' width='100%' frameBorder='0' src='" + $wrapper.data( 'src' ) + "'></iframe>" );
				}

				$wrapper.removeClass( 'jetpack-likes-widget-unloaded' ).addClass( 'jetpack-likes-widget-loading' );

				$wrapper.find( 'iframe' ).load( function( e ) {
					var $iframe = jQuery( e.target );
					$wrapper.removeClass( 'jetpack-likes-widget-loading' ).addClass( 'jetpack-likes-widget-loaded' );

					JetpackLikespostMessage( { event: 'loadLikeWidget', name: $iframe.attr( 'name' ), width: $iframe.width() }, window.frames[ 'likes-master' ] );

					if ( $wrapper.hasClass( 'slim-likes-widget' ) ) {
						$wrapper.find( 'iframe' ).Jetpack( 'resizeable' );
					}
				});
				setTimeout( JetpackLikesWidgetQueueHandler, 250 );
			}
			JetpackLikesWidgetQueueHandler();
		//]]>
		</script>
<script type='text/javascript' src='http://s1.wp.com/wp-content/mu-plugins/akismet-3.0/_inc/form.js?m=1404442431g'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var recaptcha_options = {"lang":"en"};
/* ]]> */
</script>
<script type='text/javascript' src='http://s2.wp.com/_static/??/wp-content/js/devicepx.js,/wp-includes/js/comment-reply.min.js,/wp-content/mu-plugins/post-flair/sharing/sharing.js?m=1399919068j'></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script><script src="//stats.wp.com/w.js?22" type="text/javascript"></script>
<script type="text/javascript">
st_go({'blog':'544939','v':'wpcom','tz':'1','user_id':'0','post':'39','subd':'closingbraces'});
ex_go({'crypt':'UE40eW5QN0p8M2Y/RE1TaVhzUzFMbjdWNHpwZGhTayxPSUFCMGNrd29+Smw0TDhnZmRTK0hlRi9QSGh6bi9GXVhBJWIlZlR5U1JMLU8/MkNtblkvY1c9dFJVd1t1NGItRFB+aTR4cF1DZlNiN0RYWVJiSi8lUSU3bHolcTlSLlNndWllZGFhU1t3K01RWG5ubk1KUE5NVz1fVj9fNW1yQWUucS4sWzVMZ0hhUE1PSEEsRFp1eV0wUm1xak4uTFZqZS49Tk5LeXBtUTZpMlksdCVDMlJrLDd8UFNxMi4zVG4tTFJbUU8lU0dvYm9xRTZHNz1MTFlFV1F8ZXd3YnUzKyw5LEhjRnNwbFZzYkRTdFBxSVt6SENhW0hRMHVpWTVxUltKZk1dWjNyMG41UjclZCtbT0R+PXJzdlJQbm1OY0RmTnF+W1ZtbEJ0LkcvLA=='});
addLoadEvent(function(){linktracker_init('544939',39);});
	</script>
<noscript><img src="http://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script></body>
</html>

